(this.webpackJsonpplangoab=this.webpackJsonpplangoab||[]).push([[0],{139:function(e,n,t){},140:function(e,n,t){},141:function(e,n,t){"use strict";t.r(n);var r=t(3),a=t(0),c=t.n(a),o=t(20),i=t.n(o),d=t(27),s=t(95);function l(e){var n=e.children;return Object(r.jsx)(d.a,{utils:s.a,children:n})}var u=t(18),b=t(19),j=t(183),O=t(191),f=t(170),v=t(173),h=t(182),p=t(187),I=t(13),y=t(28),m=t(88),g=Object(m.a)(new Date,-25).toISOString(),x=Object(y.b)({name:"user",initialState:{birthday:g,age:25,canWorkingholiday:!0},reducers:{updateBirthday:function(e,n){var t=n.payload.birthday;e.birthday=t,e.age=function(e){var n=new Date,t=new Date(e),r=n.getFullYear()-t.getFullYear(),a=n.getMonth()-t.getMonth();return(a<0||0===a&&n.getDate()<t.getDate())&&r--,r}(t)},toggleWorkingholiday:function(e,n){e.canWorkingholiday=!e.canWorkingholiday}}}),C=x.actions,S=C.updateBirthday,k=C.toggleWorkingholiday,w=x.reducer,P=function(e){return e.features.user},E=function(){var e=Object(I.b)(),n=c.a.useCallback((function(n){return e(S({birthday:n}))}),[e]),t=c.a.useCallback((function(){e(k())}),[e]),r=Object(I.c)(P);return{birth:r.birthday,age:r.age,setBirth:n,toggleWorkingholiday:t,canWorkingholiday:r.canWorkingholiday}};function D(){var e=Object(u.a)(["\n  display: flex;\n  gap: 1rem;\n  padding: 2rem;\n"]);return D=function(){return e},e}function A(){var e=E(),n=e.birth,t=e.age,a=e.setBirth,o=e.toggleWorkingholiday,i=e.canWorkingholiday,d=c.a.useCallback((function(e){e&&a(e.toISOString())}),[a]),s=c.a.useCallback((function(){o()}),[o]);return Object(r.jsx)(f.a,{children:Object(r.jsxs)(v.a,{children:[Object(r.jsx)("h2",{children:"Profile"}),Object(r.jsxs)(L,{children:[Object(r.jsx)(O.a,{alt:"you"}),Object(r.jsx)(h.a,{id:"age-text",label:"Your Age",disabled:!0,InputProps:{readOnly:!0},InputLabelProps:{shrink:!0},type:"number",value:t}),Object(r.jsx)(j.a,{disableFuture:!0,openTo:"year",format:"yyyy-MM-dd",label:"Date of birth",views:["year","month","date"],value:n,onChange:d}),Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{children:"with working holiday(TODO: move to template options)"}),Object(r.jsx)(p.a,{checked:i,onChange:s})]})]})]})})}var L=b.a.div(D());function M(){var e=Object(u.a)(["\n  display: inline-block;\n  height: 100%;\n  object-fit: contain;\n  background: white;\n  padding: .3rem;\n"]);return M=function(){return e},e}function R(){return Object(r.jsx)(W,{src:"/logo457_transparent.png",alt:"img"})}var W=b.a.img(M());function _(){var e=Object(u.a)(["\n  display: flex;\n  color: white;\n  font-size: 4rem;\n"]);return _=function(){return e},e}function T(){var e=Object(u.a)(["\n  height: 4rem;\n  width: 4rem;\n"]);return T=function(){return e},e}function B(){var e=Object(u.a)(["\n  padding: 5rem;\n  min-height: 30vh;\n  background: var(--main-color);\n  color: white;\n"]);return B=function(){return e},e}function N(){return Object(r.jsx)(F,{children:Object(r.jsxs)(V,{children:[Object(r.jsx)(G,{children:Object(r.jsx)(R,{})}),Object(r.jsx)("span",{children:"Plangoab"})]})})}var F=b.a.div(B()),G=b.a.div(T()),V=b.a.div(_()),H=t(176),U=t(190),Y=t(179),z=t(174);function J(e){var n=e.isOpen,t=e.onClose,a=e.children;return Object(r.jsxs)(U.a,{onClose:t,open:n,children:[Object(r.jsx)(Y.a,{children:"About Plangoab"}),Object(r.jsx)(z.a,{dividers:!0,children:a})]})}function K(){var e=Object(u.a)(["\n  display: grid;\n  gap: 2rem;\n"]);return K=function(){return e},e}function $(){return Object(r.jsxs)(q,{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"About"}),Object(r.jsx)("p",{children:"A web calendar for a person going abroad. Generating a suitable schedule and customizable."})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"How to use"}),Object(r.jsxs)("p",{children:["There are three sections.",Object(r.jsx)("br",{}),Object(r.jsx)("li",{children:"1. My calendar"}),Object(r.jsx)("li",{children:"2. Profile + Template Options"}),Object(r.jsx)("li",{children:"3. Template calendars"})]}),Object(r.jsxs)("p",{children:[Object(r.jsx)("p",{children:"Instruction"}),Object(r.jsx)("li",{children:'First, pick appropriate plans from a template calendar. Choose tab and story in a template calendar and clicking "Copy to my calendar" button.'}),Object(r.jsx)("li",{children:"And then stories are copied from a template calendar into my calendar."}),Object(r.jsx)("li",{children:"Edit my story and events in my calendar."})]})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"License"}),Object(r.jsx)("li",{children:"GPL-3.0"})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Author"}),Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:"https://github.com/snamiki1212",children:"GitHub:snamiki1212"})}),Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:"https://twitter.com/snamiki1212",children:"Twitter:snamiki1212"})}),Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:"https://snamiki1212.github.io",children:"Portfolio"})})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Source"}),Object(r.jsxs)("span",{children:["This page is managed at"," ",Object(r.jsx)("a",{href:"https://github.com/snamiki1212/plangoab",children:"GitHub"}),"."]})]})]})}var q=b.a.div(K()),Q=t(30),X=function(e){var n=c.a.useState(!!e),t=Object(Q.a)(n,2),r=t[0],a=t[1];return{isOpen:r,open:c.a.useCallback((function(){a(!0)}),[]),close:c.a.useCallback((function(){a(!1)}),[]),toggle:c.a.useCallback((function(){a((function(e){return!e}))}),[])}};function Z(){var e=Object(u.a)(["\n  margin-left: auto;\n"]);return Z=function(){return e},e}function ee(){var e=Object(u.a)(["\n  color: white;\n  font-size: 3rem;\n  padding: 1rem;\n"]);return ee=function(){return e},e}function ne(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  height: 6rem;\n  background: var(--main-color);\n  padding: 1rem;\n"]);return ne=function(){return e},e}function te(){var e=X(),n=e.isOpen,t=e.open,a=e.close;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(re,{children:[Object(r.jsx)(R,{}),Object(r.jsx)(ae,{children:"Plangoab"}),Object(r.jsx)(ce,{children:Object(r.jsx)(H.a,{variant:"contained",onClick:t,children:"About Plangoab"})})]}),Object(r.jsx)(J,{isOpen:n,onClose:a,children:Object(r.jsx)($,{})})]})}var re=b.a.div(ne()),ae=b.a.span(ee()),ce=b.a.div(Z()),oe=t(7),ie=t(189);function de(){return Object(ie.a)()}var se,le,ue,be,je,Oe,fe="FIELD",ve="storyId",he="order",pe="PRIVATE_COLLEGE_CALENDAR_ID",Ie="PUBLIC_COLLEGE_CALENDAR_ID",ye="RESOURCE_ID__SHARED__AGE",me="RESOURCE_ID__SHARED__LIMIT",ge=t(11),xe="#00008b",Ce="#8fbc8b",Se="#ffd700",ke=(se={},Object(ge.a)(se,fe,"Study VISA"),Object(ge.a)(se,"eventBorderColor",xe),se),we=(le={},Object(ge.a)(le,fe,"Co-op VISA"),Object(ge.a)(le,"eventBorderColor",xe),le),Pe=(ue={},Object(ge.a)(ue,fe,"Working Holiday VISA"),Object(ge.a)(ue,"eventBorderColor",xe),ue),Ee=(be={},Object(ge.a)(be,fe,"PGWP VISA"),Object(ge.a)(be,"eventBorderColor",xe),be),De=(je={},Object(ge.a)(je,fe,"Student"),Object(ge.a)(je,"eventBorderColor",xe),je),Ae=(Oe={},Object(ge.a)(Oe,fe,"Worker"),Object(ge.a)(Oe,"eventBorderColor",xe),Oe),Le={title:"Co-op VISA",backgroundColor:Ce},Me={title:"Study VISA",backgroundColor:Ce},Re={title:"PGWP VISA",backgroundColor:Ce},We={title:"Working Holiday VISA",backgroundColor:Ce},_e={title:"Ready for Working Holiday VISA",backgroundColor:"#e73758"},Te={title:"Status: Worker",eventBackgroundCoor:Se},Be={title:"Status: Student",eventBackgroundCoor:Se},Ne=function(e){var n,t,r=e.calendarId,a=e.storyId;return[(n={id:ye},Object(ge.a)(n,fe,"Age"),Object(ge.a)(n,ve,a),Object(ge.a)(n,he,0),Object(ge.a)(n,"calendarId",r),Object(ge.a)(n,"eventBorderColor",xe),n),(t={id:me},Object(ge.a)(t,fe,"Working Holiday"),Object(ge.a)(t,ve,a),Object(ge.a)(t,he,1),Object(ge.a)(t,"calendarId",r),Object(ge.a)(t,"eventBorderColor",xe),t)]},Fe=t(15),Ge=t(60),Ve=t(100),He=function(e){return"string"!==typeof e&&(e=e.toISOString()),e.split("T")[0]},Ue=function(e){return"string"!==typeof e&&(e=e.toISOString()),He(e).replace(/-[0-9][0-9]$/,"")},Ye=function(e){var n=e.startDate,t=e.storyId,r=e.calendarId,a=function(e,n){for(var t=[],r=e;r<=n;r++)t.push(r);return t}(new Date(n).getFullYear(),ze()),c=Je(n,t,r),o=a.map((function(e,a){var c=function(){n.setFullYear(e);var t=n.toISOString();return He(t)}(),o=Object(Ge.a)(new Date(c),11).toISOString(),i=He(o);return{id:de(),title:"Aage:".concat(a),start:c,end:i,storyId:t,resourceId:ye,extendedProps:{resourceId:ye,calendarId:r,storyId:t}}}));return[].concat(Object(Fe.a)(c),Object(Fe.a)(o))},ze=function(){var e=new Date;return Object(m.a)(e,10).getFullYear()},Je=function(e,n,t){var r=Object(m.a)(e,31),a=He(e.toISOString()),c=Object(Ge.a)(r,11),o=He(c.toISOString()),i=He(Object(m.a)(Object(Ve.a)(c,6),-1).toISOString());return[{id:de(),title:"Limitation till WorkingHoliday",start:a,end:o,resourceId:me,storyId:n,extendedProps:{resourceId:me,storyId:n,calendarId:t}},{id:de(),title:"Application Limit",start:a,end:i,storyId:n,resourceId:me,extendedProps:{storyId:n,resourceId:me,calendarId:t}}]},Ke=t(75),$e=function(e){var n=null!==e&&void 0!==e?e:{},t=n.id,r=n.calendarId,a=n.resourceId,c=n.storyId,o=n.title,i=n.start,d=n.end,s=Object(Ke.a)(n,["id","calendarId","resourceId","storyId","title","start","end"]),l=null!==c&&void 0!==c?c:de(),u=null!==a&&void 0!==a?a:de(),b=null!==o&&void 0!==o?o:"New Event",j=i?Ue(i):void 0,O=d?Ue(d):void 0;return Object(oe.a)({id:null!==t&&void 0!==t?t:de(),resourceId:u,storyId:l,title:b,start:j,end:O,extendedProps:{calendarId:r,storyId:l,resourceId:u}},s)},qe=function(e,n){var t=n.title,r=n.start?Ue(n.start):void 0,a=n.end?Ue(n.end):void 0;return Object.assign(Object(oe.a)({},e),void 0!==t&&{title:t},void 0!==r&&{start:r},void 0!==a&&{end:a})},Qe=Object(y.b)({name:"userCalendars",initialState:{calendars:[]},reducers:{removeCalendar:function(e,n){var t=n.payload.calendarId;e.calendars=e.calendars.filter((function(e){return e.id!==t}))},updateCalendars:function(e,n){var t=n.payload.calendars;e.calendars=t},pushResource:function(e,n){var t=n.payload,r=t.calendarId,a=t.storyId,c=t.resource,o=e.calendars.findIndex((function(e){return e.id===r}));if(-1===o)console.warn("cannot find calendar on updateResource",r);else{var i=e.calendars[o].stories.findIndex((function(e){return e.id===a}));-1===i?console.warn("cannot find story on updateResource",r):e.calendars[o].stories[i].resources.push(c)}},updateResources:function(e,n){var t=n.payload,r=t.calendarId,a=t.storyId,c=t.newResources,o=e.calendars.findIndex((function(e){return e.id===r}));if(-1===o)console.warn("cannot find calendar on updateResource",r);else{var i=e.calendars[o].stories.findIndex((function(e){return e.id===a}));-1===i?console.warn("cannot find story on updateResource",r):e.calendars[o].stories[i].resources=c}},removeResource:function(e,n){var t=n.payload,r=t.calendarId,a=t.resourceId,c=t.storyId,o=e.calendars.findIndex((function(e){return e.id===r}));if(-1===o)console.warn("cannot find calendar on removeResource",r);else{var i=e.calendars[o].stories.findIndex((function(e){return e.id===c}));-1===i?console.warn("cannot find story on removeResource",r):e.calendars[o].stories[i].resources=e.calendars[o].stories[i].resources.filter((function(e){return e.id!==a}))}},addStory:function(e,n){var t=n.payload,r=t.calendarId,a=t.story,c=e.calendars.findIndex((function(e){return e.id===r}));-1===c?console.warn("cannot find calendar on addStory",r):e.calendars[c].stories.push(a)},removeStory:function(e,n){var t=n.payload,r=t.calendarId,a=t.storyId,c=e.calendars.findIndex((function(e){return e.id===r}));-1===c?console.warn("cannot find calendar on removeStory",r):e.calendars[c].stories=e.calendars[c].stories.filter((function(e){return e.id!==a}))},updateStory:function(e,n){var t=n.payload,r=t.calendarId,a=t.storyId,c=t.newStory,o=e.calendars.findIndex((function(e){return e.id===r}));if(-1===o)console.warn("cannot find calendar on updateStory",r);else{var i=e.calendars[o].stories.findIndex((function(e){return e.id===a}));-1===i?console.warn("cannot find story on updateStory",r):e.calendars[o].stories[i]=c}},addEvent:function(e,n){var t=n.payload,r=t.calendarId,a=t.storyId,c=t.event,o=e.calendars.findIndex((function(e){return e.id===r}));if(-1===o)console.warn("cannot find calendar on addEvent",r);else{var i=e.calendars[o].stories.findIndex((function(e){return e.id===a}));-1===i?console.warn("cannot find story on addEvent",r):e.calendars[o].stories[i].events.push(c)}},removeEvent:function(e,n){var t=n.payload,r=t.calendarId,a=t.storyId,c=t.eventId,o=e.calendars.findIndex((function(e){return e.id===r}));if(-1===o)console.warn("cannot find calendar on removeEvent",r);else{var i=e.calendars[o].stories.findIndex((function(e){return e.id===a}));-1===i?console.warn("cannot find story on removeEvent",i):e.calendars[o].stories[i].events=e.calendars[o].stories[i].events.filter((function(e){return e.id!==c}))}},updateEvent:function(e,n){var t=n.payload,r=t.calendarId,a=t.storyId,c=t.eventId,o=t.newEvent,i=e.calendars.findIndex((function(e){return e.id===r}));if(-1===i)console.warn("cannot find calendar on updateStory",r);else{var d=e.calendars[i].stories.findIndex((function(e){return e.id===a}));if(-1===d)console.warn("cannot find story on updateStory",r);else{var s=e.calendars[i].stories[d].events.findIndex((function(e){return e.id===c}));-1===s?console.warn("cannot find event on updateEvent"):e.calendars[i].stories[d].events[s]=o}}},updateEventById:function(e,n){var t=n.payload,r=t.calendarId,a=t.storyId,c=t.eventId,o=t.params,i=e.calendars.findIndex((function(e){return e.id===r}));if(-1===i)console.warn("cannot find calendar on updateStory",r);else{var d=e.calendars[i].stories.findIndex((function(e){return e.id===a}));if(-1===d)console.warn("cannot find story on updateStory",r);else{var s=e.calendars[i].stories[d].events.findIndex((function(e){return e.id===c}));if(-1===s)console.warn("cannot find event on updateEvent");else{var l=e.calendars[i].stories[d].events[s],u=qe(l,o);e.calendars[i].stories[d].events[s]=u}}}}}}),Xe=Qe.actions,Ze=Xe.removeCalendar,en=Xe.updateCalendars,nn=Xe.pushResource,tn=(Xe.updateResources,Xe.removeResource),rn=Xe.addStory,an=Xe.removeStory,cn=Xe.updateStory,on=Xe.addEvent,dn=Xe.removeEvent,sn=Xe.updateEvent,ln=Xe.updateEventById,un=Qe.reducer,bn=function(e){return e.features.userCalendars.calendars[0]},jn=function(){var e=Object(I.b)(),n=Object(I.c)(bn),t=c.a.useCallback((function(n){var t,r=de(),a=function(e){var n=e.birth,t=e.calendarId,r=new Date(n),a="PROFILE_ID";return{id:a,calendarId:t,name:"Profile",resources:Ne({calendarId:t,storyId:a}),events:Ye({calendarId:t,storyId:a,startDate:r})}}({birth:n,calendarId:r}),c={id:(t={id:r,stories:[a]}).id,stories:t.stories};e(en({calendars:[c]}))}),[e]),r=c.a.useCallback((function(n){if(n.resource){var t=n.resource.extendedProps.storyId;if(t){var r=n.resource.extendedProps.calendarId;if(r){var a=$e({id:de(),resourceId:n.resource.id,calendarId:r,storyId:t,start:n.startStr,end:n.endStr});e(on({event:a,calendarId:r,storyId:t}))}else console.warn("Unexpected data not including calendarId.")}else console.warn("Unexpected data not including storyId.")}else console.warn("Unexpected data that info does not have resource.")}),[e]),a=c.a.useCallback((function(n){e(Ze({calendarId:n}))}),[e]),o=c.a.useMemo((function(){var e;return null!==(e=null===n||void 0===n?void 0:n.stories)&&void 0!==e?e:[]}),[n]),i=c.a.useMemo((function(){var e;return null!==(e=null===n||void 0===n?void 0:n.stories.flatMap((function(e){return e.events})))&&void 0!==e?e:[]}),[n]),d=c.a.useMemo((function(){var e;return null!==(e=null===n||void 0===n?void 0:n.stories.flatMap((function(e){return e.resources})))&&void 0!==e?e:[]}),[n]);return{init:t,select:r,remove:a,calendar:n,stories:o,events:i,resources:d}},On=t(98),fn=t(96),vn=t(102),hn=t(103),pn="MY_TIME_LINE_NAME",In={initialView:pn},yn={resourceGroupField:ve},mn=Object(ge.a)({},pn,{type:"resourceTimelineYear",duration:{year:15},buttonText:"TIME_LINE"}),gn={resourceOrder:he,resourcesInitiallyExpanded:!1},xn=[{field:fe}],Cn=Object(oe.a)(Object(oe.a)(Object(oe.a)(Object(oe.a)(Object(oe.a)(Object(oe.a)({views:mn,slotLabelFormat:[{year:"numeric"},{month:"numeric"}],resourceAreaColumns:xn},In),yn),{schedulerLicenseKey:"GPL-My-Project-Is-Open-Source"}),{nowIndicator:!0}),gn),{height:700});function Sn(e){return Object(r.jsx)(On.a,Object(oe.a)(Object(oe.a)({},Cn),{},{plugins:[hn.a,fn.a,vn.a]},e))}function kn(e){return Object(r.jsx)(Sn,Object(oe.a)(Object(oe.a)({},e),{}))}var wn=Object(y.b)({name:"storyModal",initialState:{story:null},reducers:{push:function(e,n){var t=n.payload;e.story=t},pop:function(e,n){e.story=null}}}),Pn=function(e){return!!e.ui.storyModal.story},En=function(e){return e.ui.storyModal.story},Dn=function(e){var n=e.ui.storyModal.story;if(!n)return null;var t=n.calendarId,r=n.storyId,a=e.features.userCalendars.calendars.findIndex((function(e){return e.id===t}));if(-1!==a)return e.features.userCalendars.calendars[a].stories.find((function(e){return e.id===r}));console.warn("cannot find calendar on removeStory",t)},An=wn.actions,Ln=An.push,Mn=An.pop,Rn=wn.reducer,Wn=Object(y.b)({name:"eventModal",initialState:{event:null},reducers:{push:function(e,n){var t=n.payload;e.event=t},pop:function(e,n){e.event=null}}}),_n=function(e){return!!e.ui.eventModal.event},Tn=function(e){return e.ui.eventModal.event},Bn=function(e){var n=e.ui.eventModal.event;if(!n)return null;var t=n.calendarId,r=n.storyId,a=n.eventId,c=e.features.userCalendars.calendars.findIndex((function(e){return e.id===t}));if(-1===c)console.warn("cannot find calendar on removeResource",t);else{var o=e.features.userCalendars.calendars[c].stories.findIndex((function(e){return e.id===r}));if(!(-1===o))return e.features.userCalendars.calendars[c].stories[o].events.find((function(e){return e.id===a}));console.warn("cannot find story on removeResource",t)}},Nn=Wn.actions,Fn=Nn.push,Gn=Nn.pop,Vn=Wn.reducer,Hn=function(){var e=Object(I.b)();return{remove:c.a.useCallback((function(n){var t=n.calendarId,r=n.storyId,a=n.eventId;window.confirm("Do you remove this story?")&&e(dn({calendarId:t,storyId:r,eventId:a}))}),[e]),update:c.a.useCallback((function(n,t,r){var a=qe(t,r);e(sn(Object(oe.a)(Object(oe.a)({},n),{},{newEvent:a})))}),[e]),updateById:c.a.useCallback((function(n,t){e(ln(Object(oe.a)(Object(oe.a)({},n),{},{params:t})))}),[e])}},Un=function(e){var n,t=null!==e&&void 0!==e?e:{},r=t.id,a=t.calendarId,c=t.storyId,o=Object(Ke.a)(t,["id","calendarId","storyId"]);return Object(oe.a)((n={id:null!==r&&void 0!==r?r:de(),calendarId:null!==a&&void 0!==a?a:de()},Object(ge.a)(n,ve,null!==c&&void 0!==c?c:de()),Object(ge.a)(n,he,1),Object(ge.a)(n,fe,"Field"),n),o)},Yn=function(e){return"from "+Ue(e.toISOString())},zn=function(e,n){if(n.name&&(e=Object(oe.a)(Object(oe.a)({},e),{},{name:n.name})),n.resources){var t=n.resources.reduce((function(n,t){var r=e.resources.findIndex((function(e){return e.id===t.id}));if(-1===r)return console.warn("not upsert feature on story yet"),n;var a=e.resources[r],c=Object(oe.a)(Object(oe.a)({},a),t);return[].concat(Object(Fe.a)(n),[c])}),[]);e=Object(oe.a)(Object(oe.a)({},e),{},{resources:t})}return n.calendarId&&(e=Object(oe.a)(Object(oe.a)({},e),{},{calendarId:n.calendarId,events:e.events.map((function(e){return Object(oe.a)(Object(oe.a)({},e),{},{calendarId:n.calendarId})})),resources:e.resources.map((function(e){return Object(oe.a)(Object(oe.a)({},e),{},{calendarId:n.calendarId})}))})),e},Jn=function(){var e=Object(I.b)();return{remove:c.a.useCallback((function(n){var t=n.calendarId,r=n.storyId;window.confirm("Do you remove this story?")&&e(an({storyId:r,calendarId:t}))}),[e]),update:c.a.useCallback((function(n,t,r){var a=zn(t,r);e(cn(Object(oe.a)(Object(oe.a)({},n),{},{newStory:a})))}),[e]),create:c.a.useCallback((function(n,t){var r=n.calendarId,a=function(e){var n=null!==e&&void 0!==e?e:{},t=n.id,r=n.calendarId,a=n.events,c=n.resources,o=n.name,i=null!==t&&void 0!==t?t:de(),d=null!==r&&void 0!==r?r:de(),s=de();return{id:i,calendarId:d,events:null!==a&&void 0!==a?a:[$e({id:s,storyId:i})],resources:null!==c&&void 0!==c?c:[Un({calendarId:d,storyId:i})],name:null!==o&&void 0!==o?o:"No Name"}}({calendarId:r});e(rn({calendarId:r,story:a}))}),[e])}},Kn="ADD_STORY_BUTTON",$n="REMOVE_CALENDAR_BUTTON",qn=t(74),Qn=t(175);function Xn(){var e=Object(u.a)(["\n  padding: 1rem;\n  text-align: right;\n"]);return Xn=function(){return e},e}function Zn(){var e=Object(u.a)(["\n  padding: 1rem;\n"]);return Zn=function(){return e},e}function et(){var e=Object(u.a)(["\n  border: none;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  gap: 1rem;\n  padding: 1rem;\n  margin: 1rem;\n  border: 1px solid lightgray;\n"]);return et=function(){return e},e}function nt(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n"]);return nt=function(){return e},e}function tt(e){var n=e.isOpen,t=e.onClose,a=Object(I.c)(En),o=null===a||void 0===a?void 0:a.calendarId,i=Object(I.c)(Dn),d=Object(qn.a)(),s=d.register,l=d.handleSubmit,u=Jn(),b=u.create,j=u.remove,O=u.update,f=function(){var e=Object(I.b)(),n=Object(I.c)(bn),t=c.a.useCallback((function(t){var r=t.calendarId,a=t.storyId,c=n.stories.findIndex((function(e){return e.id===a}));if(-1===c)console.warn("cannot find story on updateResource",r);else{for(var o=n.stories[c].resources,i={idx:-1,order:-1},d=0;d<o.length;d++){var s,l=null!==(s=o[d].order)&&void 0!==s?s:-1;l>i.order&&(i={idx:d,order:l})}var u=Un({calendarId:r,storyId:a,order:i.order+1});e(nn({calendarId:r,storyId:a,resource:u}))}}),[e,n]);return{remove:c.a.useCallback((function(n){var t=n.calendarId,r=n.resourceId,a=n.storyId;window.confirm("Do you remove this resource?")&&e(tn({resourceId:r,storyId:a,calendarId:t}))}),[e]),push:t}}(),v=f.push,p=f.remove,y=c.a.useCallback((function(){if(!a)return console.warn("Invalid data status when to update resource.");j(a),t()}),[a,j,t]),m=c.a.useCallback((function(e){return function(){if(!a)return console.warn("Invalid data status when to remove resource.");p(Object(oe.a)(Object(oe.a)({},a),{},{resourceId:e}))}}),[a,p]),g=c.a.useCallback((function(){if(!a)return console.warn("Invalid data status when to add resource.");v(a)}),[a,v]),x=c.a.useCallback((function(){o&&b({calendarId:o})}),[b,o]),C=c.a.useCallback((function(e){if(!a||!i)return console.warn("Invalid data status when to update story.");O(a,i,e),t()}),[O,a,i,t]);return i?Object(r.jsxs)(U.a,{onClose:t,open:n,children:[Object(r.jsx)(Y.a,{children:Object(r.jsx)("form",{onSubmit:l(C),children:Object(r.jsx)(rt,{children:Object(r.jsx)(h.a,{inputRef:s,name:"name",defaultValue:i.name,variant:"outlined",label:"Story Name"})})})}),Object(r.jsx)(z.a,{dividers:!0,children:Object(r.jsx)("div",{children:Object(r.jsxs)("form",{onSubmit:l(C),children:[i.resources.map((function(e,n){var t="resources[".concat(n,"]");return Object(r.jsxs)(at,{name:t,children:[Object(r.jsx)("input",{type:"hidden",name:"".concat(t,".id"),ref:s,value:e.id}),Object(r.jsx)(h.a,{defaultValue:e.FIELD,inputRef:s,name:"".concat(t,".").concat(fe),label:"Field"}),Object(r.jsx)(H.a,{onClick:m(e.id),color:"secondary",variant:"contained",children:"Delete"})]},t)})),Object(r.jsx)(ct,{children:Object(r.jsx)(H.a,{onClick:g,variant:"outlined",color:"primary",children:"+ Add Resource"})}),Object(r.jsx)(ot,{children:Object(r.jsx)(H.a,{type:"submit",variant:"contained",color:"primary",children:"Update"})})]})})}),Object(r.jsxs)(Qn.a,{children:[Object(r.jsx)(H.a,{onClick:y,color:"secondary",variant:"contained",children:"Delete this story"}),Object(r.jsx)(H.a,{onClick:x,color:"primary",children:"Add New Story"})]})]}):Object(r.jsx)(r.Fragment,{})}var rt=b.a.div(nt()),at=b.a.fieldset(et()),ct=b.a.div(Zn()),ot=b.a.div(Xn());function it(e){var n=e.isOpen,t=e.onClose,a=Object(I.c)(Tn),o=Object(I.c)(Bn),i=Hn(),d=i.remove,s=i.update,l=c.a.useCallback((function(){if(!a)return console.warn("Invalid data status when to update event.");d(a),t()}),[a,d,t]),u=c.a.useCallback((function(e){if(!a||!o)return console.warn("Invalid data status when to remove event.");s(a,o,e),t()}),[a,o,s,t]),b=Object(qn.a)(),j=b.register,O=b.handleSubmit;return Object(r.jsxs)(U.a,{onClose:t,open:n,children:[Object(r.jsx)(Y.a,{children:"Event"}),Object(r.jsx)(z.a,{dividers:!0,children:Object(r.jsxs)("form",{onSubmit:O(u),children:[Object(r.jsx)(h.a,{inputRef:j,name:"title",defaultValue:null===o||void 0===o?void 0:o.title,label:"Title",variant:"outlined"}),Object(r.jsx)(H.a,{type:"submit",children:"rename"})]})}),Object(r.jsx)(Qn.a,{children:Object(r.jsx)(H.a,{onClick:l,variant:"contained",color:"secondary",children:"Remove"})})]})}var dt={left:"".concat(Kn,",").concat($n),center:"title",right:"prev,next"};function st(){var e=function(){var e=Object(I.b)();return{push:c.a.useCallback((function(n){var t=n.storyId,r=n.calendarId;e(Ln({calendarId:r,storyId:t}))}),[e]),pop:c.a.useCallback((function(){e(Mn())}),[e]),isOpen:Object(I.c)(Pn)}}(),n=e.push,t=e.pop,a=e.isOpen,o=function(){var e=Object(I.b)();return{push:c.a.useCallback((function(n){var t=n.eventId,r=n.storyId,a=n.calendarId;e(Fn({calendarId:a,eventId:t,storyId:r}))}),[e]),pop:c.a.useCallback((function(){e(Gn())}),[e]),isOpen:Object(I.c)(_n)}}(),i=o.push,d=o.pop,s=o.isOpen,l=function(e){var n=e.createOpenHandle,t=Object(I.c)(bn);return{resourceGroupLabelContent:c.a.useCallback((function(e){var r=e.groupValue;if(t){var a=t.stories.find((function(e){return e.id===r}));if(a){var c;a.name?c=a.name:(console.warn("cannot find this story name",r),c="No Name");var o=t.id,i=n({calendarId:o,storyId:r}),d=document.createElement("span");d.style.display="flex",d.style.justifyContent="space-between";var s=document.createElement("i");s.innerHTML=c+" ",d.appendChild(s);var l=document.createElement("button");return l.innerHTML="\ufe19",l.onclick=i,d.appendChild(l),{domNodes:[d]}}console.warn("cannot find story",r)}}),[t,n])}}({createOpenHandle:c.a.useCallback((function(e){return function(){n(e)}}),[n])}).resourceGroupLabelContent,u=jn(),b=u.events,j=u.resources,O=u.select,f=c.a.useCallback((function(e){var n=e.event.extendedProps.calendarId;if(!n)return console.warn("Invalid data. cannot find calendarId.");var t=e.event.id;if(!t)return console.warn("Invalid data. cannot find eventId.");var r=e.event.extendedProps.storyId;if(!r)return console.warn("Invalid data. cannot find storyId.");i({calendarId:n,eventId:t,storyId:r})}),[i]),v=Hn().updateById,h=c.a.useCallback((function(e){if(!e.event||!e.event.extendedProps)return console.warn("Invalid data. cannot find event data.");var n=e.event.start,t=e.event.end,r=Object(oe.a)(Object(oe.a)({},e.event.extendedProps),{},{eventId:e.event.id});v(r,{start:n,end:t}),console.log("data",e)}),[v]),p=function(){var e=jn(),n=e.calendar,t=e.remove,r=Jn().create,a=c.a.useCallback((function(){if(n){var e=n.id;r({calendarId:e})}}),[n,r]),o=c.a.useCallback((function(){if(n){var e=n.id;window.confirm("Do you want to delete this calendar?")&&t(e)}}),[t,n]);return{customButtons:c.a.useMemo((function(){var e;return e={},Object(ge.a)(e,Kn,{text:"Add story",click:a}),Object(ge.a)(e,$n,{text:"Remove Calendar",click:o}),e}),[a,o])}}().customButtons;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(kn,{events:b,resources:j,eventClick:f,selectable:!0,select:O,editable:!0,eventResize:h,eventDrop:h,initialDate:"2020-06-01",resourceGroupLabelContent:l,customButtons:p,headerToolbar:dt}),Object(r.jsx)(tt,{isOpen:a,onClose:t}),Object(r.jsx)(it,{isOpen:s,onClose:d})]})}function lt(){var e=Object(u.a)(["\n  height: 30vh;\n  background: lightblue;\n  display: grid;\n  place-items: center;\n"]);return lt=function(){return e},e}function ut(){var e=jn().init,n=E().birth,t=c.a.useCallback((function(){n&&e(n)}),[e,n]);return Object(r.jsx)(bt,{children:Object(r.jsx)(H.a,{onClick:t,variant:"contained",color:"primary",children:"Create Calendar"})})}var bt=b.a.div(lt());function jt(){var e=!!jn().calendar;return Object(r.jsx)("div",{children:e?Object(r.jsx)(st,{}):Object(r.jsx)(ut,{})})}var Ot=t(178),ft=Object(y.b)({name:"templateOption",initialState:{option:{schoolPeriod:24,coopPeriod:24,pgwpPeriod:36,workingholidayPeriod:12,monthsOfStartSchool:[1,5,9]}},reducers:{update:function(e,n){e.option=n.payload}}}),vt=function(e){return e.features.templateOption.option},ht=ft.actions.update,pt=ft.reducer,It=function(){var e=Object(I.b)(),n=Object(I.c)(vt),t=c.a.useCallback((function(t){var r=Object(oe.a)(Object(oe.a)({},n),t);e(ht(r))}),[e,n]);return{options:n,update:t}};function yt(){var e=Object(u.a)([""]);return yt=function(){return e},e}function mt(){var e=Object(u.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  gap: 2rem;\n  margin-bottom: 1rem;\n"]);return mt=function(){return e},e}function gt(){var e=Object(u.a)(["\n  display: inline-block;\n  margin-right: 1rem;\n"]);return gt=function(){return e},e}function xt(){var e=It(),n=e.update,t=e.options,a=t.schoolPeriod,o=t.coopPeriod,i=t.monthsOfStartSchool,d=t.pgwpPeriod,s=c.a.useCallback((function(e){var t=e.target.value,r=""===t?0:parseInt(t);Number.isInteger(r)&&n({schoolPeriod:r})}),[n]),l=c.a.useCallback((function(e){var t=e.target.value,r=""===t?0:parseInt(t);Number.isInteger(r)&&n({coopPeriod:r})}),[n]),u=c.a.useCallback((function(e){var t=e.target.value,r=""===t?0:parseInt(t);Number.isInteger(r)&&n({pgwpPeriod:r})}),[n]),b=c.a.useCallback((function(e){var t=parseInt(e.target.value),r=i.includes(t)?i.filter((function(e){return e!==t})):[].concat(Object(Fe.a)(i),[t]).sort((function(e,n){return e-n}));n({monthsOfStartSchool:r})}),[n,i]);return Object(r.jsx)(f.a,{children:Object(r.jsxs)(v.a,{children:[Object(r.jsx)("h2",{children:"Template Options"}),Object(r.jsxs)(kt,{children:[Object(r.jsxs)(St,{children:[Object(r.jsx)(h.a,{value:a,onChange:s,label:"School Period",InputProps:{endAdornment:Object(r.jsx)(Ot.a,{position:"end",children:"Month"})}}),Object(r.jsx)(h.a,{value:o,onChange:l,label:"Co-op Period",InputProps:{endAdornment:Object(r.jsx)(Ot.a,{position:"end",children:"Month"})}}),Object(r.jsx)(h.a,{value:d,onChange:u,label:"PWGP Period",InputProps:{endAdornment:Object(r.jsx)(Ot.a,{position:"end",children:"Month"})}})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{children:"School start from (Month)"}),Object(r.jsx)("div",{children:Array.from({length:12}).map((function(e,n){var t=n+1,a=i.includes(t);return Object(r.jsxs)(Ct,{children:[Object(r.jsx)("label",{children:t}),Object(r.jsx)(p.a,{value:t,checked:a,onChange:b})]},t)}))})]})]})]})})}var Ct=b.a.div(gt()),St=b.a.div(mt()),kt=b.a.div(yt()),wt=t(186),Pt=t(181),Et=t(185),Dt=t(180);var At,Lt=function(e,n){var t=e.startDate,r=e.calendarId,a=e.canWorkingholiday,c=de(),o=Yn(t),i=Mt({calendarId:r,storyId:c,startDate:t,canWorkingholiday:a},n),d=Object(Q.a)(i,2),s=d[0];return{id:c,calendarId:r,name:o,events:d[1],resources:s}},Mt=function(e,n){var t,r,a=e.calendarId,c=e.storyId,o=e.startDate,i=e.canWorkingholiday,d=[],s=[],l=n.schoolPeriod,u=n.coopPeriod,b=n.workingholidayPeriod;if(u>0){var j,O=de();d.push(Un(Object(oe.a)(Object(oe.a)({},we),{},(j={id:O,calendarId:a},Object(ge.a)(j,ve,c),Object(ge.a)(j,he,1),j)))),s.push($e(Object(oe.a)(Object(oe.a)({},Le),{},{id:de(),resourceId:O,storyId:c,start:Ue(o.toISOString()),end:Ue(Object(Ge.a)(o,u).toISOString()),extendedProps:{resourceId:O,calendarId:a,storyId:c}})))}var f=de();if(d.push(Un(Object(oe.a)(Object(oe.a)({},ke),{},(t={id:f,calendarId:a},Object(ge.a)(t,ve,c),Object(ge.a)(t,he,2),t)))),s.push($e(Object(oe.a)(Object(oe.a)({},Me),{},{id:de(),resourceId:f,storyId:c,start:Ue(o.toISOString()),end:Ue(Object(Ge.a)(o,l).toISOString()),extendedProps:{resourceId:f,calendarId:a,storyId:c}}))),i){var v,h,p=de();d.push(Un(Object(oe.a)(Object(oe.a)({},Pe),{},(v={id:p,calendarId:a},Object(ge.a)(v,ve,c),Object(ge.a)(v,he,3),v))));var I=Object(Ge.a)(o,l);s.push($e(Object(oe.a)(Object(oe.a)({},We),{},{id:de(),resourceId:p,storyId:c,start:Ue(I.toISOString()),end:Ue(Object(Ge.a)(I,b).toISOString()),extendedProps:{resourceId:p,calendarId:a,storyId:c}}))),s.push($e(Object(oe.a)(Object(oe.a)({},_e),{},{id:de(),resourceId:p,storyId:c,start:Ue(Object(Ve.a)(Object(m.a)(I,-1),8).toISOString()),end:Ue(I.toISOString()),extendedProps:{resourceId:p,calendarId:a,storyId:c}})));var y=de();d.push(Un(Object(oe.a)(Object(oe.a)({},Ae),{},(h={id:y,calendarId:a},Object(ge.a)(h,ve,c),Object(ge.a)(h,he,5),h)))),s.push($e(Object(oe.a)(Object(oe.a)({},Te),{},{id:de(),resourceId:y,storyId:c,start:Ue(Object(Ge.a)(o,l).toISOString()),end:Ue(Object(Ge.a)(o,l+b).toISOString()),extendedProps:{resourceId:y,calendarId:a,storyId:c}})))}var g=de();return d.push(Un(Object(oe.a)(Object(oe.a)({},De),{},(r={id:g,calendarId:a},Object(ge.a)(r,ve,c),Object(ge.a)(r,he,4),r)))),s.push($e(Object(oe.a)(Object(oe.a)({},Be),{},{id:de(),resourceId:g,storyId:c,start:Ue(o.toISOString()),end:Ue(Object(Ge.a)(o,l).toISOString()),extendedProps:{resourceId:g,calendarId:a,storyId:c}}))),[[].concat(d),[].concat(s)]},Rt=function(e,n){var t=e.startDate,r=e.calendarId,a=e.canWorkingholiday,c=de(),o=Yn(t),i=Wt({calendarId:r,storyId:c,startDate:t,canWorkingholiday:a},n),d=Object(Q.a)(i,2),s=d[0];return{id:c,calendarId:r,name:o,events:d[1],resources:s}},Wt=function(e,n){var t,r,a=e.calendarId,c=e.storyId,o=e.startDate,i=e.canWorkingholiday,d=[],s=[],l=n.schoolPeriod,u=n.pgwpPeriod,b=n.workingholidayPeriod;if(u>0){var j,O=de();d.push(Un(Object(oe.a)(Object(oe.a)({},Ee),{},(j={id:O,calendarId:a},Object(ge.a)(j,ve,c),Object(ge.a)(j,he,1),j)))),s.push($e(Object(oe.a)(Object(oe.a)({},Re),{},{id:de(),resourceId:O,storyId:c,start:Ue(Object(Ge.a)(o,l).toISOString()),end:Ue(Object(Ge.a)(o,l+u).toISOString()),extendedProps:{resourceId:O,calendarId:a,storyId:c}})))}var f=de();if(d.push(Un(Object(oe.a)(Object(oe.a)({},ke),{},(t={id:f,calendarId:a},Object(ge.a)(t,ve,c),Object(ge.a)(t,he,2),t)))),s.push($e(Object(oe.a)(Object(oe.a)({},Me),{},{id:de(),resourceId:f,storyId:c,start:Ue(o.toISOString()),end:Ue(Object(Ge.a)(o,l).toISOString()),extendedProps:{resourceId:f,calendarId:a,storyId:c}}))),i){var v,h,p=de();d.push(Un(Object(oe.a)(Object(oe.a)({},Pe),{},(v={id:p,calendarId:a},Object(ge.a)(v,ve,c),Object(ge.a)(v,he,3),v))));var I=Object(Ge.a)(o,l+u);s.push($e(Object(oe.a)(Object(oe.a)({},We),{},{id:de(),resourceId:p,storyId:c,start:Ue(I.toISOString()),end:Ue(Object(Ge.a)(I,b).toISOString()),extendedProps:{resourceId:p,calendarId:a,storyId:c}}))),s.push($e(Object(oe.a)(Object(oe.a)({},_e),{},{id:de(),resourceId:p,storyId:c,start:Ue(Object(Ve.a)(Object(m.a)(I,-1),8).toISOString()),end:Ue(I.toISOString()),extendedProps:{resourceId:p,calendarId:a,storyId:c}})));var y=de();d.push(Un(Object(oe.a)(Object(oe.a)({},Ae),{},(h={id:y,calendarId:a},Object(ge.a)(h,ve,c),Object(ge.a)(h,he,5),h)))),s.push($e(Object(oe.a)(Object(oe.a)({},Te),{},{id:de(),resourceId:y,storyId:c,start:Ue(Object(Ge.a)(o,l).toISOString()),end:Ue(Object(Ge.a)(o,l+u+b).toISOString()),extendedProps:{resourceId:y,calendarId:a,storyId:c}})))}var g=de();return d.push(Un(Object(oe.a)(Object(oe.a)({},De),{},(r={id:g,calendarId:a},Object(ge.a)(r,ve,c),Object(ge.a)(r,he,4),r)))),s.push($e(Object(oe.a)(Object(oe.a)({},Be),{},{id:de(),resourceId:g,storyId:c,start:Ue(o.toISOString()),end:Ue(Object(Ge.a)(o,l).toISOString()),extendedProps:{resourceId:g,calendarId:a,storyId:c}}))),[[].concat(d),[].concat(s)]},_t=function(e,n,t){for(var r=[e],a=e;a<n;)r.push(a+=t||1);return r}(21,31),Tt=new Date,Bt=function(e,n){var t=e.birth,r=e.calendarId,a=e.canWorkingholiday,c=e.storyCreater,o=n.monthsOfStartSchool;return _t.map((function(e){return Object(m.a)(t,e)})).filter((function(e){return!(-1!==Object(Dt.a)(Tt,e))})).flatMap((function(e){return o.map((function(n){return Object(Ve.a)(e,n-1)}))})).map((function(e){return c({startDate:e,calendarId:r,canWorkingholiday:a},n)}))},Nt=Object(y.b)({name:"templateCalendarTable",initialState:(At={},Object(ge.a)(At,pe,void 0),Object(ge.a)(At,Ie,void 0),At),reducers:{upsertPrivateCollegeStories:function(e,n){var t=n.payload,r=t.birth,a=t.canWorkingholiday,c=t.options,o=function(e,n){var t=e.birth,r=e.canWorkingholiday,a=Bt({birth:t,calendarId:pe,canWorkingholiday:r,storyCreater:Lt},n);return{id:pe,stories:a}}({birth:new Date(r),canWorkingholiday:a},c);e.PRIVATE_COLLEGE_CALENDAR_ID=o},upsertPublicCollegeStories:function(e,n){var t=n.payload,r=t.birth,a=t.canWorkingholiday,c=t.options,o=function(e,n){var t=e.birth,r=e.canWorkingholiday,a=Bt({birth:t,calendarId:Ie,canWorkingholiday:r,storyCreater:Rt},n);return{id:Ie,stories:a}}({birth:new Date(r),canWorkingholiday:a},c);e.PUBLIC_COLLEGE_CALENDAR_ID=o}}}),Ft=Nt.reducer,Gt=Nt.actions,Vt=Gt.upsertPrivateCollegeStories,Ht=Gt.upsertPublicCollegeStories,Ut=function(e){return e.features.templateCalendar.PRIVATE_COLLEGE_CALENDAR_ID},Yt=function(e){return e.features.templateCalendar.PUBLIC_COLLEGE_CALENDAR_ID},zt={selectable:!1,editable:!1},Jt={left:"",center:"title",right:"prev,next"};function Kt(e){var n=Object(I.b)(),t=function(e){var n=e.createClickHandel,t=Object(I.c)(Ut),r=Object(I.c)(Yt),a=Object(I.c)(bn);return{resourceGroupLabelContent:c.a.useCallback((function(e){var c,o,i=e.groupValue;if(a){var d=a.id;if(t||r){var s=[].concat(Object(Fe.a)(null!==(c=null===t||void 0===t?void 0:t.stories)&&void 0!==c?c:[]),Object(Fe.a)(null!==(o=null===r||void 0===r?void 0:r.stories)&&void 0!==o?o:[])).find((function(e){return e.id===i}));if(s){var l;s.name?l=s.name:(console.warn("cannot find this story name",i),l="No Name");var u=zn(s,{calendarId:d}),b=n({calendarId:d,story:u}),j=document.createElement("i");j.innerHTML=l+" ",j.style.marginLeft="1rem";var O=document.createElement("button");return O.innerHTML="Copy to my calendar",O.style.marginLeft="1rem",O.onclick=b,{domNodes:[j,O]}}console.warn("cannot find story",i)}else console.warn("cannot find selected template calendar")}else console.warn("cannot find selected myCalendar")}),[a,t,r,n])}}({createClickHandel:c.a.useCallback((function(e){var t=e.story,r=e.calendarId;return function(){window.confirm("Do you copy this story to My Calendar?")&&n(rn({calendarId:r,story:t}))}}),[n])}).resourceGroupLabelContent;return Object(r.jsx)(kn,Object(oe.a)(Object(oe.a)({},e),{},{initialDate:"2020-06-01",resourceGroupLabelContent:t,headerToolbar:Jt},zt))}function $t(){var e=E(),n=e.birth,t=e.canWorkingholiday,a=function(){var e=Object(I.b)(),n=c.a.useCallback((function(n){var t=n.birth,r=n.canWorkingholiday,a=n.options;e(Vt({birth:t,canWorkingholiday:r,options:a}))}),[e]),t=Object(I.c)(Ut),r=c.a.useMemo((function(){var e;return null!==(e=null===t||void 0===t?void 0:t.stories)&&void 0!==e?e:[]}),[t]),a=c.a.useMemo((function(){return r.reduce((function(e,n){return[].concat(Object(Fe.a)(e),Object(Fe.a)(n.resources))}),[])}),[r]),o=c.a.useMemo((function(){return r.reduce((function(e,n){return[].concat(Object(Fe.a)(e),Object(Fe.a)(n.events))}),[])}),[r]);return{stories:r,generate:n,resources:a,events:o}}(),o=a.resources,i=a.events,d=a.generate,s=It().options;return c.a.useEffect((function(){d({birth:n,canWorkingholiday:t,options:s})}),[d,n,t,s]),Object(r.jsx)(Kt,{events:i,resources:o})}function qt(){var e=E(),n=e.birth,t=e.canWorkingholiday,a=function(){var e=Object(I.b)(),n=c.a.useCallback((function(n){e(Ht(n))}),[e]),t=Object(I.c)(Yt),r=c.a.useMemo((function(){var e;return null!==(e=null===t||void 0===t?void 0:t.stories)&&void 0!==e?e:[]}),[t]),a=c.a.useMemo((function(){return r.reduce((function(e,n){return[].concat(Object(Fe.a)(e),Object(Fe.a)(n.resources))}),[])}),[r]),o=c.a.useMemo((function(){return r.reduce((function(e,n){return[].concat(Object(Fe.a)(e),Object(Fe.a)(n.events))}),[])}),[r]);return{stories:r,generate:n,resources:a,events:o}}(),o=a.resources,i=a.events,d=a.generate,s=It().options;return c.a.useEffect((function(){d({birth:n,canWorkingholiday:t,options:s})}),[d,n,t,s]),Object(r.jsx)(Kt,{events:i,resources:o})}function Qt(e){var n=e.shouldShow,t=e.children;return Object(r.jsx)("div",{role:"tabpanel",style:{display:n?"block":"none"},children:Object(r.jsx)(Et.a,{p:3,children:t})})}function Xt(){var e=c.a.useState(0),n=Object(Q.a)(e,2),t=n[0],a=n[1],o=c.a.useCallback((function(e,n){a(n)}),[]);return Object(r.jsxs)("div",{children:[Object(r.jsxs)(wt.a,{value:t,onChange:o,children:[Object(r.jsx)(Pt.a,{label:"Private College"}),Object(r.jsx)(Pt.a,{label:"Public College"})]}),Object(r.jsx)(Qt,{shouldShow:0===t,children:Object(r.jsx)($t,{})}),Object(r.jsx)(Qt,{shouldShow:1===t,children:Object(r.jsx)(qt,{})})]})}var Zt=function(){return Object(r.jsx)("h2",{children:"Temapltes"})};function er(){var e=!!jn().calendar;return Object(r.jsx)("div",{children:e?Object(r.jsxs)("div",{children:[Object(r.jsx)(Zt,{}),Object(r.jsx)(Xt,{})]}):Object(r.jsx)(ut,{})})}function nr(){var e=X(!0),n=e.isOpen,t=e.close,a=jn().init,o=E().birth,i=c.a.useCallback((function(){a(o),t()}),[t,a,o]);return Object(r.jsxs)(U.a,{open:n,children:[Object(r.jsx)(z.a,{children:Object(r.jsx)(A,{})}),Object(r.jsx)(Qn.a,{children:Object(r.jsx)(H.a,{onClick:i,variant:"contained",color:"primary",children:"Create Calendar"})})]})}function tr(){var e=Object(u.a)([""]);return tr=function(){return e},e}function rr(){var e=Object(u.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 2rem;\n"]);return rr=function(){return e},e}function ar(){var e=Object(u.a)(["\n  padding: 0 3rem;\n  display: grid;\n  gap: 5rem;\n"]);return ar=function(){return e},e}function cr(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n"]);return cr=function(){return e},e}function or(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(ir,{children:[Object(r.jsx)(te,{}),Object(r.jsxs)(dr,{children:[Object(r.jsx)(jt,{}),Object(r.jsxs)(sr,{children:[Object(r.jsx)(A,{}),Object(r.jsx)(xt,{})]}),Object(r.jsx)(lr,{children:Object(r.jsx)(er,{})})]}),Object(r.jsx)(N,{})]}),Object(r.jsx)(nr,{})]})}var ir=b.a.div(cr()),dr=b.a.div(ar()),sr=b.a.div(rr()),lr=b.a.div(tr()),ur=t(93),br=t(94),jr=t(99),Or=t(97);function fr(){var e=Object(u.a)(["\n  width: 10rem;\n  height: 10rem;\n"]);return fr=function(){return e},e}function vr(){var e=Object(u.a)(["\n  height: 100vh;\n  display: grid;\n  place-items: center;\n  align-content: center;\n  gap: 2rem;\n"]);return vr=function(){return e},e}function hr(){var e=c.a.useCallback((function(){window.confirm("Do you reset all data?")&&console.log("reset")}),[]);return Object(r.jsxs)(pr,{children:[Object(r.jsx)(Ir,{children:Object(r.jsx)(R,{})}),Object(r.jsxs)("div",{children:["Sorry\ud83d\udc31",Object(r.jsx)("br",{}),"Something error happen.",Object(r.jsx)("br",{})]}),Object(r.jsx)("div",{children:Object(r.jsx)(H.a,{onClick:e,variant:"contained",color:"secondary",children:"Reset data"})})]})}var pr=b.a.div(vr()),Ir=b.a.div(fr()),yr=function(e){Object(jr.a)(t,e);var n=Object(Or.a)(t);function t(e){var r;return Object(ur.a)(this,t),(r=n.call(this,e)).state={hasError:!1},r}return Object(br.a)(t,[{key:"componentDidCatch",value:function(e,n){console.error(e),console.error(n)}},{key:"render",value:function(){return this.state.hasError?Object(r.jsx)(hr,{}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return console.error(e),{hasError:!0}}}]),t}(c.a.Component);t(139),t(140);var mr=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(yr,{children:Object(r.jsx)(l,{children:Object(r.jsx)(or,{})})})})},gr=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,195)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,c=n.getLCP,o=n.getTTFB;t(e),r(e),a(e),c(e),o(e)}))},xr=t(35),Cr=Object(xr.c)({storyModal:Rn,eventModal:Vn}),Sr=Object(xr.c)({templateCalendar:Ft,templateOption:pt,userCalendars:un,user:w}),kr=Object(xr.c)({features:Sr,ui:Cr});var wr=Object(y.a)({reducer:kr});function Pr(e){var n=e.children;return Object(r.jsx)(I.a,{store:wr,children:n})}i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(Pr,{children:Object(r.jsx)(mr,{})})}),document.getElementById("root")),gr()}},[[141,1,2]]]);
//# sourceMappingURL=main.c7ed11d0.chunk.js.map