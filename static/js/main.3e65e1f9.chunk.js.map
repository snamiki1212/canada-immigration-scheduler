{"version":3,"sources":["providers/MuiPickersUtilsProvider.tsx","redux/features/user.ts","lib/age.ts","hooks/useUser.tsx","components/organisms/ProfileCard.tsx","lib/uuid.ts","constants/fullcalendar/settings.ts","constants/fullcalendar/templates.ts","lib/date.ts","core/event/BaseEvent.ts","core/resource/BaseResource.ts","core/story/BaseStory.ts","core/story/ProfileStory/createProfileStory.ts","constants/visa.ts","redux/features/userCalendars.ts","hooks/useUserCalendar.ts","core/calendar/UserCalendar/createUserCalendar.ts","constants/fullcalendar/options.ts","components/atoms/BaseFullCalendar.tsx","containers/BaseCalendarContainer.tsx","hooks/useResourceGroupLabelContentInUserCalendar.tsx","redux/ui/resourceModal.ts","redux/ui/storyModal.ts","hooks/useResource.tsx","components/molecules/ResourceModal.tsx","components/molecules/StoryModal.tsx","hooks/useStory.tsx","containers/UserCalendarContainer.tsx","hooks/useResourceModal.tsx","hooks/useStoryModal.tsx","core/calendar/CommunityCollegeAfterwardsWorkingHolidayCalendar/model.ts","core/story/CommunityCollegeAfterwardsWorkingHolidayStory/build.ts","core/calendar/CommunityCollegeAfterwardsWorkingHolidayCalendar/createCalendar.ts","constants/school.ts","lib/util.ts","redux/features/templateCalendarTable.ts","containers/TemplateCalendarContainer.tsx","hooks/useCommunityCollegeAfterwardsWorkingHolidayCalendar.tsx","hooks/useResourceGroupLabelContentInTemplateCalendar.tsx","components/organisms/CalendarList.tsx","components/atoms/LogoImage.tsx","components/molecules/Footer.tsx","components/atoms/AboutModal.tsx","components/molecules/Header.tsx","components/pages/CalendarPage.tsx","App.tsx","reportWebVitals.ts","redux/rootReducer.ts","redux/store.ts","providers/ReactReduxProvider.tsx","index.tsx"],"names":["MuiPickersUtilsProvider","children","utils","DateFnsUtils","personaBirth","addYears","Date","toISOString","userSlice","createSlice","name","initialState","birthday","age","reducers","updateBirthday","state","action","payload","_birthday","today","birthDate","getFullYear","m","getMonth","getDate","calcAge","updateBirthdayAction","actions","selectUser","user","useUser","dispatch","useDispatch","setBirth","React","useCallback","birth","useSelector","ProfileCard","handleDateChange","date","_Card","Avatar","alt","TextField","id","label","disabled","InputProps","readOnly","InputLabelProps","shrink","type","value","DatePicker","disableFuture","openTo","format","views","onChange","styled","Card","uuid","uuidV4","FIELD1","FIELD2","NAME_OF_STORY_ID","NAME_OF_ORDER","MY_CALENDAR_ID","RESOURCE_ID__SHARED__AGE","RESOURCE_ID__SHARED__LIMIT","DARK_BLUE","FIELD__H1__VISA","FIELD__H1__STATUS","RESOURCE_TEMPLATE__VISA_STUDY","RESOURCE_TEMPLATE__VISA_COOP","RESOURCE_TEMPLATE__WORKING_HOLIDAY_COOP","RESOURCE_TEMPLATE__STUDENT_STATUS","RESOURCE_TEMPLATE__WORKER_STATUS","convertIsoToDateTime","isoStr","split","initEvent","props","resourceId","storyId","title","start","end","initResource","calendarId","createStoryName","replace","createResources","generateEvents","startDate","endYear","getLastYear","years","list","i","push","getRangeNumbers","workingHolidayLimitEvents","createWorkingHolidayLimitEvents","ageEventList","map","year","index","setFullYear","addMonths","lastYearDate","endDate","endOfLimit","endOfApplication","setMonth","userCalendarsSlice","calendars","updateCalendars","pushResource","resource","calendarIdx","findIndex","calendar","console","warn","storyIdx","stories","story","resources","updateResource","newResource","resourceIdx","removeResource","filter","addStory","idx","removeStory","addEvent","event","events","removeEvent","eventId","some","_event","updateCalendarsAction","pushResourceAction","updateResourceAction","removeResourceAction","addStoryAction","removeStoryAction","addEventAction","removeEventAction","selectUserCalendar","userCalendars","useUserCalendar","init","_birth","createProfileStory","_calendar","select","info","extendedProps","newEvent","startStr","endStr","click","window","confirm","createStory","_calendarId","initStory","useMemo","flatMap","MY_TIME_LINE_NAME","headerToolbar","left","center","right","initialView","resourceGroupField","duration","buttonText","resourceConfigs","resourceOrder","resourcesInitiallyExpanded","FULL_CALENDAR_CONFIGS","slotLabelFormat","month","schedulerLicenseKey","nowIndicator","BaseFullCalendar","plugins","interactionPlugin","resourceTimelinePlugin","listPlugin","BaseCalendarContainer","slice","_payload","pop","_action","selectIsOpen","resourceModal","selectResourceModal","selectResource","_resource","find","pushAction","popAction","storyModal","selectStoryModal","useResource","_resources","lastResource","order","length","_order","remove","update","params","field1","field2","Object","assign","undefined","ResourceModal","isOpen","onClose","onRemove","onUpdate","data","useForm","register","handleSubmit","Dialog","open","DialogTitle","DialogContent","dividers","onSubmit","ref","defaultValue","onClick","StoryModal","useStory","handleRemove","handleAddResource","ableConfis","selectable","editable","UserCalendarContainer","useResourceModal","pushResourceModal","popResourceModal","isOpenResourceModal","useStoryModal","pushStoryModal","popStoryModal","isOpenStoryModal","resourceGroupLabelContent","createOpenHandle","groupValue","openHandle","nameElement","document","createElement","innerHTML","buttonElement","onclick","domNodes","useResourceGroupLabelContentInUserCalendar","initUserCalendar","useEffect","resourceAreaColumns","field","headerContent","cellContent","arg","message","fieldValue","containerEl","buttonEl","appendChild","messageEl","eventClick","initialDate","VISA_BACKGROUND_COLOR","STATUS_BACKGROUND_COLOR","generateStory","coopVisaResourceId","coopVisaResource","coopVisaEvent","studyVisaResourceId","studyVisaResource","studyVisaEvent","workingholidayResourceId","workingholidayResource","dateAsStartWorkingHoliday","workingHolidayVisaEvent","preWorkingHolidayVisaEvent","studentStatusResourceId","studentStatusResource","studentStatusVisaEvent","workerStatusResourceId","startMonths","addingNumbers","stop","step","a","b","range","generateStoryList","num","build","templateCalendarTable","CommunityCollegeAfterwardsWorkingHolidayCalendarId","upsertCommunityCollegeAfterwardsWorkingHolidayStories","createCalendar","upsertCommunityCollegeAfterwardsWorkingHolidayStoriesAction","selectCommunityCollegeAfterwardsWorkingHolidayCalendar","templateCalendar","TemplateCalendarContainer","generate","reduce","prev","useCommunityCollegeAfterwardsWorkingHolidayCalendar","useResourceGroupLabelContentInTemplateCalendar","CalendarList","Container","div","LogoImage","Img","src","img","Footer","LogoText","LogoImageContainer","href","target","rel","AboutModal","Typography","Header","useState","setIsOpen","handleClick","handleClose","Title","ButtonContainer","Button","span","CalendarPage","ContentWrapper","App","className","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","userReducer","templateCalendarTableReducer","userCalendarsReducer","resourceModalReducer","storyModalReducer","store","configureStore","reducer","ReactReduxProvider","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3e65e1f9.chunk.js","sourcesContent":["import React, { PropsWithChildren } from \"react\";\nimport { MuiPickersUtilsProvider as RawMuiPickersUtilsProvider } from \"@material-ui/pickers\";\nimport DateFnsUtils from \"@date-io/date-fns\";\n\nexport function MuiPickersUtilsProvider<T>({ children }: PropsWithChildren<T>) {\n  return (\n    <RawMuiPickersUtilsProvider utils={DateFnsUtils}>\n      {children}\n    </RawMuiPickersUtilsProvider>\n  );\n}\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { calcAge } from \"../../lib/age\";\nimport { addYears } from \"date-fns\";\nimport { RootState } from \"../rootReducer\";\n\nconst PERSONA_AGE = 25;\nconst personaBirth = addYears(new Date(), -PERSONA_AGE).toISOString();\n\ntype UpdatePayload = {\n  birthday: string;\n};\n\nconst userSlice = createSlice({\n  name: \"user\",\n  initialState: {\n    birthday: personaBirth,\n    age: PERSONA_AGE,\n  },\n  reducers: {\n    updateBirthday(state, action: PayloadAction<UpdatePayload>) {\n      const { birthday } = action.payload;\n      state.birthday = birthday;\n      state.age = calcAge(birthday);\n    },\n  },\n});\n\nexport const { updateBirthday: updateBirthdayAction } = userSlice.actions;\n\nexport default userSlice.reducer;\n\nexport const selectUser = (state: RootState) => state.user;\n","export const getRangeNumbers = (start: number, end: number) => {\n  let list = [] as number[];\n  for (let i = start; i <= end; i++) {\n    list.push(i);\n  }\n  return list;\n};\n\n// REF: https://stackoverflow.com/a/7091965/8842333\nexport const calcAge = (_birthday: string | Date) => {\n  const today = new Date();\n  const birthDate = new Date(_birthday);\n  let age = today.getFullYear() - birthDate.getFullYear();\n\n  const m = today.getMonth() - birthDate.getMonth();\n  if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {\n    age--;\n  }\n  return age;\n};\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { updateBirthdayAction, selectUser } from \"../redux/features/user\";\n\nexport const useUser = () => {\n  const dispatch = useDispatch();\n  const setBirth = React.useCallback(\n    (birth: string) => dispatch(updateBirthdayAction({ birthday: birth })),\n    [dispatch]\n  );\n\n  const { birthday, age } = useSelector(selectUser);\n\n  return {\n    birth: birthday,\n    age,\n    setBirth,\n  };\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { DatePicker } from \"@material-ui/pickers\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Card from \"@material-ui/core/Card\";\nimport TextField from \"@material-ui/core/TextField\";\n\nimport { useUser } from \"../../hooks/useUser\";\n\nexport function ProfileCard() {\n  const { birth, age, setBirth } = useUser();\n\n  const handleDateChange = React.useCallback(\n    (date: Date | null) => {\n      if (!date) return;\n      setBirth(date.toISOString());\n    },\n    [setBirth]\n  );\n\n  return (\n    <_Card>\n      <Avatar alt=\"you\" />\n      <TextField\n        id=\"age-text\"\n        label=\"Your Age\"\n        disabled\n        InputProps={{\n          readOnly: true,\n        }}\n        InputLabelProps={{\n          shrink: true,\n        }}\n        type=\"number\"\n        value={age}\n      />\n      <DatePicker\n        disableFuture\n        openTo=\"year\"\n        format=\"yyyy-MM-dd\"\n        label=\"Date of birth\"\n        views={[\"year\", \"month\", \"date\"]}\n        value={birth}\n        onChange={handleDateChange}\n      />\n    </_Card>\n  );\n};\n\nconst _Card = styled(Card)`\n  display: flex;\n  gap: 1rem;\n  padding: 2rem;\n`;\n","import { v4 as uuidV4 } from \"uuid\";\n\nexport function uuid() {\n  return uuidV4();\n}\n","// field name\nexport const FIELD1 = \"FIELD1\";\nexport const FIELD2 = \"FIELD2\";\n\n// keys\nexport const NAME_OF_STORY_ID = \"storyId\";\nexport const NAME_OF_ORDER = \"order\";\nexport const RESOURCE_NAME_KEY = \"RESOURCE_NAME_KEY\";\n\n// calendar ID\nexport const MY_CALENDAR_ID = \"MY_CALENDAR_ID\";\nexport const COMMUNITY_COLLEGE_AFTERWARDS_WORKING_HOLIDAY_CALENDAR_ID =\n  \"CCAWH_CALENDAR_ID\";\n\n// story ID\nexport const PROFILE_ID = \"PROFILE_ID\";\n\n// resouce ID\nexport const RESOURCE_ID__SHARED__AGE = \"RESOURCE_ID__SHARED__AGE\";\nexport const RESOURCE_ID__SHARED__LIMIT = \"RESOURCE_ID__SHARED__LIMIT\";\nexport const RESOURCE_ID__VISA__STUDY = \"RESOURCE_ID__VISA__STUDY\";\nexport const RESOURCE_ID__VISA__COOP = \"RESOURCE_ID__VISA__COOP\";\nexport const RESOURCE_ID__VISA__WORKING_HOLIDAY =\n  \"RESOURCE_ID__VISA__WORKING_HOLIDAY\";\nexport const RESOURCE_ID__STATUS__WORKER = \"RESOURCE_ID__STATUS__WORKER\";\nexport const RESOURCE_ID__STATUS__STUDENT = \"RESOURCE_ID__STATUS__STUDENT\";\nexport const RESOURCE_ID__ETC__CUSTOM = \"RESOURCE_ID__ETC__CUSTOM\";\nexport type RESOURCE_ID =\n  | typeof RESOURCE_ID__SHARED__AGE\n  | typeof RESOURCE_ID__SHARED__LIMIT\n  | typeof RESOURCE_ID__VISA__STUDY\n  | typeof RESOURCE_ID__VISA__COOP\n  | typeof RESOURCE_ID__VISA__WORKING_HOLIDAY\n  | typeof RESOURCE_ID__STATUS__WORKER\n  | typeof RESOURCE_ID__STATUS__STUDENT\n  | typeof RESOURCE_ID__ETC__CUSTOM;\n","import { FIELD1, FIELD2 } from \"./settings\";\n\nexport const DARK_BLUE = \"#00008b\";\n\nconst FIELD__H1__VISA = \"VISA\";\nconst FIELD__H1__STATUS = \"STATUS\";\n\nexport const RESOURCE_TEMPLATE__VISA_STUDY = {\n  [FIELD1]: FIELD__H1__VISA,\n  [FIELD2]: \"Study VISA\",\n  eventBorderColor: DARK_BLUE,\n};\n\nexport const RESOURCE_TEMPLATE__VISA_COOP = {\n  [FIELD1]: FIELD__H1__VISA,\n  [FIELD2]: \"Co-op VISA\",\n  eventBorderColor: DARK_BLUE,\n};\n\nexport const RESOURCE_TEMPLATE__WORKING_HOLIDAY_COOP = {\n  [FIELD1]: FIELD__H1__VISA,\n  [FIELD2]: \"Working Holiday VISA\",\n  eventBorderColor: DARK_BLUE,\n};\n\nexport const RESOURCE_TEMPLATE__STUDENT_STATUS = {\n  [FIELD1]: FIELD__H1__STATUS,\n  [FIELD2]: \"Student\",\n  eventBorderColor: DARK_BLUE,\n};\n\nexport const RESOURCE_TEMPLATE__WORKER_STATUS = {\n  [FIELD1]: FIELD__H1__STATUS,\n  [FIELD2]: \"Worker\",\n  eventBorderColor: DARK_BLUE,\n};\n","export const convertIsoToDateTime = (isoStr: string) => isoStr.split(\"T\")[0];\n\nexport const convertIsoToYearAndMonth = (isoStr: string) =>\n  convertIsoToDateTime(isoStr).replace(/-[0-9][0-9]$/, \"\");\n","import { EventInput } from \"@fullcalendar/react\";\nimport { uuid } from \"../../lib/uuid\";\n\ntype MyEvent = {\n  id: string;\n  resourceId: string;\n  storyId: string;\n  title?: string;\n  start: Date | string;\n  end: Date | string;\n};\n\nexport type BaseEvent = MyEvent | EventInput;\n\nexport const initEvent = (props?: Partial<BaseEvent>): BaseEvent => {\n  const { id, resourceId, storyId, title, start, end } = props ?? {};\n  return {\n    id: id ?? uuid(),\n    resourceId: resourceId ?? uuid(),\n    storyId: storyId ?? uuid(),\n    title,\n    start: start ?? new Date().toISOString(),\n    end: end ?? new Date().toISOString(),\n  };\n};\n","import { uuid } from \"../../lib/uuid\";\nimport {\n  NAME_OF_ORDER,\n  NAME_OF_STORY_ID,\n  FIELD1,\n  FIELD2,\n} from \"../../constants/fullcalendar/settings\";\n\nexport type BaseResource = {\n  id: string;\n  calendarId: string;\n  [FIELD1]: string;\n  [FIELD2]: string;\n  [NAME_OF_STORY_ID]: string;\n  [NAME_OF_ORDER]?: number;\n  eventBorderColor?: string;\n};\n\nexport const initResource = (props?: Partial<BaseResource>): BaseResource => {\n  const { id, calendarId, storyId } = props ?? {};\n  return {\n    id: id ?? uuid(),\n    calendarId: calendarId ?? uuid(),\n    [NAME_OF_STORY_ID]: storyId ?? uuid(),\n    [NAME_OF_ORDER]: 1,\n    [FIELD1]: \"Field1\",\n    [FIELD2]: \"Field2\",\n  };\n};\n\nexport const updateResource = (\n  resource: BaseResource,\n  params: Partial<Omit<BaseResource, \"id\" | \"storyId\">>\n): BaseResource => {\n  const order = params[NAME_OF_ORDER];\n  const field1 = params[FIELD1];\n  const field2 = params[FIELD2];\n\n  const orderKey = NAME_OF_ORDER;\n  const field1Key = FIELD1;\n  const field2Key = FIELD2;\n\n  const newResource = Object.assign(\n    { ...resource },\n    order !== undefined && { [orderKey]: order },\n    field1 !== undefined && { [field1Key]: field1 },\n    field2 !== undefined && { [field2Key]: field2 }\n  );\n\n  return newResource;\n};\n","import { convertIsoToYearAndMonth } from \"../../lib/date\";\nimport { BaseEvent, initEvent } from \"../event/BaseEvent\";\nimport { BaseResource, initResource } from \"../resource/BaseResource\";\nimport { uuid } from \"../../lib/uuid\";\n\nexport type BaseStory = {\n  id: string;\n  calendarId: string;\n  events: BaseEvent[];\n  resources: BaseResource[];\n  name: string;\n};\n\nexport const removeEvent = (story: BaseStory, eventId: string): BaseStory => {\n  const newEvents = story.events.filter((event) => event.id !== eventId);\n  return { ...story, events: newEvents };\n};\n\nexport const createStoryName = (birth: Date) => {\n  return convertIsoToYearAndMonth(birth.toISOString());\n};\n\nexport const initStory = (props?: Partial<BaseStory>): BaseStory => {\n  const { id, calendarId: _calendarId, events, resources, name } = props ?? {};\n\n  const storyId = id ?? uuid();\n  const calendarId = _calendarId ?? uuid();\n  const eventId = uuid();\n  const _events = events ?? [initEvent({ id: eventId, storyId })];\n  const _resources = resources ?? [initResource({ calendarId, storyId })];\n\n  return {\n    id: storyId,\n    calendarId,\n    events: _events,\n    resources: _resources,\n    name: name ?? \"No Name\",\n  };\n};\n","import { addMonths, addYears, setMonth } from \"date-fns\";\nimport { ProfileStory } from \"./model\";\nimport {\n  PROFILE_ID,\n  RESOURCE_ID__SHARED__AGE,\n  RESOURCE_ID__SHARED__LIMIT,\n} from \"../../../constants/fullcalendar/settings\";\nimport {\n  FIELD1,\n  FIELD2,\n  NAME_OF_STORY_ID,\n  NAME_OF_ORDER,\n} from \"../../../constants/fullcalendar/settings\";\nimport { DARK_BLUE } from \"../../../constants/fullcalendar/templates\";\nimport { createStoryName } from \"../BaseStory\";\nimport { getRangeNumbers } from \"../../../lib/age\";\nimport { uuid } from \"../../../lib/uuid\";\nimport { convertIsoToDateTime } from \"../../../lib/date\";\nimport { WORKING_HOLIDAY_APPLICATION_LIMITATION_AGE } from \"../../../constants/visa\";\nimport { BaseEvent } from \"../../event/BaseEvent\";\n\nexport const createProfileStory = ({\n  birth,\n  calendarId,\n}: {\n  birth: string | Date;\n  calendarId: string;\n}): ProfileStory => {\n  const _birth = new Date(birth);\n\n  const storyId = PROFILE_ID;\n\n  return {\n    id: storyId,\n    calendarId,\n    name: createStoryName(_birth),\n    resources: createResources({ calendarId, storyId }),\n    events: generateEvents(_birth, storyId),\n  };\n};\n\nexport const createResources = ({\n  calendarId,\n  storyId,\n}: {\n  calendarId: string;\n  storyId: string;\n}) => [\n  {\n    id: RESOURCE_ID__SHARED__AGE,\n    [FIELD1]: \"\",\n    [FIELD2]: \"Age\",\n    [NAME_OF_STORY_ID]: storyId,\n    [NAME_OF_ORDER]: 0,\n    calendarId,\n    eventBorderColor: DARK_BLUE,\n  },\n  {\n    id: RESOURCE_ID__SHARED__LIMIT,\n    [FIELD1]: \"\",\n    [FIELD2]: \"Working Holiday Application Limit\",\n    [NAME_OF_STORY_ID]: storyId,\n    [NAME_OF_ORDER]: 1,\n    calendarId,\n    eventBorderColor: DARK_BLUE,\n  },\n];\n\nconst generateEvents = (startDate: Date, storyId: string): BaseEvent[] => {\n  // get year num\n  const endYear = getLastYear();\n  const startYear = new Date(startDate).getFullYear();\n\n  // create years list\n  const years = getRangeNumbers(startYear, endYear);\n\n  const workingHolidayLimitEvents = createWorkingHolidayLimitEvents(\n    startDate,\n    storyId\n  );\n\n  // create EventInput obj\n  const ageEventList = years.map((year, index) => {\n    const start = (() => {\n      startDate.setFullYear(year);\n      const isoStr = startDate.toISOString();\n      const str = convertIsoToDateTime(isoStr);\n      return str;\n    })();\n\n    const isoStr = addMonths(new Date(start), +11).toISOString();\n    const end = convertIsoToDateTime(isoStr);\n\n    return {\n      id: uuid(),\n      resourceId: RESOURCE_ID__SHARED__AGE,\n      title: `Aage:${index}`,\n      storyId,\n      start,\n      end,\n    };\n  });\n\n  return [...workingHolidayLimitEvents, ...ageEventList];\n};\n\nconst getLastYear = () => {\n  const BUFFER_YEAR = 10;\n  const date = new Date();\n  return addYears(date, BUFFER_YEAR).getFullYear();\n};\n\nconst createWorkingHolidayLimitEvents = (\n  birthday: Date,\n  storyId: string\n): BaseEvent[] => {\n  const lastYearDate = addYears(\n    birthday,\n    WORKING_HOLIDAY_APPLICATION_LIMITATION_AGE\n  );\n  const start = convertIsoToDateTime(birthday.toISOString());\n  const endDate = addMonths(lastYearDate, +11);\n  const endOfLimit = convertIsoToDateTime(endDate.toISOString());\n  const endOfApplication = convertIsoToDateTime(\n    addYears(setMonth(endDate, +6), -1).toISOString()\n  );\n\n  const limitation = {\n    id: uuid(),\n    resourceId: RESOURCE_ID__SHARED__LIMIT,\n    title: \"Limitation till WorkingHoliday\",\n    storyId,\n    start,\n    end: endOfLimit,\n  };\n\n  const application = {\n    id: uuid(),\n    resourceId: RESOURCE_ID__SHARED__LIMIT,\n    title: \"Application Limit\",\n    storyId,\n    start,\n    end: endOfApplication,\n  };\n  return [limitation, application];\n};\n","// working holiday have to be applied by age of 31.\nexport const WORKING_HOLIDAY_APPLICATION_LIMITATION_AGE = 31;\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { RootState } from \"../rootReducer\";\nimport { BaseCalendar } from \"../../core/calendar/BaseCalendar\";\nimport { BaseStory } from \"../../core/story/BaseStory\";\nimport { BaseEvent } from \"../../core/event/BaseEvent\";\nimport { BaseResource } from \"../../core/resource/BaseResource\";\n\ntype Calendar = BaseCalendar;\ntype UpdateCalendarsPayload = { calendars: Calendar[] };\ntype PushRsourceAction = {\n  calendarId: string;\n  storyId: string;\n  resource: BaseResource;\n};\ntype UpdateResourcePayload = {\n  calendarId: string;\n  storyId: string;\n  newResource: BaseResource;\n};\ntype RemoveResourcePayload = {\n  calendarId: string;\n  storyId: string;\n  resourceId: string;\n};\ntype AddStoryPayload = { calendarId: string; story: BaseStory };\ntype RemoveStoryPayload = { calendarId: string; storyId: string };\ntype AddEventPayload = {\n  calendarId: string;\n  storyId: string;\n  event: BaseEvent;\n};\ntype RemoveEventPayload = {\n  calendarId: string;\n  eventId: string;\n};\n\nconst userCalendarsSlice = createSlice({\n  name: \"userCalendars\",\n  initialState: {\n    calendars: [] as Calendar[],\n  },\n  reducers: {\n    updateCalendars(state, action: PayloadAction<UpdateCalendarsPayload>) {\n      const { calendars } = action.payload;\n      state.calendars = calendars;\n    },\n    pushResource(state, action: PayloadAction<PushRsourceAction>) {\n      const { calendarId, storyId, resource } = action.payload;\n\n      // calendar\n      const calendarIdx = state.calendars.findIndex(\n        (calendar) => calendar.id === calendarId\n      );\n      const cannotFind = calendarIdx === -1;\n      if (cannotFind) {\n        console.warn(\"cannot find calendar on updateResource\", calendarId);\n        return;\n      }\n\n      // story\n      const storyIdx = state.calendars[calendarIdx].stories.findIndex(\n        (story) => story.id === storyId\n      );\n      const cannotFindStory = storyIdx === -1;\n      if (cannotFindStory) {\n        console.warn(\"cannot find story on updateResource\", calendarId);\n        return;\n      }\n\n      // process\n      state.calendars[calendarIdx].stories[storyIdx].resources.push(resource);\n    },\n    updateResource(state, action: PayloadAction<UpdateResourcePayload>) {\n      const { calendarId, storyId, newResource } = action.payload;\n\n      // calendar\n      const calendarIdx = state.calendars.findIndex(\n        (calendar) => calendar.id === calendarId\n      );\n      const cannotFind = calendarIdx === -1;\n      if (cannotFind) {\n        console.warn(\"cannot find calendar on updateResource\", calendarId);\n        return;\n      }\n\n      // story\n      const storyIdx = state.calendars[calendarIdx].stories.findIndex(\n        (story) => story.id === storyId\n      );\n      const cannotFindStory = storyIdx === -1;\n      if (cannotFindStory) {\n        console.warn(\"cannot find story on updateResource\", calendarId);\n        return;\n      }\n\n      // query\n      const resourceIdx = state.calendars[calendarIdx].stories[\n        storyIdx\n      ].resources.findIndex((resource) => resource.id === newResource.id);\n      const cannotFindResource = resourceIdx === -1;\n      if (cannotFindResource) {\n        console.warn(\"cannot find resource on updateResource\", calendarId);\n        return;\n      }\n      state.calendars[calendarIdx].stories[storyIdx].resources[\n        resourceIdx\n      ] = newResource;\n    },\n    removeResource(state, action: PayloadAction<RemoveResourcePayload>) {\n      const { calendarId, resourceId, storyId } = action.payload;\n\n      // calendar\n      const calendarIdx = state.calendars.findIndex(\n        (calendar) => calendar.id === calendarId\n      );\n      const cannotFind = calendarIdx === -1;\n      if (cannotFind) {\n        console.warn(\"cannot find calendar on removeResource\", calendarId);\n        return;\n      }\n\n      // story\n      const storyIdx = state.calendars[calendarIdx].stories.findIndex(\n        (story) => story.id === storyId\n      );\n      const cannotFindStory = storyIdx === -1;\n      if (cannotFindStory) {\n        console.warn(\"cannot find story on removeResource\", calendarId);\n        return;\n      }\n\n      // query\n      state.calendars[calendarIdx].stories[\n        storyIdx\n      ].resources = state.calendars[calendarIdx].stories[\n        storyIdx\n      ].resources.filter((resource) => resource.id !== resourceId);\n    },\n    addStory(state, action: PayloadAction<AddStoryPayload>) {\n      const { calendarId, story } = action.payload;\n      const idx = state.calendars.findIndex(\n        (calendar) => calendar.id === calendarId\n      );\n      const cannotFind = idx === -1;\n      if (cannotFind) {\n        console.warn(\"cannot find calendar on addStory\", calendarId);\n        return;\n      }\n      state.calendars[idx].stories.push(story);\n    },\n    removeStory(state, action: PayloadAction<RemoveStoryPayload>) {\n      const { calendarId, storyId } = action.payload;\n      const idx = state.calendars.findIndex(\n        (calendar) => calendar.id === calendarId\n      );\n      const cannotFind = idx === -1;\n      if (cannotFind) {\n        console.warn(\"cannot find calendar on removeStory\", calendarId);\n        return;\n      }\n      state.calendars[idx].stories = state.calendars[idx].stories.filter(\n        (story) => story.id !== storyId\n      );\n    },\n    addEvent(state, action: PayloadAction<AddEventPayload>) {\n      const { calendarId, storyId, event } = action.payload;\n\n      // calendar\n      const calendarIdx = state.calendars.findIndex(\n        (calendar) => calendar.id === calendarId\n      );\n      const cannotFindCalendar = calendarIdx === -1;\n      if (cannotFindCalendar) {\n        console.warn(\"cannot find calendar on addEvent\", calendarId);\n        return;\n      }\n\n      // story\n      const storyIdx = state.calendars[calendarIdx].stories.findIndex(\n        (story) => story.id === storyId\n      );\n      const cannotFindStory = storyIdx === -1;\n      if (cannotFindStory) {\n        console.warn(\"cannot find story on addEvent\", calendarId);\n        return;\n      }\n\n      // addd\n      state.calendars[calendarIdx].stories[storyIdx].events.push(event);\n    },\n    removeEvent(state, action: PayloadAction<RemoveEventPayload>) {\n      const { calendarId, eventId } = action.payload;\n\n      // calendar\n      const calendarIdx = state.calendars.findIndex(\n        (calendar) => calendar.id === calendarId\n      );\n      const cannotFindCalendar = calendarIdx === -1;\n      if (cannotFindCalendar) {\n        console.warn(\"cannot find calendar on removeEvent\", calendarId);\n        return;\n      }\n\n      // story\n      const storyIdx = state.calendars[calendarIdx].stories.findIndex(\n        (story) => {\n          return story.events.some((_event) => _event.id === eventId);\n        }\n      );\n      const cannotFindStory = storyIdx === -1;\n      if (cannotFindStory) {\n        console.warn(\"cannot find story on removeEvent\", storyIdx);\n        return;\n      }\n\n      // remove\n      state.calendars[calendarIdx].stories[storyIdx].events = state.calendars[\n        calendarIdx\n      ].stories[storyIdx].events.filter((_event) => _event.id !== eventId);\n    },\n  },\n});\n\nexport const {\n  updateCalendars: updateCalendarsAction,\n  pushResource: pushResourceAction,\n  updateResource: updateResourceAction,\n  removeResource: removeResourceAction,\n  addStory: addStoryAction,\n  removeStory: removeStoryAction,\n  addEvent: addEventAction,\n  removeEvent: removeEventAction,\n} = userCalendarsSlice.actions;\n\nexport default userCalendarsSlice.reducer;\n\n// export const selectUserCalendars = (state: RootState) =>\n//   state.userCalendars.calendars;\n\nexport const selectUserCalendar = (state: RootState) =>\n  state.userCalendars.calendars[0]; // NOTE: now calendars have only 1 calendar.\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { DateSelectArg, EventClickArg } from \"@fullcalendar/react\";\nimport { uuid } from \"../lib/uuid\";\nimport { createProfileStory } from \"../core/story/ProfileStory/createProfileStory\";\nimport { initStory } from \"../core/story/BaseStory\";\nimport { createUserCalendar } from \"../core/calendar/UserCalendar/createUserCalendar\";\nimport {\n  // events\n  updateCalendarsAction,\n  addEventAction,\n  removeEventAction,\n\n  // storeis\n  addStoryAction,\n  // resources\n\n  // selector\n  selectUserCalendar,\n} from \"../redux/features/userCalendars\";\nimport { MY_CALENDAR_ID } from \"../constants/fullcalendar/settings\";\n\nexport const useUserCalendar = () => {\n  const dispatch = useDispatch();\n  const calendar = useSelector(selectUserCalendar);\n\n  const init = React.useCallback(\n    (birthday: string | Date) => {\n      const calendarId = MY_CALENDAR_ID;\n      const story = createProfileStory({ birth: birthday, calendarId });\n      const _calendar = createUserCalendar({\n        id: calendarId,\n        stories: [story],\n      });\n      const _calendars = [_calendar];\n      dispatch(updateCalendarsAction({ calendars: _calendars }));\n    },\n    [dispatch]\n  );\n\n  const select = React.useCallback(\n    (info: DateSelectArg) => {\n      if (!info.resource) {\n        console.warn(\"Unexpected data that info does not have resource.\");\n        return;\n      }\n      const storyId = info.resource.extendedProps.storyId;\n      if (!storyId) {\n        console.warn(\"Unexpected data not including storyId.\");\n        return;\n      }\n\n      const calendarId = calendar.id;\n      const newEvent = {\n        id: uuid(),\n        resourceId: info.resource.id,\n        start: info.startStr,\n        end: info.endStr,\n      };\n\n      dispatch(addEventAction({ event: newEvent, calendarId, storyId }));\n    },\n    [calendar, dispatch]\n  );\n\n  const click = React.useCallback(\n    (info: EventClickArg) => {\n      if (!window.confirm(\"Would you like to remove this event?\")) return;\n\n      const calendarId = calendar.id;\n      const eventId = info.event.id;\n      if (!eventId) {\n        console.warn(\"Unexpected data. cannot find event id.\");\n        return;\n      }\n\n      dispatch(removeEventAction({ calendarId, eventId }));\n    },\n    [dispatch, calendar]\n  );\n\n  const createStory = React.useCallback(() => {\n    const calendarId = calendar.id;\n    const story = initStory({ calendarId });\n    dispatch(addStoryAction({ calendarId, story }));\n  }, [dispatch, calendar]);\n\n  const stories = React.useMemo(() => calendar?.stories ?? [], [calendar]);\n\n  const events = React.useMemo(\n    () => calendar?.stories.flatMap((story) => story.events) ?? [],\n    [calendar]\n  );\n\n  const resources = React.useMemo(\n    () => calendar?.stories.flatMap((story) => story.resources) ?? [],\n    [calendar]\n  );\n\n  return {\n    calendar,\n    stories,\n    events,\n    resources,\n    init,\n    click,\n    select,\n    createStory,\n  } as const;\n};\n","import { UserCalendar } from \"./model\";\nimport { ProfileStory } from \"../../story/ProfileStory/model\";\n\ntype Story = ProfileStory;\n\nexport const createUserCalendar = ({\n  id,\n  stories,\n}: {\n  id: string;\n  stories: Story[];\n}): UserCalendar => {\n  return {\n    id,\n    stories,\n  };\n};\n","import { NAME_OF_STORY_ID, NAME_OF_ORDER } from \"./settings\";\n\nexport const MY_TIME_LINE_NAME = \"MY_TIME_LINE_NAME\";\n\nexport const AGE_OF_START_STORY = 21;\n\nconst slotLabelFormat = [{ year: \"numeric\" }, { month: \"numeric\" }];\n\nconst headerToolbar = {\n  left: \"today prev,next\",\n  center: \"title\",\n  right: `${MY_TIME_LINE_NAME},listMonth`,\n} as const;\n\nconst initialView = { initialView: MY_TIME_LINE_NAME } as const;\n\nconst resourceGroupField = { resourceGroupField: NAME_OF_STORY_ID } as const;\n\nconst schedulerLicenseKey = {\n  schedulerLicenseKey: \"GPL-My-Project-Is-Open-Source\",\n} as const;\n\nconst views = {\n  [MY_TIME_LINE_NAME]: {\n    type: \"resourceTimelineYear\",\n    duration: { year: 15 },\n    buttonText: \"TIME_LINE\",\n  },\n} as const;\n\nconst nowIndicator = {\n  nowIndicator: true,\n} as const;\n\nconst resourceConfigs = {\n  resourceOrder: NAME_OF_ORDER,\n  resourcesInitiallyExpanded: false,\n} as const;\n\nexport const FULL_CALENDAR_CONFIGS = {\n  views,\n  headerToolbar,\n  slotLabelFormat,\n  ...initialView,\n  ...resourceGroupField,\n  ...schedulerLicenseKey,\n  ...nowIndicator,\n  ...resourceConfigs,\n} as const;\n","import React, { PropsWithChildren } from \"react\";\nimport FullCalendarLib from \"@fullcalendar/react\";\nimport resourceTimelinePlugin from \"@fullcalendar/resource-timeline\";\nimport listPlugin from \"@fullcalendar/list\";\nimport interactionPlugin from \"@fullcalendar/interaction\";\nimport { FULL_CALENDAR_CONFIGS } from \"../../constants/fullcalendar/options\";\n\nexport function BaseFullCalendar<T>(props: PropsWithChildren<T>) {\n  return (\n    <FullCalendarLib\n      {...FULL_CALENDAR_CONFIGS}\n      plugins={[interactionPlugin, resourceTimelinePlugin, listPlugin]}\n      {...props}\n    />\n  );\n}\n","import React from \"react\";\nimport { BaseFullCalendar } from \"../components/atoms/BaseFullCalendar\";\n\nexport function BaseCalendarContainer(props: any) {\n  const args = {\n    // \n  };\n\n  return <BaseFullCalendar {...props} {...args} />;\n}\n","import React from \"react\";\n// import { useDispatch, useSelector } from \"react-redux\";\nimport { useSelector } from \"react-redux\";\nimport { selectUserCalendar } from \"../redux/features/userCalendars\";\nimport { MY_CALENDAR_ID } from \"../constants/fullcalendar/settings\";\n\n\ntype Props = {\n  createOpenHandle: Function;\n}\n\ntype ContentProps = {\n  // REF: https://fullcalendar.io/docs/resource-group-render-hooks\n  groupValue: string;\n};\n\nexport const useResourceGroupLabelContentInUserCalendar = ({createOpenHandle}: Props) => {\n  // const dispatch = useDispatch();\n  const calendar = useSelector(\n    selectUserCalendar\n  );\n\n  const resourceGroupLabelContent = React.useCallback(\n    ({ groupValue: storyId }: ContentProps) => {\n      if (!calendar) return;\n\n      // story validation\n      const story = calendar.stories.find((story) => story.id === storyId);\n      if (!story) {\n        console.warn(\"cannot find story\", storyId);\n        return;\n      }\n\n      // name handler\n      let name: string;\n      if (story.name) {\n        name = story.name;\n      } else {\n        console.warn(\"cannot find this story name\", storyId);\n        name = \"No Name\";\n      }\n\n      const calendarId = MY_CALENDAR_ID;\n      const openHandle = createOpenHandle({calendarId, storyId})\n\n      const nameElement = document.createElement('i')\n      nameElement.innerHTML = name + ' ' // NOTE: space is for design, so not good way\n\n      const buttonElement = document.createElement('button')\n      buttonElement.innerHTML = '︙'\n      buttonElement.onclick = openHandle\n\n      const arrayOfDomNodes = [nameElement, buttonElement];\n      return { domNodes: arrayOfDomNodes };\n    },\n    [calendar, createOpenHandle]\n  );\n\n  return {resourceGroupLabelContent};\n};\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { RootState } from \"../rootReducer\";\n\ntype State = {\n  resource: null | {\n    calendarId: string;\n    storyId: string;\n    resourceId: string;\n  };\n};\n\ntype PushPayload = {\n  calendarId: string;\n  storyId: string;\n  resourceId: string;\n};\n\ntype PopPayload = undefined;\n\nconst slice = createSlice({\n  name: \"resourceModal\",\n  initialState: {\n    resource: null,\n  } as State,\n  reducers: {\n    push(state, action: PayloadAction<PushPayload>) {\n      const _payload = action.payload;\n      state.resource = _payload;\n    },\n    pop(state, _action: PayloadAction<PopPayload>) {\n      state.resource = null;\n    },\n  },\n});\n\nexport const selectIsOpen = (state: RootState) =>\n  !!state.resourceModal.resource;\n\nexport const selectResourceModal = (state: RootState) =>\n  state.resourceModal.resource;\n\nexport const selectResource = (state: RootState) => {\n  const _resource = state.resourceModal.resource;\n  if (!_resource) return null;\n  const { calendarId, storyId, resourceId } = _resource;\n\n  // calendar\n  const calendarIdx = state.userCalendars.calendars.findIndex(\n    (calendar) => calendar.id === calendarId\n  );\n  const cannotFind = calendarIdx === -1;\n  if (cannotFind) {\n    console.warn(\"cannot find calendar on removeResource\", calendarId);\n    return;\n  }\n\n  // story\n  const storyIdx = state.userCalendars.calendars[calendarIdx].stories.findIndex(\n    (story) => story.id === storyId\n  );\n  const cannotFindStory = storyIdx === -1;\n  if (cannotFindStory) {\n    console.warn(\"cannot find story on removeResource\", calendarId);\n    return;\n  }\n\n  //\n  return state.userCalendars.calendars[calendarIdx].stories[\n    storyIdx\n  ].resources.find((resource) => resource.id === resourceId);\n};\n\nexport const { push: pushAction, pop: popAction } = slice.actions;\n\nexport default slice.reducer;\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { RootState } from \"../rootReducer\";\n\ntype State = {\n  story: null | {\n    calendarId: string;\n    storyId: string;\n  };\n};\n\ntype PushPayload = {\n  calendarId: string;\n  storyId: string;\n};\n\ntype PopPayload = undefined;\n\nconst slice = createSlice({\n  name: \"sotryModal\",\n  initialState: {\n    story: null,\n  } as State,\n  reducers: {\n    push(state, action: PayloadAction<PushPayload>) {\n      const _payload = action.payload;\n      state.story = _payload;\n    },\n    pop(state, _action: PayloadAction<PopPayload>) {\n      state.story = null;\n    },\n  },\n});\n\nexport const selectIsOpen = (state: RootState) => !!state.storyModal.story;\n\nexport const selectStoryModal = (state: RootState) => state.storyModal.story;\n\nexport const selectStory = (state: RootState) => {\n  const _story = state.storyModal.story;\n  if (!_story) return null;\n  const { calendarId, storyId } = _story;\n\n  // calendar\n  const calendarIdx = state.userCalendars.calendars.findIndex(\n    (calendar) => calendar.id === calendarId\n  );\n  const cannotFind = calendarIdx === -1;\n  if (cannotFind) {\n    console.warn(\"cannot find calendar on removeStory\", calendarId);\n    return;\n  }\n\n  // story\n  return state.userCalendars.calendars[calendarIdx].stories.find(\n    (story) => story.id === storyId\n  );\n};\n\nexport const { push: pushAction, pop: popAction } = slice.actions;\n\nexport default slice.reducer;\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { selectResource } from \"../redux/ui/resourceModal\";\nimport { selectUserCalendar } from \"../redux/features/userCalendars\";\nimport {\n  removeResourceAction,\n  updateResourceAction,\n  pushResourceAction,\n} from \"../redux/features/userCalendars\";\nimport {\n  BaseResource,\n  initResource,\n  updateResource,\n} from \"../core/resource/BaseResource\";\n\ntype IdSet = { calendarId: string; resourceId: string; storyId: string };\n\nexport const useResource = () => {\n  const dispatch = useDispatch();\n\n  // TODO: remoove this line and get from arg in each function\n  const resource = useSelector(selectResource);\n  const calendar = useSelector(selectUserCalendar);\n\n  const push = React.useCallback(\n    ({ calendarId, storyId }: { calendarId: string; storyId: string }) => {\n      // story\n      const storyIdx = calendar.stories.findIndex(\n        (story) => story.id === storyId\n      );\n      const cannotFindStory = storyIdx === -1;\n      if (cannotFindStory) {\n        console.warn(\"cannot find story on updateResource\", calendarId);\n        return;\n      }\n\n      // resource\n      const _resources = calendar.stories[storyIdx].resources;\n      let lastResource = { idx: -1, order: -1 };\n      for (let i = 0; i < _resources.length; i++) {\n        const resource = _resources[i];\n        const _order = resource.order ?? -1;\n        if (_order > lastResource.order) {\n          lastResource = { idx: i, order: _order };\n        }\n      }\n\n      const _resource = initResource({\n        calendarId,\n        storyId,\n        order: lastResource.order + 1,\n      });\n\n      dispatch(pushResourceAction({ calendarId, storyId, resource:_resource }));\n    },\n    [dispatch, calendar]\n  );\n\n  const remove = React.useCallback(\n    ({ calendarId, resourceId, storyId }: IdSet) => {\n      if (!window.confirm(\"Do you remove this resource?\")) return;\n\n      dispatch(\n        removeResourceAction({\n          resourceId: resourceId,\n          storyId: storyId,\n          calendarId,\n        })\n      );\n    },\n    [dispatch]\n  );\n\n  const update = React.useCallback(\n    ({ calendarId, storyId }: IdSet, params: Partial<BaseResource>) => {\n      if (!resource) {\n        return console.warn(\"Invalid data status when to update resource.\");\n      }\n\n      const newResource = updateResource(resource, params);\n      dispatch(\n        updateResourceAction({\n          calendarId,\n          storyId: storyId,\n          newResource,\n        })\n      );\n    },\n    [dispatch, resource]\n  );\n\n  return { remove, update, push } as const;\n};\n","import React from \"react\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport { useForm } from \"react-hook-form\";\nimport { useSelector } from \"react-redux\";\nimport {\n  selectResourceModal,\n  selectResource,\n} from \"../../redux/ui/resourceModal\";\nimport { FIELD1, FIELD2 } from \"../../constants/fullcalendar/settings\";\nimport { useResource } from \"../../hooks/useResource\";\n\ntype Props = {\n  isOpen: boolean;\n  onClose: () => void;\n};\n\nexport function ResourceModal({ isOpen, onClose }: Props) {\n  const resourceModal = useSelector(selectResourceModal);\n  const resource = useSelector(selectResource);\n  const field1 = (resource && resource[FIELD1]) ?? \"\";\n  const field2 = (resource && resource[FIELD2]) ?? \"\";\n\n  const { remove, update } = useResource();\n\n  const onRemove = React.useCallback(() => {\n    if (!resourceModal) {\n      return console.warn(\"Invalid data status when to update resource.\");\n    }\n    remove(resourceModal);\n    onClose();\n  }, [resourceModal, remove, onClose]);\n\n  const onUpdate = React.useCallback(\n    (data: { [FIELD1]: string; [FIELD2]: string }) => {\n      if (!resourceModal) {\n        return console.warn(\"Invalid data status when to remove resource.\");\n      }\n      update(resourceModal, data);\n      onClose();\n    },\n    [resourceModal, update, onClose]\n  );\n\n  // TODO: error handler\n  // const { register, handleSubmit, errors } = useForm();\n  const { register, handleSubmit } = useForm();\n\n  return (\n    <Dialog onClose={onClose} open={isOpen}>\n      <DialogTitle>Resource</DialogTitle>\n      <DialogContent dividers={true}>\n        <form onSubmit={handleSubmit(onUpdate)}>\n          <input ref={register} name={FIELD1} defaultValue={field1} />\n          <input ref={register} name={FIELD2} defaultValue={field2} />\n          <input type=\"submit\" value=\"Update\" />\n        </form>\n        <hr />\n        <button onClick={onRemove}>Remove</button>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import React from \"react\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\n// import { useForm } from \"react-hook-form\";\nimport { useSelector } from \"react-redux\";\nimport { selectStoryModal } from \"../../redux/ui/storyModal\";\n// import { FIELD1, FIELD2 } from \"../../constants/fullcalendar/settings\";\nimport { useStory } from \"../../hooks/useStory\";\nimport { useResource } from \"../../hooks/useResource\";\n\ntype Props = {\n  isOpen: boolean;\n  onClose: () => void;\n};\n\nexport function StoryModal({ isOpen, onClose }: Props) {\n  const storyModal = useSelector(selectStoryModal);\n  // const story = useSelector(selectStory);\n  // const field1 = (resource && resource[FIELD1]) ?? \"\";\n  // const field2 = (resource && resource[FIELD2]) ?? \"\";\n\n  const { remove: removeStory } = useStory();\n  const { push: pushResource} = useResource();\n\n  const handleRemove = React.useCallback(() => {\n    if (!storyModal) {\n      return console.warn(\"Invalid data status when to update resource.\");\n    }\n    removeStory(storyModal);\n    onClose();\n  }, [storyModal, removeStory, onClose]);\n\n  const handleAddResource = React.useCallback(() => {\n    if(!storyModal){\n      return console.warn(\"Invalid data status when to add resource.\");\n    }\n    pushResource(storyModal)\n    onClose();\n  }, [storyModal, pushResource, onClose])\n\n  // const onUpdate = React.useCallback(\n  //   (data: { [FIELD1]: string; [FIELD2]: string }) => {\n  //     if (!storyModal) {\n  //       return console.warn(\"Invalid data status when to remove resource.\");\n  //     }\n  //     update(storyModal, data);\n  //     onClose();\n  //   },\n  //   [storyModal, update, onClose]\n  // );\n\n  // // TODO: error handler\n  // // const { register, handleSubmit, errors } = useForm();\n  // const { register, handleSubmit } = useForm();\n\n  return (\n    <Dialog onClose={onClose} open={isOpen}>\n      <DialogTitle>Resource</DialogTitle>\n      <DialogContent dividers={true}>\n        <div>Hello world</div>\n        <button onClick={handleRemove}>remove</button>\n        <button onClick={handleAddResource}>add resource</button>\n        {/* <form onSubmit={handleSubmit(onUpdate)}>\n          <input ref={register} name={FIELD1} defaultValue={field1} />\n          <input ref={register} name={FIELD2} defaultValue={field2} />\n          <input type=\"submit\" value=\"Update\" />\n        </form>\n        <hr />\n        <button onClick={handleRemove}>Remove</button> */}\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { removeStoryAction } from \"../redux/features/userCalendars\";\n\ntype IdSet = { calendarId: string; storyId: string };\n\nexport const useStory = () => {\n  const dispatch = useDispatch();\n\n  const remove = React.useCallback(\n    ({ calendarId, storyId }: IdSet) => {\n      if (!window.confirm(\"Do you remove this story?\")) return;\n      dispatch(\n        removeStoryAction({\n          storyId,\n          calendarId,\n        })\n      );\n    },\n    [dispatch]\n  );\n\n  return { remove } as const;\n};\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useUserCalendar } from \"../hooks/useUserCalendar\";\nimport { useUser } from \"../hooks/useUser\";\nimport { BaseCalendarContainer } from \"./BaseCalendarContainer\";\nimport { useResourceGroupLabelContentInUserCalendar } from \"../hooks/useResourceGroupLabelContentInUserCalendar\";\nimport { useResourceModal } from \"../hooks/useResourceModal\";\nimport { useStoryModal } from \"../hooks/useStoryModal\";\nimport { pushAction } from \"../redux/ui/storyModal\";\nimport { FIELD1, FIELD2 } from \"../constants/fullcalendar/settings\";\nimport { ResourceModal } from \"../components/molecules/ResourceModal\";\nimport { StoryModal } from \"../components/molecules/StoryModal\";\n\nconst ableConfis = {\n  selectable: true,\n  editable: true,\n} as const;\n\nexport function UserCalendarContainer() {\n  const {\n    push: pushResourceModal,\n    pop: popResourceModal,\n    isOpen: isOpenResourceModal,\n  } = useResourceModal();\n\n  const {\n    push: pushStoryModal,\n    pop: popStoryModal,\n    isOpen: isOpenStoryModal,\n  } = useStoryModal();\n\n  const { birth } = useUser();\n  const dispatch = useDispatch();\n\n  const createOpenStoryHandle = React.useCallback(\n    ({\n      calendarId,\n      storyId,\n    }: {\n      calendarId: string;\n      storyId: string;\n    }) => () => {\n      dispatch(pushAction({ calendarId, storyId }));\n      pushStoryModal({ calendarId, storyId });\n    },\n    [pushStoryModal, dispatch]\n  );\n\n  const {\n    resourceGroupLabelContent,\n  } = useResourceGroupLabelContentInUserCalendar({ createOpenHandle:createOpenStoryHandle });\n\n  const {\n    events,\n    resources,\n    init: initUserCalendar,\n    click,\n    select,\n    createStory,\n  } = useUserCalendar();\n\n  React.useEffect(() => {\n    initUserCalendar(birth);\n  }, [birth, initUserCalendar]);\n\n  const resourceAreaColumns = React.useMemo(\n    () => [\n      {\n        field: FIELD1,\n        headerContent: \"Category\",\n      },\n      {\n        field: FIELD2,\n        headerContent: \"Event\",\n        cellContent: function (arg: any) {\n          const props = arg.resource.extendedProps;\n          const storyId = props[\"storyId\"];\n          if (!storyId) {\n            return console.warn(\n              \"Invalid data that extended props doesn't storyId.\"\n            );\n          }\n          const resourceId = arg.resource.id;\n          if (!resourceId) {\n            return console.warn(\n              \"Invalid data that extended props doesn't resourceId.\"\n            );\n          }\n          const calendarId = props[\"calendarId\"];\n          if (!calendarId) {\n            return console.warn(\n              \"Invalid data that extended props doesn't calendarId.\"\n            );\n          }\n\n          let message = arg.fieldValue;\n          message += \"!!!\";\n\n          const containerEl = document.createElement(\"div\");\n\n          const buttonEl = document.createElement(\"button\");\n          buttonEl.innerHTML = \"︙\";\n          buttonEl.onclick = () =>\n            pushResourceModal({ calendarId, storyId, resourceId });\n          containerEl.appendChild(buttonEl);\n\n          const messageEl = document.createElement(\"span\");\n          messageEl.innerHTML = message;\n          containerEl.appendChild(messageEl);\n\n          const arrayOfDomNodes = [containerEl];\n          return { domNodes: arrayOfDomNodes };\n        },\n      },\n    ],\n    [pushResourceModal]\n  );\n\n  return (\n    <>\n      <div>\n        <BaseCalendarContainer\n          events={events}\n          resources={resources}\n          select={select}\n          eventClick={click}\n          initialDate={\"2020-06-01\"}\n          resourceGroupLabelContent={resourceGroupLabelContent}\n          resourceAreaColumns={resourceAreaColumns}\n          {...ableConfis}\n        />\n        {/* <button onClick={pushResourceModal}>resource:open</button> */}\n        <button onClick={createStory}>story:add</button>\n      </div>\n      <ResourceModal isOpen={isOpenResourceModal} onClose={popResourceModal} />\n      <StoryModal isOpen={isOpenStoryModal} onClose={popStoryModal} />\n    </>\n  );\n}\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { pushAction, popAction, selectIsOpen } from \"../redux/ui/resourceModal\";\n\nexport const useResourceModal = () => {\n  const dispatch = useDispatch();\n\n  const push = React.useCallback(\n    ({\n      resourceId,\n      storyId,\n      calendarId,\n    }: {\n      resourceId: string;\n      storyId: string;\n      calendarId: string;\n    }) => {\n      dispatch(pushAction({ calendarId, resourceId, storyId }));\n    },\n    [dispatch]\n  );\n\n  const pop = React.useCallback(() => {\n    dispatch(popAction());\n  }, [dispatch]);\n\n  const isOpen = useSelector(selectIsOpen);\n\n  return { push, pop, isOpen } as const;\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { pushAction, popAction, selectIsOpen } from \"../redux/ui/storyModal\";\n\nexport const useStoryModal = () => {\n  const dispatch = useDispatch();\n\n  const push = React.useCallback(\n    ({\n      storyId,\n      calendarId,\n    }: {\n      storyId: string;\n      calendarId: string;\n    }) => {\n      dispatch(pushAction({ calendarId, storyId }));\n    },\n    [dispatch]\n  );\n\n  const pop = React.useCallback(() => {\n    dispatch(popAction());\n  }, [dispatch]);\n\n  const isOpen = useSelector(selectIsOpen);\n\n  return { push, pop, isOpen } as const;\n};\n","import { BaseCalendar } from \"../BaseCalendar\";\nimport { COMMUNITY_COLLEGE_AFTERWARDS_WORKING_HOLIDAY_CALENDAR_ID } from \"../../../constants/fullcalendar/settings\";\n\nexport type CommunityCollegeAfterwardsWorkingHolidayCalendar = BaseCalendar;\n\nexport const calendarId = COMMUNITY_COLLEGE_AFTERWARDS_WORKING_HOLIDAY_CALENDAR_ID;\n","import { addMonths, addYears, setMonth } from \"date-fns\";\nimport {\n  RESOURCE_TEMPLATE__VISA_STUDY,\n  RESOURCE_TEMPLATE__VISA_COOP,\n  RESOURCE_TEMPLATE__WORKING_HOLIDAY_COOP,\n  RESOURCE_TEMPLATE__STUDENT_STATUS,\n  RESOURCE_TEMPLATE__WORKER_STATUS,\n} from \"../../../constants/fullcalendar/templates\";\nimport {\n  NAME_OF_STORY_ID,\n  NAME_OF_ORDER,\n} from \"../../../constants/fullcalendar/settings\";\nimport { uuid } from \"../../../lib/uuid\";\nimport { CommunityCollegeAfterwardsWorkingHolidayStory } from \"./model\";\nimport { createStoryName } from \"../BaseStory\";\nimport { BaseEvent } from \"../../event/BaseEvent\";\nimport { BaseResource } from \"../../resource/BaseResource\";\n\nconst VISA_BACKGROUND_COLOR = \"#8fbc8b\";\nconst STATUS_BACKGROUND_COLOR = \"#ffd700\";\nconst WH_WARN_BACKGROUND_COLOR = \"#e73758\";\n\nexport const build = ({\n  startDate,\n  calendarId,\n}: {\n  startDate: Date;\n  calendarId: string;\n}): CommunityCollegeAfterwardsWorkingHolidayStory => {\n  const storyId = uuid();\n  const name = createStoryName(startDate);\n  const [resources, events] = generateStory({ calendarId, storyId, startDate });\n  return {\n    id: storyId,\n    calendarId,\n    name,\n    events,\n    resources,\n  };\n};\n\nconst generateStory = ({\n  calendarId,\n  storyId,\n  startDate,\n}: {\n  calendarId: string;\n  storyId: string;\n  startDate: Date;\n}) => {\n  // Coop Visa\n  const coopVisaResourceId = uuid();\n  const coopVisaResource = {\n    ...RESOURCE_TEMPLATE__VISA_COOP,\n    id: coopVisaResourceId,\n    calendarId,\n    [NAME_OF_STORY_ID]: storyId,\n    [NAME_OF_ORDER]: 1,\n  };\n  const coopVisaEvent = {\n    id: uuid(),\n    resourceId: coopVisaResourceId,\n    storyId,\n    start: startDate.toISOString(),\n    end: addMonths(startDate, 12 * 2).toISOString(),\n    [NAME_OF_ORDER]: 1,\n    backgroundColor: VISA_BACKGROUND_COLOR,\n  };\n\n  // StudyVisa\n  const studyVisaResourceId = uuid();\n  const studyVisaResource = {\n    ...RESOURCE_TEMPLATE__VISA_STUDY,\n    id: studyVisaResourceId,\n    calendarId,\n    [NAME_OF_STORY_ID]: storyId,\n    [NAME_OF_ORDER]: 2,\n  };\n  const studyVisaEvent = {\n    id: uuid(),\n    resourceId: studyVisaResourceId,\n    storyId,\n    start: startDate.toISOString(),\n    end: addMonths(startDate, 12 * 2).toISOString(),\n    [NAME_OF_ORDER]: 2,\n    backgroundColor: VISA_BACKGROUND_COLOR,\n  };\n\n  // Working-holiday Visa\n  const workingholidayResourceId = uuid();\n  const workingholidayResource = {\n    ...RESOURCE_TEMPLATE__WORKING_HOLIDAY_COOP,\n    id: workingholidayResourceId,\n    calendarId,\n    [NAME_OF_STORY_ID]: storyId,\n    [NAME_OF_ORDER]: 3,\n  };\n  const dateAsStartWorkingHoliday = addMonths(startDate, 12 * 2);\n  const workingHolidayVisaEvent = {\n    id: uuid(),\n    resourceId: workingholidayResourceId,\n    storyId,\n    start: dateAsStartWorkingHoliday.toISOString(),\n    end: addMonths(dateAsStartWorkingHoliday, 12 * 1).toISOString(),\n    [NAME_OF_ORDER]: 3,\n    backgroundColor: VISA_BACKGROUND_COLOR,\n  };\n  const preWorkingHolidayVisaEvent = {\n    id: uuid(),\n    resourceId: workingholidayResourceId,\n    storyId,\n    start: setMonth(addYears(dateAsStartWorkingHoliday, -1), 8).toISOString(),\n    end: dateAsStartWorkingHoliday.toISOString(),\n    [NAME_OF_ORDER]: 3,\n    backgroundColor: WH_WARN_BACKGROUND_COLOR,\n  };\n\n  // student status\n  const studentStatusResourceId = uuid();\n  const studentStatusResource = {\n    ...RESOURCE_TEMPLATE__STUDENT_STATUS,\n    id: studentStatusResourceId,\n    calendarId,\n    [NAME_OF_STORY_ID]: storyId,\n    [NAME_OF_ORDER]: 4,\n  };\n  const studentStatusVisaEvent = {\n    id: uuid(),\n    resourceId: studentStatusResourceId,\n    storyId,\n    start: startDate.toISOString(),\n    end: addMonths(startDate, 12 * 2).toISOString(),\n    [NAME_OF_ORDER]: 4,\n    eventBackgroundCoor: STATUS_BACKGROUND_COLOR,\n  };\n\n  // worker status\n  const workerStatusResourceId = uuid();\n  const workerStatusResource = {\n    ...RESOURCE_TEMPLATE__WORKER_STATUS,\n    id: workerStatusResourceId,\n    calendarId,\n    [NAME_OF_STORY_ID]: storyId,\n    [NAME_OF_ORDER]: 5,\n  };\n  const workerStatusVisaEvent = {\n    id: uuid(),\n    resourceId: workerStatusResourceId,\n    storyId,\n    start: addMonths(startDate, 12 * 1).toISOString(),\n    end: addMonths(startDate, 12 * 3).toISOString(),\n    [NAME_OF_ORDER]: 5,\n    eventBackgroundCoor: STATUS_BACKGROUND_COLOR,\n  };\n\n  const resources = [\n    // visa\n    coopVisaResource,\n    studyVisaResource,\n    workingholidayResource,\n\n    // status\n    studentStatusResource,\n    workerStatusResource,\n  ];\n  const events = [\n    // visa\n    coopVisaEvent,\n    studyVisaEvent,\n    preWorkingHolidayVisaEvent,\n    workingHolidayVisaEvent,\n\n    // status\n    studentStatusVisaEvent,\n    workerStatusVisaEvent,\n  ];\n  return [resources, events] as [BaseResource[], BaseEvent[]];\n};\n","import { addYears, addMonths } from \"date-fns\";\nimport {\n  CommunityCollegeAfterwardsWorkingHolidayCalendar,\n  calendarId,\n} from \"./model\";\nimport { AGE_OF_START_STORY } from \"../../../constants/fullcalendar/options\";\nimport { WORKING_HOLIDAY_APPLICATION_LIMITATION_AGE } from \"../../../constants/visa\";\nimport { COMMUNITY_COLLEGE_EXAMPLE1 } from \"../../../constants/school\";\nimport { range } from \"../../../lib/util\";\nimport { build } from \"../../story/CommunityCollegeAfterwardsWorkingHolidayStory/build\";\nimport { BaseStory } from \"../../story/BaseStory\";\n\nconst startMonths = COMMUNITY_COLLEGE_EXAMPLE1.startMonths;\n\nconst addingNumbers = range(\n  AGE_OF_START_STORY,\n  WORKING_HOLIDAY_APPLICATION_LIMITATION_AGE\n);\n\nconst generateStoryList = ({\n  birth,\n  calendarId,\n}: {\n  birth: Date;\n  calendarId: string;\n}): BaseStory[] => {\n  return addingNumbers\n    .map((num) => addYears(birth, num))\n    .flatMap((startDate) => {\n      const datesInYear = startMonths.map((month) =>\n        addMonths(startDate, month)\n      );\n      return datesInYear;\n    })\n    .map((startDate) => {\n      return build({ startDate, calendarId });\n    });\n};\n\nexport const createCalendar = ({\n  birth,\n}: {\n  birth: Date;\n}): CommunityCollegeAfterwardsWorkingHolidayCalendar => {\n  const stories = generateStoryList({ birth, calendarId });\n  return {\n    id: calendarId,\n    stories,\n  };\n};\n","export const COMMUNITY_COLLEGE_EXAMPLE1 = {\n  name: \"example college\",\n  startMonths: [1, 5, 9],\n} as const;\n","// REF: https://stackoverflow.com/a/15453499/8842333\nexport function range(start: number, stop: number, step?: number) {\n  var a = [start],\n    b = start;\n  while (b < stop) {\n    a.push((b += step || 1));\n  }\n  return a;\n}\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { createCalendar } from \"../../core/calendar/CommunityCollegeAfterwardsWorkingHolidayCalendar/createCalendar\";\nimport { calendarId as CommunityCollegeAfterwardsWorkingHolidayCalendarId } from \"../../core/calendar/CommunityCollegeAfterwardsWorkingHolidayCalendar/model\";\nimport { BaseCalendar } from \"../../core/calendar/BaseCalendar\";\nimport { RootState } from \"../rootReducer\";\n\ntype UpsertCommunityCollegeAfterwardsWorkingHolidayStoriesPayload = {\n  birth: string;\n};\n\nconst templateCalendarTable = createSlice({\n  name: \"templateCalendarTable\",\n  initialState: {\n    [CommunityCollegeAfterwardsWorkingHolidayCalendarId]: undefined as\n      | BaseCalendar\n      | undefined,\n  },\n  reducers: {\n    upsertCommunityCollegeAfterwardsWorkingHolidayStories(\n      state,\n      action: PayloadAction<UpsertCommunityCollegeAfterwardsWorkingHolidayStoriesPayload>\n    ) {\n      const { birth } = action.payload;\n      const _calendar = createCalendar({ birth: new Date(birth) });\n      state[CommunityCollegeAfterwardsWorkingHolidayCalendarId] = _calendar;\n    },\n  },\n});\n\nexport default templateCalendarTable.reducer;\n\nexport const {\n  upsertCommunityCollegeAfterwardsWorkingHolidayStories: upsertCommunityCollegeAfterwardsWorkingHolidayStoriesAction,\n} = templateCalendarTable.actions;\n\nexport const selectCommunityCollegeAfterwardsWorkingHolidayCalendar = (\n  state: RootState\n) => state.templateCalendar[CommunityCollegeAfterwardsWorkingHolidayCalendarId];\n","import React from \"react\";\nimport { BaseCalendarContainer } from \"./BaseCalendarContainer\";\nimport { useCommunityCollegeAfterwardsWorkingHolidayCalendar } from \"../hooks/useCommunityCollegeAfterwardsWorkingHolidayCalendar\";\nimport { useUser } from \"../hooks/useUser\";\nimport { useResourceGroupLabelContentInTemplateCalendar } from \"../hooks/useResourceGroupLabelContentInTemplateCalendar\";\nimport { FIELD1, FIELD2 } from \"../constants/fullcalendar/settings\";\n\nconst ableConfis = {\n  selectable: false,\n  editable: false,\n} as const;\n\nconst resourceAreaColumns = [\n  {\n    field: FIELD1,\n    headerContent: \"Category\",\n  },\n  {\n    field: FIELD2,\n    headerContent: \"Event\",\n  },\n];\n\nexport function TemplateCalendarContainer() {\n  const { birth } = useUser();\n  const {\n    resources,\n    events,\n    generate,\n  } = useCommunityCollegeAfterwardsWorkingHolidayCalendar();\n  const {\n    resourceGroupLabelContent,\n  } = useResourceGroupLabelContentInTemplateCalendar();\n\n  React.useEffect(() => {\n    generate(birth);\n  }, [generate, birth]);\n\n  return (\n    <BaseCalendarContainer\n      events={events}\n      resources={resources}\n      initialDate={\"2020-06-01\"}\n      resourceGroupLabelContent={resourceGroupLabelContent}\n      resourceAreaColumns={resourceAreaColumns}\n      {...ableConfis}\n    />\n  );\n}\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { BaseEvent } from \"../core/event/BaseEvent\";\nimport { BaseResource } from \"../core/resource/BaseResource\";\nimport {\n  upsertCommunityCollegeAfterwardsWorkingHolidayStoriesAction,\n  selectCommunityCollegeAfterwardsWorkingHolidayCalendar,\n} from \"../redux/features/templateCalendarTable\";\n\nexport const useCommunityCollegeAfterwardsWorkingHolidayCalendar = () => {\n  const dispatch = useDispatch();\n  const generate = React.useCallback(\n    (birth: string) => {\n      dispatch(\n        upsertCommunityCollegeAfterwardsWorkingHolidayStoriesAction({ birth })\n      );\n    },\n    [dispatch]\n  );\n\n  const calendar = useSelector(\n    selectCommunityCollegeAfterwardsWorkingHolidayCalendar\n  );\n\n  const stories = React.useMemo(() => calendar?.stories ?? [], [calendar]);\n\n  const resources = React.useMemo(\n    () =>\n      stories.reduce<BaseResource[]>(\n        (prev, story) => [...prev, ...story.resources],\n        []\n      ),\n    [stories]\n  );\n\n  const events = React.useMemo(\n    () =>\n      stories.reduce<BaseEvent[]>(\n        (prev, story) => [...prev, ...story.events],\n        [] as any[]\n      ),\n    [stories]\n  );\n\n  return { stories, generate, resources, events } as const;\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addStoryAction } from \"../redux/features/userCalendars\";\nimport { selectCommunityCollegeAfterwardsWorkingHolidayCalendar } from \"../redux/features/templateCalendarTable\";\nimport { MY_CALENDAR_ID } from \"../constants/fullcalendar/settings\";\n\ntype Props = {\n  // REF: https://fullcalendar.io/docs/resource-group-render-hooks\n  groupValue: string;\n};\n\nexport const useResourceGroupLabelContentInTemplateCalendar = () => {\n  const dispatch = useDispatch();\n  const calendar = useSelector(\n    selectCommunityCollegeAfterwardsWorkingHolidayCalendar\n  );\n\n  const resourceGroupLabelContent = React.useCallback(\n    ({ groupValue: storyId }: Props) => {\n      if (!calendar) return;\n\n      // story validation\n      const story = calendar.stories.find((story) => story.id === storyId);\n      if (!story) {\n        console.warn(\"cannot find story\", storyId);\n        return;\n      }\n\n      // name handler\n      let name: string;\n      if (story.name) {\n        name = story.name;\n      } else {\n        console.warn(\"cannot find this story name\", storyId);\n        name = \"No Name\";\n      }\n\n      const onClick = () => {\n        if (!window.confirm(\"Copy to my calendar?\")) return;\n        dispatch(addStoryAction({ calendarId: MY_CALENDAR_ID, story }));\n      };\n\n      const nameElement = document.createElement('i')\n      nameElement.innerHTML = name + ' ' // NOTE: space is for design, so not good way\n\n      const buttonElement = document.createElement('button')\n      buttonElement.innerHTML = 'copy'\n      buttonElement.onclick = onClick\n\n      const arrayOfDomNodes = [nameElement, buttonElement];\n      return { domNodes: arrayOfDomNodes };\n    },\n    [dispatch, calendar]\n  );\n\n  return {resourceGroupLabelContent};\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { UserCalendarContainer } from \"../../containers/UserCalendarContainer\";\nimport { TemplateCalendarContainer } from \"../../containers/TemplateCalendarContainer\";\n\nexport function CalendarList() {\n  return (\n    <Container>\n      <div>\n        <h2>UserCalendar</h2>\n        <UserCalendarContainer />\n      </div>\n\n      <hr />\n      <div>\n        <h2>CommunityCollegeAfterwardsWorkingHolidayStory</h2>\n        <TemplateCalendarContainer />\n      </div>\n    </Container>\n  );\n}\n\nconst Container = styled.div``;\n","import React from 'react'\nimport styled from 'styled-components';\n\nexport function LogoImage(){\n  return(\n    <Img src={process.env.PUBLIC_URL + '/logo457_transparent.png'} alt=\"img\" />\n  )\n}\n\nconst Img = styled.img`\n  display: inline-block;\n  height: 100%;\n  object-fit: contain;\n  background: white;\n  padding: .3rem;\n`","import React from \"react\";\nimport styled from \"styled-components\";\nimport { LogoImage } from \"../atoms/LogoImage\";\n\nconst THIS_GITHUB_URL =\n  \"https://github.com/snamiki1212/canada-immigration-scheduler\";\n\nexport function Footer() {\n  return (\n    <Container>\n      <LogoText>\n        <LogoImageContainer>\n\n        <LogoImage />\n        </LogoImageContainer>\n        <span>Plangoab</span>\n      </LogoText>\n      <a href={THIS_GITHUB_URL} target=\"_blank\" rel=\"noreferrer\">\n        Github\n      </a>\n    </Container>\n  );\n}\n\nconst Container = styled.div`\n  padding: 5rem;\n  min-height: 30vh;\n  background: var(--main-color);\n  color: white;\n`;\n\nconst LogoImageContainer = styled.div`\n  height: 4rem;\n  width: 4rem;\n`\n\nconst LogoText = styled.div`\n  display: flex;\n  color: white;\n  font-size: 4rem;\n`;\n","import React from \"react\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Typography from \"@material-ui/core/Typography\";\n\ntype Props = {\n  isOpen: boolean;\n  onClose: () => void;\n};\n\nexport function AboutModal({ isOpen, onClose }: Props) {\n  return (\n    <Dialog onClose={onClose} open={isOpen}>\n      <DialogTitle>About Plangoab</DialogTitle>\n      <DialogContent dividers={true}>\n        <Typography>this is content</Typography>\n        <Typography>this is content</Typography>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport styled from \"styled-components\";\nimport { AboutModal } from \"../atoms/AboutModal\";\nimport { LogoImage } from \"../atoms/LogoImage\";\n\nexport function Header() {\n  const [isOpen, setIsOpen] = React.useState(false);\n\n  const handleClick = React.useCallback(() => {\n    setIsOpen(true);\n  }, []);\n\n  const handleClose = React.useCallback(() => {\n    setIsOpen(false);\n  }, []);\n\n  return (\n    <>\n      <Container>\n        <LogoImage />\n        <Title>Plangoab</Title>\n        <ButtonContainer>\n          <Button onClick={handleClick}>About Plangoab</Button>\n        </ButtonContainer>\n      </Container>\n\n      {/* Modal */}\n      <AboutModal isOpen={isOpen} onClose={handleClose} />\n    </>\n  );\n}\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n  height: 6rem;\n  background: var(--main-color);\n  padding: 1rem;\n`;\n\nconst Title = styled.span`\n  color: white;\n  font-size: 3rem;\n  padding: 1rem;\n`;\n\nconst ButtonContainer = styled.div`\n  margin-left: auto;\n`\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { ProfileCard } from \"../organisms/ProfileCard\";\nimport { CalendarList } from \"../organisms/CalendarList\";\nimport { Footer } from \"../molecules/Footer\";\nimport { Header } from \"../molecules/Header\";\n\nexport function CalendarPage() {\n  return (\n    <Container>\n      <Header />\n      <ContentWrapper>\n        <ProfileCard />\n        <CalendarList />\n      </ContentWrapper>\n      <Footer />\n    </Container>\n  );\n}\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n`;\n\nconst ContentWrapper = styled.div`\n  padding: 0 3rem;\n  display: grid;\n  gap: 5rem;\n`;\n","import React from \"react\";\nimport { MuiPickersUtilsProvider } from \"./providers/MuiPickersUtilsProvider\";\nimport { CalendarPage } from \"./components/pages/CalendarPage\";\nimport './reset.css';\nimport './core.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <MuiPickersUtilsProvider>\n        <CalendarPage />\n      </MuiPickersUtilsProvider>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { combineReducers } from \"@reduxjs/toolkit\";\n\n// reducers\nimport userReducer from \"./features/user\";\nimport templateCalendarTableReducer from \"./features/templateCalendarTable\";\nimport userCalendarsReducer from \"./features/userCalendars\";\nimport resourceModalReducer from \"./ui/resourceModal\";\nimport storyModalReducer from \"./ui/storyModal\";\n\nconst rootReducer = combineReducers({\n  user: userReducer,\n\n  // Calendars\n  templateCalendar: templateCalendarTableReducer,\n  userCalendars: userCalendarsReducer,\n\n  // UIs\n  resourceModal: resourceModalReducer,\n  storyModal: storyModalReducer,\n});\n\nexport type RootState = ReturnType<typeof rootReducer>;\n\nexport default rootReducer;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport rootReducer from \"./rootReducer\";\n\nconst store = configureStore({\n  reducer: rootReducer,\n});\n\nif (process.env.NODE_ENV === \"development\" && module.hot) {\n  module.hot.accept(\"./rootReducer\", () => {\n    const newRootReducer = require(\"./rootReducer\").default;\n    store.replaceReducer(newRootReducer);\n  });\n}\n\nexport type AppDispatch = typeof store.dispatch;\n\nexport default store;\n","import React, { PropsWithChildren } from \"react\";\nimport { Provider } from \"react-redux\";\nimport store from \"../redux/store\";\n\nexport function ReactReduxProvider<T>({ children }: PropsWithChildren<T>) {\n  return <Provider store={store}>{children}</Provider>;\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { ReactReduxProvider } from './providers/ReactReduxProvider'\n\nconst render = () => {\n  ReactDOM.render(\n    <React.StrictMode>\n      <ReactReduxProvider>\n        <App />\n      </ReactReduxProvider>\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n  );\n};\n\nrender();\n\n// for redux\nif (process.env.NODE_ENV === \"development\" && module.hot) {\n  module.hot.accept(\"./App\", render);\n}\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.warn))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}