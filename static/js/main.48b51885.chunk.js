(this["webpackJsonpcanada-immigration-scheduler"]=this["webpackJsonpcanada-immigration-scheduler"]||[]).push([[0],{119:function(e,t,n){"use strict";n.r(t);var r=n(12),a=n(1),c=n.n(a),o=n(16),i=n.n(o),d=n(23),u=n(81);function s(e){var t=e.children;return Object(r.jsx)(d.a,{utils:u.a,children:t})}var l=n(40),b=n(42),j=n(150),O=n(155),f=n(149),v=n(151),I=n(20),m=n(32),h=n(74),y=Object(h.a)(new Date,-25).toISOString(),g=Object(m.b)({name:"user",initialState:{birthday:y,age:25},reducers:{updateBirthday:function(e,t){var n=t.payload.birthday;e.birthday=n,e.age=function(e){var t=new Date,n=new Date(e),r=t.getFullYear()-n.getFullYear(),a=t.getMonth()-n.getMonth();return(a<0||0===a&&t.getDate()<n.getDate())&&r--,r}(n)}}}),p=g.actions.updateBirthday,S=g.reducer,C=function(e){return e.user},x=function(){var e=Object(I.b)(),t=c.a.useCallback((function(t){return e(p({birthday:t}))}),[e]),n=Object(I.c)(C);return{birth:n.birthday,age:n.age,setBirth:t}};function E(){var e=Object(l.a)(["\n  display: flex;\n  gap: 1rem;\n"]);return E=function(){return e},e}function w(){var e=x(),t=e.birth,n=e.age,a=e.setBirth,o=c.a.useCallback((function(e){e&&a(e.toISOString())}),[a]);return Object(r.jsxs)(k,{children:[Object(r.jsx)(O.a,{alt:"you"}),Object(r.jsx)(v.a,{id:"age-text",label:"Your Age",disabled:!0,InputProps:{readOnly:!0},InputLabelProps:{shrink:!0},type:"number",value:n}),Object(r.jsx)(j.a,{disableFuture:!0,openTo:"year",format:"yyyy-MM-dd",label:"Date of birth",views:["year","month","date"],value:t,onChange:o})]})}var k=Object(b.a)(f.a)(E()),D=n(14),A=n(154);function _(){return Object(A.a)()}var L,M,H,T,B,F,N,R=n(43),W=n(49),Y="FIELD__H1",G="FIELD__H2",P="storyId",U="order",V="MY_CALENDAR_ID",J="PROFILE_ID",z="RESOURCE_ID__SHARED__AGE",K="RESOURCE_ID__SHARED__LIMIT",$=n(11),q="#00008b",Q="SHARED",X="VISA",Z="STATUS",ee=(L={},Object($.a)(L,Y,X),Object($.a)(L,G,"Study VISA"),Object($.a)(L,"eventBorderColor",q),L),te=(M={},Object($.a)(M,Y,X),Object($.a)(M,G,"Co-op VISA"),Object($.a)(M,"eventBorderColor",q),M),ne=(H={},Object($.a)(H,Y,X),Object($.a)(H,G,"Working Holiday VISA"),Object($.a)(H,"eventBorderColor",q),H),re=(T={},Object($.a)(T,Y,Z),Object($.a)(T,G,"Student"),Object($.a)(T,"eventBorderColor",q),T),ae=(B={},Object($.a)(B,Y,Z),Object($.a)(B,G,"Worker"),Object($.a)(B,"eventBorderColor",q),B),ce=[(F={id:z},Object($.a)(F,Y,Q),Object($.a)(F,G,"Age"),Object($.a)(F,P,J),Object($.a)(F,"eventBorderColor",q),F),(N={id:K},Object($.a)(N,Y,Q),Object($.a)(N,G,"Working Holiday Application Limit"),Object($.a)(N,P,J),Object($.a)(N,"eventBorderColor",q),N)],oe=function(e){return e.split("T")[0]},ie=function(e){return t=e.toISOString(),oe(t).replace(/-[0-9][0-9]$/,"");var t},de=function(e,t){var n=ue(),r=function(e,t){for(var n=[],r=e;r<=t;r++)n.push(r);return n}(new Date(e).getFullYear(),n),a=se(e,t),c=r.map((function(n,r){var a=function(){e.setFullYear(n);var t=e.toISOString();return oe(t)}(),c=Object(W.a)(new Date(a),11).toISOString(),o=oe(c);return{id:_(),resourceId:z,title:"Aage:".concat(r),storyId:t,start:a,end:o}}));return[a].concat(Object(R.a)(c))},ue=function(){var e=new Date;return Object(h.a)(e,10).getFullYear()},se=function(e,t){var n=Object(h.a)(e,31),r=Object(W.a)(n,11),a=oe(r.toISOString()),c=oe(e.toISOString());return{id:_(),resourceId:K,title:"Limitation till WorkingHoliday",storyId:t,start:c,end:a}},le=Object(m.b)({name:"userCalendars",initialState:{calendars:[]},reducers:{update:function(e,t){var n=t.payload.calendars;e.calendars=n},addStory:function(e,t){var n=t.payload,r=n.calendarId,a=n.story,c=e.calendars.findIndex((function(e){return e.id===r}));-1===c?console.warn("cannot find calendar on addStory",r):e.calendars[c].stories.push(a)},removeStory:function(e,t){var n=t.payload,r=n.calendarId,a=n.storyId,c=e.calendars.findIndex((function(e){return e.id===r}));-1===c?console.warn("cannot find calendar on removeStory",r):e.calendars[c].stories=e.calendars[c].stories.filter((function(e){return e.id!==a}))},addEvent:function(e,t){var n=t.payload,r=n.calendarId,a=n.storyId,c=n.event,o=e.calendars.findIndex((function(e){return e.id===r}));if(-1===o)console.warn("cannot find calendar on addEvent",r);else{var i=e.calendars[o].stories.findIndex((function(e){return e.id===a}));-1===i?console.warn("cannot find calendar on addEvent",r):e.calendars[o].stories[i].events.push(c)}},removeEvent:function(e,t){var n=t.payload,r=n.calendarId,a=n.eventId,c=e.calendars.findIndex((function(e){return e.id===r}));if(-1===c)console.warn("cannot find calendar on addEvent",r);else{var o=e.calendars[c].stories.findIndex((function(e){return e.events.some((function(e){return e.id===a}))}));-1===o?console.warn("cannot find calendar on removeEvent",o):e.calendars[c].stories[o].events=e.calendars[c].stories[o].events.filter((function(e){return e.id!==a}))}}}}),be=le.actions,je=be.update,Oe=be.addStory,fe=be.removeStory,ve=be.addEvent,Ie=be.removeEvent,me=le.reducer,he=function(e){return e.userCalendars.calendars},ye=function(){var e=Object(I.b)(),t=Object(I.c)(he)[0],n=c.a.useCallback((function(t){var n=function(e){var t=e.birth,n=new Date(t),r=J;return{id:r,name:ie(n),resources:ce,events:de(n,r)}}({birth:t}),r={id:"MY_CALENDAR_ID",stories:{stories:[n]}.stories};e(je({calendars:[r]}))}),[e]),r=c.a.useCallback((function(n){if(n.resource){var r=n.resource.extendedProps.storyId;if(r){var a=t.id,c={id:_(),resourceId:n.resource.id,start:n.startStr,end:n.endStr};e(ve({event:c,calendarId:a,storyId:r}))}else console.warn("Unexpected data not including storyId.")}else console.warn("Unexpected data that info does not have resource.")}),[t,e]),a=c.a.useCallback((function(n){if(window.confirm("Would you like to remove this event?")){var r=t.id,a=n.event.id;a?e(Ie({calendarId:r,eventId:a})):console.warn("Unexpected data. cannot find event id.")}}),[e,t]),o=c.a.useMemo((function(){var e;return null!==(e=null===t||void 0===t?void 0:t.stories)&&void 0!==e?e:[]}),[t]),i=c.a.useMemo((function(){var e;return null!==(e=null===t||void 0===t?void 0:t.stories.flatMap((function(e){return e.events})))&&void 0!==e?e:[]}),[t]),d=c.a.useMemo((function(){var e;return null!==(e=null===t||void 0===t?void 0:t.stories.flatMap((function(e){return e.resources})))&&void 0!==e?e:[]}),[t]);return{calendar:t,stories:o,events:i,resources:d,init:n,click:a,select:r}},ge=n(86),pe=n(82),Se=n(79),Ce=n(80),xe="MY_TIME_LINE_NAME",Ee={left:"today prev,next",center:"title",right:"".concat(xe,",listMonth")},we={initialView:xe},ke={resourceGroupField:P},De=[{field:Y,headerContent:"Category"},{field:G,headerContent:"Event"}],Ae=Object($.a)({},xe,{type:"resourceTimelineYear",duration:{year:15},buttonText:"TIME_LINE"}),_e={resourceOrder:U,resourcesInitiallyExpanded:!1},Le=Object(D.a)(Object(D.a)(Object(D.a)(Object(D.a)(Object(D.a)({resourceAreaColumns:De,views:Ae,headerToolbar:Ee,slotLabelFormat:[{year:"numeric"},{month:"numeric"}]},we),ke),{schedulerLicenseKey:"GPL-My-Project-Is-Open-Source"}),{nowIndicator:!0}),_e);function Me(e){return Object(r.jsx)(ge.a,Object(D.a)(Object(D.a)({},Le),{},{plugins:[Ce.a,pe.a,Se.a]},e))}function He(e){return Object(r.jsx)(Me,Object(D.a)(Object(D.a)({},e),{}))}var Te={selectable:!0,editable:!0};function Be(){var e=x().birth,t=function(){var e=Object(I.b)(),t=Object(I.c)(he)[0];return{resourceGroupLabelContent:c.a.useCallback((function(n){var r=n.groupValue;if(t){var a=t.stories.find((function(e){return e.id===r}));if(a){var c;a.name?c=a.name:(console.warn("cannot find this story name",r),c="No Name");var o=document.createElement("i");o.innerHTML=c+" ";var i=document.createElement("button");return i.innerHTML="remove",i.onclick=function(){window.confirm("Remove this story?")&&e(fe({calendarId:V,storyId:r}))},{domNodes:[o,i]}}console.warn("cannot find story",r)}}),[e,t])}}().resourceGroupLabelContent,n=ye(),a=n.events,o=n.resources,i=n.init,d=n.click,u=n.select;return c.a.useEffect((function(){i(e)}),[e,i]),Object(r.jsx)(He,Object(D.a)({events:a,resources:o,select:u,eventClick:d,initialDate:"2020-06-01",resourceGroupLabelContent:t},Te))}var Fe="CCAWH_CALENDAR_ID";var Ne=n(83),Re=n(84),We="#8fbc8b",Ye="#ffd700",Ge=function(e,t){var n,r,a,c,o,i,d,u,s,l,b,j=_(),O=Object(D.a)(Object(D.a)({},te),{},(n={id:j},Object($.a)(n,P,e),Object($.a)(n,U,1),n)),f=(r={id:_(),resourceId:j,storyId:e,start:t.toISOString(),end:Object(W.a)(t,24).toISOString()},Object($.a)(r,U,1),Object($.a)(r,"backgroundColor",We),r),v=_(),I=Object(D.a)(Object(D.a)({},ee),{},(a={id:v},Object($.a)(a,P,e),Object($.a)(a,U,2),a)),m=(c={id:_(),resourceId:v,storyId:e,start:t.toISOString(),end:Object(W.a)(t,24).toISOString()},Object($.a)(c,U,2),Object($.a)(c,"backgroundColor",We),c),y=_(),g=Object(D.a)(Object(D.a)({},ne),{},(o={id:y},Object($.a)(o,P,e),Object($.a)(o,U,3),o)),p=Object(W.a)(t,24),S=(i={id:_(),resourceId:y,storyId:e,start:p.toISOString(),end:Object(W.a)(p,12).toISOString()},Object($.a)(i,U,3),Object($.a)(i,"backgroundColor",We),i),C=(d={id:_(),resourceId:y,storyId:e,start:Object(Re.a)(Object(h.a)(p,-1),8).toISOString(),end:p.toISOString()},Object($.a)(d,U,3),Object($.a)(d,"backgroundColor","#e73758"),d),x=_(),E=Object(D.a)(Object(D.a)({},re),{},(u={id:x},Object($.a)(u,P,e),Object($.a)(u,U,4),u)),w=(s={id:_(),resourceId:x,storyId:e,start:t.toISOString(),end:Object(W.a)(t,24).toISOString()},Object($.a)(s,U,4),Object($.a)(s,"eventBackgroundCoor",Ye),s),k=_();return[[O,I,g,E,Object(D.a)(Object(D.a)({},ae),{},(l={id:k},Object($.a)(l,P,e),Object($.a)(l,U,5),l))],[f,m,C,S,w,(b={id:_(),resourceId:k,storyId:e,start:Object(W.a)(t,12).toISOString(),end:Object(W.a)(t,36).toISOString()},Object($.a)(b,U,5),Object($.a)(b,"eventBackgroundCoor",Ye),b)]]},Pe=[1,5,9],Ue=function(e,t,n){for(var r=[e],a=e;a<t;)r.push(a+=n||1);return r}(21,31),Ve=function(e){return Ue.map((function(t){return Object(h.a)(e,t)})).flatMap((function(e){return Pe.map((function(t){return Object(W.a)(e,t)}))})).map((function(e){return function(e){var t=e.startDate,n=_(),r=ie(t),a=Ge(n,t),c=Object(Ne.a)(a,2),o=c[0];return{id:n,name:r,events:c[1],resources:o}}({startDate:e})}))},Je=Object(m.b)({name:"templateCalendarTable",initialState:Object($.a)({},Fe,void 0),reducers:{upsertCommunityCollegeAfterwardsWorkingHolidayStories:function(e,t){var n=t.payload.birth,r=function(e){var t=e.birth,n=Ve(t);return{id:Fe,stories:n}}({birth:new Date(n)});e.CCAWH_CALENDAR_ID=r}}}),ze=Je.reducer,Ke=Je.actions.upsertCommunityCollegeAfterwardsWorkingHolidayStories,$e=function(e){return e.templateCalendar.CCAWH_CALENDAR_ID},qe={selectable:!1,editable:!1};function Qe(){var e=x().birth,t=function(){var e=Object(I.b)(),t=c.a.useCallback((function(t){e(Ke({birth:t}))}),[e]),n=Object(I.c)($e),r=c.a.useMemo((function(){var e;return null!==(e=null===n||void 0===n?void 0:n.stories)&&void 0!==e?e:[]}),[n]),a=c.a.useMemo((function(){return r.reduce((function(e,t){return[].concat(Object(R.a)(e),Object(R.a)(t.resources))}),[])}),[r]),o=c.a.useMemo((function(){return r.reduce((function(e,t){return[].concat(Object(R.a)(e),Object(R.a)(t.events))}),[])}),[r]);return{stories:r,generate:t,resources:a,events:o}}(),n=t.resources,a=t.events,o=t.generate,i=function(){var e=Object(I.b)(),t=Object(I.c)($e);return{resourceGroupLabelContent:c.a.useCallback((function(n){var r=n.groupValue;if(t){var a=t.stories.find((function(e){return e.id===r}));if(a){var c;a.name?c=a.name:(console.warn("cannot find this story name",r),c="No Name");var o=document.createElement("i");o.innerHTML=c+" ";var i=document.createElement("button");return i.innerHTML="copy",i.onclick=function(){window.confirm("Copy to my calendar?")&&(console.log("clicked"),e(Oe({calendarId:V,story:a})))},{domNodes:[o,i]}}console.warn("cannot find story",r)}}),[e,t])}}().resourceGroupLabelContent;return c.a.useEffect((function(){o(e)}),[o,e]),Object(r.jsx)(He,Object(D.a)({events:a,resources:n,initialDate:"2020-06-01",resourceGroupLabelContent:i},qe))}function Xe(){var e=Object(l.a)(["\n  padding: 3rem;\n"]);return Xe=function(){return e},e}function Ze(){return Object(r.jsxs)(et,{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"UserCalendar"}),Object(r.jsx)(Be,{})]}),Object(r.jsx)("hr",{}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"CommunityCollegeAfterwardsWorkingHolidayStory"}),Object(r.jsx)(Qe,{})]})]})}var et=b.a.div(Xe());function tt(){return Object(r.jsx)("ul",{children:Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:"https://github.com/snamiki1212/canada-immigration-scheduler",target:"_blank",rel:"noreferrer",children:"Github"})})})}function nt(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 5rem;\n"]);return nt=function(){return e},e}function rt(){var e=Object(l.a)(["\n  background: darkblue;\n  color: white;\n  font-size: 4rem;\n"]);return rt=function(){return e},e}function at(){return Object(r.jsxs)(ot,{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(ct,{children:"Your Profile Data"}),Object(r.jsx)(w,{})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)(ct,{children:"Calendar"}),Object(r.jsx)(Ze,{})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)(ct,{children:"References"}),Object(r.jsx)(tt,{})]})]})}var ct=b.a.div(rt()),ot=b.a.div(nt());var it=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(s,{children:Object(r.jsx)(at,{})})})},dt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,157)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))},ut=n(27),st=Object(ut.c)({user:S,templateCalendar:ze,userCalendars:me});var lt=Object(m.a)({reducer:st});function bt(e){var t=e.children;return Object(r.jsx)(I.a,{store:lt,children:t})}i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(bt,{children:Object(r.jsx)(it,{})})}),document.getElementById("root")),dt()}},[[119,1,2]]]);
//# sourceMappingURL=main.48b51885.chunk.js.map