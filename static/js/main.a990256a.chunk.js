(this.webpackJsonpplangoab=this.webpackJsonpplangoab||[]).push([[0],{138:function(e,n,t){},139:function(e,n,t){},140:function(e,n,t){"use strict";t.r(n);var r=t(3),a=t(0),o=t.n(a),c=t(20),i=t.n(c),d=t(27),s=t(95);function l(e){var n=e.children;return Object(r.jsx)(d.a,{utils:s.a,children:n})}var u=t(18),b=t(19);function j(){var e=Object(u.a)(["\n  display: inline-block;\n  height: 100%;\n  object-fit: contain;\n  background: white;\n  padding: .3rem;\n"]);return j=function(){return e},e}function O(){return Object(r.jsx)(f,{src:"/logo457_transparent.png",alt:"img"})}var f=b.a.img(j());function v(){var e=Object(u.a)(["\n  display: flex;\n  color: white;\n  font-size: 4rem;\n"]);return v=function(){return e},e}function h(){var e=Object(u.a)(["\n  height: 4rem;\n  width: 4rem;\n"]);return h=function(){return e},e}function p(){var e=Object(u.a)(["\n  padding: 5rem;\n  min-height: 30vh;\n  background: var(--main-color);\n  color: white;\n"]);return p=function(){return e},e}function I(){return Object(r.jsx)(y,{children:Object(r.jsxs)(g,{children:[Object(r.jsx)(m,{children:Object(r.jsx)(O,{})}),Object(r.jsx)("span",{children:"Plangoab"})]})})}var y=b.a.div(p()),m=b.a.div(h()),g=b.a.div(v()),x=t(174),C=t(190),k=t(172),S=t(173);function w(e){var n=e.isOpen,t=e.onClose,a=e.children;return Object(r.jsxs)(C.a,{onClose:t,open:n,children:[Object(r.jsx)(k.a,{children:"About Plangoab"}),Object(r.jsx)(S.a,{dividers:!0,children:a})]})}function P(){var e=Object(u.a)(["\n  display: grid;\n  gap: 2rem;\n"]);return P=function(){return e},e}function E(){return Object(r.jsxs)(D,{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"About"}),Object(r.jsx)("p",{children:"A web calendar for a person going abroad. Generating a suitable schedule and customizable."})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"How to use"}),Object(r.jsxs)("p",{children:["There are three sections.",Object(r.jsx)("br",{}),Object(r.jsx)("li",{children:"1. My calendar"}),Object(r.jsx)("li",{children:"2. Profile + Template Options"}),Object(r.jsx)("li",{children:"3. Template calendars"})]}),Object(r.jsxs)("p",{children:[Object(r.jsx)("p",{children:"Instruction"}),Object(r.jsx)("li",{children:'First, pick appropriate plans from a template calendar. Choose tab and story in a template calendar and clicking "Copy to my calendar" button.'}),Object(r.jsx)("li",{children:"And then stories are copied from a template calendar into my calendar."}),Object(r.jsx)("li",{children:"Edit my story and events in my calendar."})]})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"License"}),Object(r.jsx)("li",{children:"GPL-3.0"})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Author"}),Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:"https://github.com/snamiki1212",children:"GitHub:snamiki1212"})}),Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:"https://twitter.com/snamiki1212",children:"Twitter:snamiki1212"})}),Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:"https://snamiki1212.github.io",children:"Portfolio"})})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Source"}),Object(r.jsxs)("span",{children:["This page is managed at"," ",Object(r.jsx)("a",{href:"https://github.com/snamiki1212/plangoab",children:"GitHub"}),"."]})]})]})}var D=b.a.div(P()),A=t(30),M=function(e){var n=o.a.useState(!!e),t=Object(A.a)(n,2),r=t[0],a=t[1];return{isOpen:r,open:o.a.useCallback((function(){a(!0)}),[]),close:o.a.useCallback((function(){a(!1)}),[]),toggle:o.a.useCallback((function(){a((function(e){return!e}))}),[])}};function L(){var e=Object(u.a)(["\n  margin-left: auto;\n"]);return L=function(){return e},e}function R(){var e=Object(u.a)(["\n  color: white;\n  font-size: 3rem;\n  padding: 1rem;\n"]);return R=function(){return e},e}function _(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  height: 6rem;\n  background: var(--main-color);\n  padding: 1rem;\n"]);return _=function(){return e},e}function W(){var e=M(),n=e.isOpen,t=e.open,a=e.close;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(T,{children:[Object(r.jsx)(O,{}),Object(r.jsx)(B,{children:"Plangoab"}),Object(r.jsx)(N,{children:Object(r.jsx)(x.a,{variant:"contained",onClick:t,children:"About Plangoab"})})]}),Object(r.jsx)(w,{isOpen:n,onClose:a,children:Object(r.jsx)(E,{})})]})}var T=b.a.div(_()),B=b.a.span(R()),N=b.a.div(L()),F=t(7),G=t(13),H=t(188);function V(){return Object(H.a)()}var U,Y,J,z,K,$,q="FIELD",Q="storyId",X="order",Z="PRIVATE_COLLEGE_CALENDAR_ID",ee="PUBLIC_COLLEGE_CALENDAR_ID",ne="RESOURCE_ID__SHARED__AGE",te="RESOURCE_ID__SHARED__LIMIT",re=t(11),ae="#00008b",oe="#8fbc8b",ce="#ffd700",ie=(U={},Object(re.a)(U,q,"Study VISA"),Object(re.a)(U,"eventBorderColor",ae),U),de=(Y={},Object(re.a)(Y,q,"Co-op VISA"),Object(re.a)(Y,"eventBorderColor",ae),Y),se=(J={},Object(re.a)(J,q,"Working Holiday VISA"),Object(re.a)(J,"eventBorderColor",ae),J),le=(z={},Object(re.a)(z,q,"PGWP VISA"),Object(re.a)(z,"eventBorderColor",ae),z),ue=(K={},Object(re.a)(K,q,"Student"),Object(re.a)(K,"eventBorderColor",ae),K),be=($={},Object(re.a)($,q,"Worker"),Object(re.a)($,"eventBorderColor",ae),$),je={title:"Co-op VISA",backgroundColor:oe},Oe={title:"Study VISA",backgroundColor:oe},fe={title:"PGWP VISA",backgroundColor:oe},ve={title:"Working Holiday VISA",backgroundColor:oe},he={title:"Ready for Working Holiday VISA",backgroundColor:"#e73758"},pe={title:"Status: Worker",eventBackgroundCoor:ce},Ie={title:"Status: Student",eventBackgroundCoor:ce},ye=function(e){var n,t,r=e.calendarId,a=e.storyId,o=e.withWorkingholiday,c=[(n={id:ne},Object(re.a)(n,q,"Age"),Object(re.a)(n,Q,a),Object(re.a)(n,X,0),Object(re.a)(n,"calendarId",r),Object(re.a)(n,"eventBorderColor",ae),n)];o&&c.push((t={id:te},Object(re.a)(t,q,"Working Holiday"),Object(re.a)(t,Q,a),Object(re.a)(t,X,1),Object(re.a)(t,"calendarId",r),Object(re.a)(t,"eventBorderColor",ae),t));return c},me=t(15),ge=t(61),xe=t(88),Ce=t(100),ke=function(e){return"string"!==typeof e&&(e=e.toISOString()),e.split("T")[0]},Se=function(e){return"string"!==typeof e&&(e=e.toISOString()),ke(e).replace(/-[0-9][0-9]$/,"")},we=function(e){var n=e.startDate,t=e.storyId,r=e.calendarId,a=e.withWorkingholiday,o=e.workingholidayPeriod,c=a?Ee({startDate:n,storyId:t,calendarId:r,workingholidayPeriod:o}):[],i=function(e,n){for(var t=[],r=e;r<=n;r++)t.push(r);return t}(new Date(n).getFullYear(),Pe()).map((function(e,a){var o=function(){n.setFullYear(e);var t=n.toISOString();return ke(t)}(),c=Object(ge.a)(new Date(o),11).toISOString(),i=ke(c);return{id:V(),title:"Aage:".concat(a),start:o,end:i,storyId:t,resourceId:ne,extendedProps:{resourceId:ne,calendarId:r,storyId:t}}}));return[].concat(Object(me.a)(c),Object(me.a)(i))},Pe=function(){var e=new Date;return Object(xe.a)(e,10).getFullYear()},Ee=function(e){var n=e.startDate,t=e.storyId,r=e.calendarId,a=e.workingholidayPeriod,o=Object(xe.a)(n,31),c=ke(n.toISOString()),i=Object(ge.a)(o,a),d=ke(i.toISOString()),s=ke(Object(xe.a)(Object(Ce.a)(i,6),-1).toISOString());return[{id:V(),title:"Available Scope of WorkingHoliday",start:c,end:d,resourceId:te,storyId:t,extendedProps:{resourceId:te,storyId:t,calendarId:r}},{id:V(),title:"Application Limit",start:c,end:s,storyId:t,resourceId:te,extendedProps:{storyId:t,resourceId:te,calendarId:r}}]},De=t(75),Ae=function(e){var n=null!==e&&void 0!==e?e:{},t=n.id,r=n.calendarId,a=n.resourceId,o=n.storyId,c=n.title,i=n.start,d=n.end,s=Object(De.a)(n,["id","calendarId","resourceId","storyId","title","start","end"]),l=null!==o&&void 0!==o?o:V(),u=null!==a&&void 0!==a?a:V(),b=null!==c&&void 0!==c?c:"New Event",j=i?Se(i):void 0,O=d?Se(d):void 0;return Object(F.a)({id:null!==t&&void 0!==t?t:V(),resourceId:u,storyId:l,title:b,start:j,end:O,extendedProps:{calendarId:r,storyId:l,resourceId:u}},s)},Me=function(e,n){var t=n.title,r=n.start?Se(n.start):void 0,a=n.end?Se(n.end):void 0;return Object.assign(Object(F.a)({},e),void 0!==t&&{title:t},void 0!==r&&{start:r},void 0!==a&&{end:a})},Le=t(28),Re=Object(Le.b)({name:"userCalendars",initialState:{calendars:[]},reducers:{removeCalendar:function(e,n){var t=n.payload.calendarId;e.calendars=e.calendars.filter((function(e){return e.id!==t}))},updateCalendars:function(e,n){var t=n.payload.calendars;e.calendars=t},pushResource:function(e,n){var t=n.payload,r=t.calendarId,a=t.storyId,o=t.resource,c=e.calendars.findIndex((function(e){return e.id===r}));if(-1===c)console.warn("cannot find calendar on updateResource",r);else{var i=e.calendars[c].stories.findIndex((function(e){return e.id===a}));-1===i?console.warn("cannot find story on updateResource",r):e.calendars[c].stories[i].resources.push(o)}},updateResources:function(e,n){var t=n.payload,r=t.calendarId,a=t.storyId,o=t.newResources,c=e.calendars.findIndex((function(e){return e.id===r}));if(-1===c)console.warn("cannot find calendar on updateResource",r);else{var i=e.calendars[c].stories.findIndex((function(e){return e.id===a}));-1===i?console.warn("cannot find story on updateResource",r):e.calendars[c].stories[i].resources=o}},removeResource:function(e,n){var t=n.payload,r=t.calendarId,a=t.resourceId,o=t.storyId,c=e.calendars.findIndex((function(e){return e.id===r}));if(-1===c)console.warn("cannot find calendar on removeResource",r);else{var i=e.calendars[c].stories.findIndex((function(e){return e.id===o}));-1===i?console.warn("cannot find story on removeResource",r):e.calendars[c].stories[i].resources=e.calendars[c].stories[i].resources.filter((function(e){return e.id!==a}))}},addStory:function(e,n){var t=n.payload,r=t.calendarId,a=t.story,o=e.calendars.findIndex((function(e){return e.id===r}));-1===o?console.warn("cannot find calendar on addStory",r):e.calendars[o].stories.push(a)},removeStory:function(e,n){var t=n.payload,r=t.calendarId,a=t.storyId,o=e.calendars.findIndex((function(e){return e.id===r}));-1===o?console.warn("cannot find calendar on removeStory",r):e.calendars[o].stories=e.calendars[o].stories.filter((function(e){return e.id!==a}))},updateStory:function(e,n){var t=n.payload,r=t.calendarId,a=t.storyId,o=t.newStory,c=e.calendars.findIndex((function(e){return e.id===r}));if(-1===c)console.warn("cannot find calendar on updateStory",r);else{var i=e.calendars[c].stories.findIndex((function(e){return e.id===a}));-1===i?console.warn("cannot find story on updateStory",r):e.calendars[c].stories[i]=o}},addEvent:function(e,n){var t=n.payload,r=t.calendarId,a=t.storyId,o=t.event,c=e.calendars.findIndex((function(e){return e.id===r}));if(-1===c)console.warn("cannot find calendar on addEvent",r);else{var i=e.calendars[c].stories.findIndex((function(e){return e.id===a}));-1===i?console.warn("cannot find story on addEvent",r):e.calendars[c].stories[i].events.push(o)}},removeEvent:function(e,n){var t=n.payload,r=t.calendarId,a=t.storyId,o=t.eventId,c=e.calendars.findIndex((function(e){return e.id===r}));if(-1===c)console.warn("cannot find calendar on removeEvent",r);else{var i=e.calendars[c].stories.findIndex((function(e){return e.id===a}));-1===i?console.warn("cannot find story on removeEvent",i):e.calendars[c].stories[i].events=e.calendars[c].stories[i].events.filter((function(e){return e.id!==o}))}},updateEvent:function(e,n){var t=n.payload,r=t.calendarId,a=t.storyId,o=t.eventId,c=t.newEvent,i=e.calendars.findIndex((function(e){return e.id===r}));if(-1===i)console.warn("cannot find calendar on updateStory",r);else{var d=e.calendars[i].stories.findIndex((function(e){return e.id===a}));if(-1===d)console.warn("cannot find story on updateStory",r);else{var s=e.calendars[i].stories[d].events.findIndex((function(e){return e.id===o}));-1===s?console.warn("cannot find event on updateEvent"):e.calendars[i].stories[d].events[s]=c}}},updateEventById:function(e,n){var t=n.payload,r=t.calendarId,a=t.storyId,o=t.eventId,c=t.params,i=e.calendars.findIndex((function(e){return e.id===r}));if(-1===i)console.warn("cannot find calendar on updateStory",r);else{var d=e.calendars[i].stories.findIndex((function(e){return e.id===a}));if(-1===d)console.warn("cannot find story on updateStory",r);else{var s=e.calendars[i].stories[d].events.findIndex((function(e){return e.id===o}));if(-1===s)console.warn("cannot find event on updateEvent");else{var l=e.calendars[i].stories[d].events[s],u=Me(l,c);e.calendars[i].stories[d].events[s]=u}}}}}}),_e=Re.actions,We=_e.removeCalendar,Te=_e.updateCalendars,Be=_e.pushResource,Ne=(_e.updateResources,_e.removeResource),Fe=_e.addStory,Ge=_e.removeStory,He=_e.updateStory,Ve=_e.addEvent,Ue=_e.removeEvent,Ye=_e.updateEvent,Je=_e.updateEventById,ze=Re.reducer,Ke=function(e){return e.features.userCalendars.calendars[0]},$e=function(){var e=Object(G.b)(),n=Object(G.c)(Ke),t=o.a.useCallback((function(n){var t=n.birthday,r=n.workingholidayPeriod,a=V(),o=function(e){return{id:e.id,stories:e.stories}}({id:a,stories:[function(e){var n=e.birth,t=e.calendarId,r=e.workingholidayPeriod,a=new Date(n),o="PROFILE_ID",c=r>0;return{id:o,calendarId:t,name:"Profile",resources:ye({calendarId:t,storyId:o,withWorkingholiday:c}),events:we({calendarId:t,storyId:o,startDate:a,withWorkingholiday:c,workingholidayPeriod:r})}}({birth:t,calendarId:a,workingholidayPeriod:r})]});e(Te({calendars:[o]}))}),[e]),r=o.a.useCallback((function(n){if(n.resource){var t=n.resource.extendedProps.storyId;if(t){var r=n.resource.extendedProps.calendarId;if(r){var a=Ae({id:V(),resourceId:n.resource.id,calendarId:r,storyId:t,start:n.startStr,end:n.endStr});e(Ve({event:a,calendarId:r,storyId:t}))}else console.warn("Unexpected data not including calendarId.")}else console.warn("Unexpected data not including storyId.")}else console.warn("Unexpected data that info does not have resource.")}),[e]),a=o.a.useCallback((function(n){e(We({calendarId:n}))}),[e]),c=o.a.useMemo((function(){var e;return null!==(e=null===n||void 0===n?void 0:n.stories)&&void 0!==e?e:[]}),[n]),i=o.a.useMemo((function(){var e;return null!==(e=null===n||void 0===n?void 0:n.stories.flatMap((function(e){return e.events})))&&void 0!==e?e:[]}),[n]),d=o.a.useMemo((function(){var e;return null!==(e=null===n||void 0===n?void 0:n.stories.flatMap((function(e){return e.resources})))&&void 0!==e?e:[]}),[n]);return{init:t,select:r,remove:a,calendar:n,stories:c,events:i,resources:d}},qe=t(98),Qe=t(96),Xe=t(102),Ze=t(103),en="MY_TIME_LINE_NAME",nn={initialView:en},tn={resourceGroupField:Q},rn=Object(re.a)({},en,{type:"resourceTimelineYear",duration:{year:15},buttonText:"TIME_LINE"}),an={resourceOrder:X,resourcesInitiallyExpanded:!1},on=[{field:q}],cn=Object(F.a)(Object(F.a)(Object(F.a)(Object(F.a)(Object(F.a)(Object(F.a)({views:rn,slotLabelFormat:[{year:"numeric"},{month:"numeric"}],resourceAreaColumns:on},nn),tn),{schedulerLicenseKey:"GPL-My-Project-Is-Open-Source"}),{nowIndicator:!0}),an),{height:700});function dn(e){return Object(r.jsx)(qe.a,Object(F.a)(Object(F.a)({},cn),{},{plugins:[Ze.a,Qe.a,Xe.a]},e))}function sn(e){return Object(r.jsx)(dn,Object(F.a)(Object(F.a)({},e),{}))}var ln=Object(Le.b)({name:"storyModal",initialState:{story:null},reducers:{push:function(e,n){var t=n.payload;e.story=t},pop:function(e,n){e.story=null}}}),un=function(e){return!!e.ui.storyModal.story},bn=function(e){return e.ui.storyModal.story},jn=function(e){var n=e.ui.storyModal.story;if(!n)return null;var t=n.calendarId,r=n.storyId,a=e.features.userCalendars.calendars.findIndex((function(e){return e.id===t}));if(-1!==a)return e.features.userCalendars.calendars[a].stories.find((function(e){return e.id===r}));console.warn("cannot find calendar on removeStory",t)},On=ln.actions,fn=On.push,vn=On.pop,hn=ln.reducer,pn=Object(Le.b)({name:"eventModal",initialState:{event:null},reducers:{push:function(e,n){var t=n.payload;e.event=t},pop:function(e,n){e.event=null}}}),In=function(e){return!!e.ui.eventModal.event},yn=function(e){return e.ui.eventModal.event},mn=function(e){var n=e.ui.eventModal.event;if(!n)return null;var t=n.calendarId,r=n.storyId,a=n.eventId,o=e.features.userCalendars.calendars.findIndex((function(e){return e.id===t}));if(-1===o)console.warn("cannot find calendar on removeResource",t);else{var c=e.features.userCalendars.calendars[o].stories.findIndex((function(e){return e.id===r}));if(!(-1===c))return e.features.userCalendars.calendars[o].stories[c].events.find((function(e){return e.id===a}));console.warn("cannot find story on removeResource",t)}},gn=pn.actions,xn=gn.push,Cn=gn.pop,kn=pn.reducer,Sn=function(){var e=Object(G.b)();return{remove:o.a.useCallback((function(n){var t=n.calendarId,r=n.storyId,a=n.eventId;window.confirm("Do you remove this story?")&&e(Ue({calendarId:t,storyId:r,eventId:a}))}),[e]),update:o.a.useCallback((function(n,t,r){var a=Me(t,r);e(Ye(Object(F.a)(Object(F.a)({},n),{},{newEvent:a})))}),[e]),updateById:o.a.useCallback((function(n,t){e(Je(Object(F.a)(Object(F.a)({},n),{},{params:t})))}),[e])}},wn=function(e){var n,t=null!==e&&void 0!==e?e:{},r=t.id,a=t.calendarId,o=t.storyId,c=Object(De.a)(t,["id","calendarId","storyId"]);return Object(F.a)((n={id:null!==r&&void 0!==r?r:V(),calendarId:null!==a&&void 0!==a?a:V()},Object(re.a)(n,Q,null!==o&&void 0!==o?o:V()),Object(re.a)(n,X,1),Object(re.a)(n,q,"Field"),n),c)},Pn=function(e){return"from "+Se(e.toISOString())},En=function(e,n){if(n.name&&(e=Object(F.a)(Object(F.a)({},e),{},{name:n.name})),n.resources){var t=n.resources.reduce((function(n,t){var r=e.resources.findIndex((function(e){return e.id===t.id}));if(-1===r)return console.warn("not upsert feature on story yet"),n;var a=e.resources[r],o=Object(F.a)(Object(F.a)({},a),t);return[].concat(Object(me.a)(n),[o])}),[]);e=Object(F.a)(Object(F.a)({},e),{},{resources:t})}return n.calendarId&&(e=Object(F.a)(Object(F.a)({},e),{},{calendarId:n.calendarId,events:e.events.map((function(e){return Object(F.a)(Object(F.a)({},e),{},{calendarId:n.calendarId})})),resources:e.resources.map((function(e){return Object(F.a)(Object(F.a)({},e),{},{calendarId:n.calendarId})}))})),e},Dn=function(){var e=Object(G.b)();return{remove:o.a.useCallback((function(n){var t=n.calendarId,r=n.storyId;window.confirm("Do you remove this story?")&&e(Ge({storyId:r,calendarId:t}))}),[e]),update:o.a.useCallback((function(n,t,r){var a=En(t,r);e(He(Object(F.a)(Object(F.a)({},n),{},{newStory:a})))}),[e]),create:o.a.useCallback((function(n,t){var r=n.calendarId,a=function(e){var n=null!==e&&void 0!==e?e:{},t=n.id,r=n.calendarId,a=n.events,o=n.resources,c=n.name,i=null!==t&&void 0!==t?t:V(),d=null!==r&&void 0!==r?r:V(),s=V();return{id:i,calendarId:d,events:null!==a&&void 0!==a?a:[Ae({id:s,storyId:i})],resources:null!==o&&void 0!==o?o:[wn({calendarId:d,storyId:i})],name:null!==c&&void 0!==c?c:"No Name"}}({calendarId:r});e(Fe({calendarId:r,story:a}))}),[e])}},An="ADD_STORY_BUTTON",Mn="REMOVE_CALENDAR_BUTTON",Ln=t(74),Rn=t(175),_n=t(182);function Wn(){var e=Object(u.a)(["\n  padding: 1rem;\n  text-align: right;\n"]);return Wn=function(){return e},e}function Tn(){var e=Object(u.a)(["\n  padding: 1rem;\n"]);return Tn=function(){return e},e}function Bn(){var e=Object(u.a)(["\n  border: none;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  gap: 1rem;\n  padding: 1rem;\n  margin: 1rem;\n  border: 1px solid lightgray;\n"]);return Bn=function(){return e},e}function Nn(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n"]);return Nn=function(){return e},e}function Fn(e){var n=e.isOpen,t=e.onClose,a=Object(G.c)(bn),c=null===a||void 0===a?void 0:a.calendarId,i=Object(G.c)(jn),d=Object(Ln.a)(),s=d.register,l=d.handleSubmit,u=Dn(),b=u.create,j=u.remove,O=u.update,f=function(){var e=Object(G.b)(),n=Object(G.c)(Ke),t=o.a.useCallback((function(t){var r=t.calendarId,a=t.storyId,o=n.stories.findIndex((function(e){return e.id===a}));if(-1===o)console.warn("cannot find story on updateResource",r);else{for(var c=n.stories[o].resources,i={idx:-1,order:-1},d=0;d<c.length;d++){var s,l=null!==(s=c[d].order)&&void 0!==s?s:-1;l>i.order&&(i={idx:d,order:l})}var u=wn({calendarId:r,storyId:a,order:i.order+1});e(Be({calendarId:r,storyId:a,resource:u}))}}),[e,n]);return{remove:o.a.useCallback((function(n){var t=n.calendarId,r=n.resourceId,a=n.storyId;window.confirm("Do you remove this resource?")&&e(Ne({resourceId:r,storyId:a,calendarId:t}))}),[e]),push:t}}(),v=f.push,h=f.remove,p=o.a.useCallback((function(){if(!a)return console.warn("Invalid data status when to update resource.");j(a),t()}),[a,j,t]),I=o.a.useCallback((function(e){return function(){if(!a)return console.warn("Invalid data status when to remove resource.");h(Object(F.a)(Object(F.a)({},a),{},{resourceId:e}))}}),[a,h]),y=o.a.useCallback((function(){if(!a)return console.warn("Invalid data status when to add resource.");v(a)}),[a,v]),m=o.a.useCallback((function(){c&&b({calendarId:c})}),[b,c]),g=o.a.useCallback((function(e){if(!a||!i)return console.warn("Invalid data status when to update story.");O(a,i,e),t()}),[O,a,i,t]);return i?Object(r.jsxs)(C.a,{onClose:t,open:n,children:[Object(r.jsx)(k.a,{children:Object(r.jsx)("form",{onSubmit:l(g),children:Object(r.jsx)(Gn,{children:Object(r.jsx)(_n.a,{inputRef:s,name:"name",defaultValue:i.name,variant:"outlined",label:"Story Name"})})})}),Object(r.jsx)(S.a,{dividers:!0,children:Object(r.jsx)("div",{children:Object(r.jsxs)("form",{onSubmit:l(g),children:[i.resources.map((function(e,n){var t="resources[".concat(n,"]");return Object(r.jsxs)(Hn,{name:t,children:[Object(r.jsx)("input",{type:"hidden",name:"".concat(t,".id"),ref:s,value:e.id}),Object(r.jsx)(_n.a,{defaultValue:e.FIELD,inputRef:s,name:"".concat(t,".").concat(q),label:"Field"}),Object(r.jsx)(x.a,{onClick:I(e.id),color:"secondary",variant:"contained",children:"Delete"})]},t)})),Object(r.jsx)(Vn,{children:Object(r.jsx)(x.a,{onClick:y,variant:"outlined",color:"primary",children:"+ Add Resource"})}),Object(r.jsx)(Un,{children:Object(r.jsx)(x.a,{type:"submit",variant:"contained",color:"primary",children:"Update"})})]})})}),Object(r.jsxs)(Rn.a,{children:[Object(r.jsx)(x.a,{onClick:p,color:"secondary",variant:"contained",children:"Delete this story"}),Object(r.jsx)(x.a,{onClick:m,color:"primary",children:"Add New Story"})]})]}):Object(r.jsx)(r.Fragment,{})}var Gn=b.a.div(Nn()),Hn=b.a.fieldset(Bn()),Vn=b.a.div(Tn()),Un=b.a.div(Wn());function Yn(e){var n=e.isOpen,t=e.onClose,a=Object(G.c)(yn),c=Object(G.c)(mn),i=Sn(),d=i.remove,s=i.update,l=o.a.useCallback((function(){if(!a)return console.warn("Invalid data status when to update event.");d(a),t()}),[a,d,t]),u=o.a.useCallback((function(e){if(!a||!c)return console.warn("Invalid data status when to remove event.");s(a,c,e),t()}),[a,c,s,t]),b=Object(Ln.a)(),j=b.register,O=b.handleSubmit;return Object(r.jsxs)(C.a,{onClose:t,open:n,children:[Object(r.jsx)(k.a,{children:"Event"}),Object(r.jsx)(S.a,{dividers:!0,children:Object(r.jsxs)("form",{onSubmit:O(u),children:[Object(r.jsx)(_n.a,{inputRef:j,name:"title",defaultValue:null===c||void 0===c?void 0:c.title,label:"Title",variant:"outlined"}),Object(r.jsx)(x.a,{type:"submit",children:"rename"})]})}),Object(r.jsx)(Rn.a,{children:Object(r.jsx)(x.a,{onClick:l,variant:"contained",color:"secondary",children:"Remove"})})]})}var Jn={left:"".concat(An,",").concat(Mn),center:"title",right:"prev,next"};function zn(){var e=function(){var e=Object(G.b)();return{push:o.a.useCallback((function(n){var t=n.storyId,r=n.calendarId;e(fn({calendarId:r,storyId:t}))}),[e]),pop:o.a.useCallback((function(){e(vn())}),[e]),isOpen:Object(G.c)(un)}}(),n=e.push,t=e.pop,a=e.isOpen,c=function(){var e=Object(G.b)();return{push:o.a.useCallback((function(n){var t=n.eventId,r=n.storyId,a=n.calendarId;e(xn({calendarId:a,eventId:t,storyId:r}))}),[e]),pop:o.a.useCallback((function(){e(Cn())}),[e]),isOpen:Object(G.c)(In)}}(),i=c.push,d=c.pop,s=c.isOpen,l=function(e){var n=e.createOpenHandle,t=Object(G.c)(Ke);return{resourceGroupLabelContent:o.a.useCallback((function(e){var r=e.groupValue;if(t){var a=t.stories.find((function(e){return e.id===r}));if(a){var o;a.name?o=a.name:(console.warn("cannot find this story name",r),o="No Name");var c=t.id,i=n({calendarId:c,storyId:r}),d=document.createElement("span");d.style.display="flex",d.style.justifyContent="space-between";var s=document.createElement("i");s.innerHTML=o+" ",d.appendChild(s);var l=document.createElement("button");return l.innerHTML="\ufe19",l.onclick=i,d.appendChild(l),{domNodes:[d]}}console.warn("cannot find story",r)}}),[t,n])}}({createOpenHandle:o.a.useCallback((function(e){return function(){n(e)}}),[n])}).resourceGroupLabelContent,u=$e(),b=u.events,j=u.resources,O=u.select,f=o.a.useCallback((function(e){var n=e.event.extendedProps.calendarId;if(!n)return console.warn("Invalid data. cannot find calendarId.");var t=e.event.id;if(!t)return console.warn("Invalid data. cannot find eventId.");var r=e.event.extendedProps.storyId;if(!r)return console.warn("Invalid data. cannot find storyId.");i({calendarId:n,eventId:t,storyId:r})}),[i]),v=Sn().updateById,h=o.a.useCallback((function(e){if(!e.event||!e.event.extendedProps)return console.warn("Invalid data. cannot find event data.");var n=e.event.start,t=e.event.end,r=Object(F.a)(Object(F.a)({},e.event.extendedProps),{},{eventId:e.event.id});v(r,{start:n,end:t}),console.log("data",e)}),[v]),p=function(){var e=$e(),n=e.calendar,t=e.remove,r=Dn().create,a=o.a.useCallback((function(){if(n){var e=n.id;r({calendarId:e})}}),[n,r]),c=o.a.useCallback((function(){if(n){var e=n.id;window.confirm("Do you want to delete this calendar?")&&t(e)}}),[t,n]);return{customButtons:o.a.useMemo((function(){var e;return e={},Object(re.a)(e,An,{text:"Add story",click:a}),Object(re.a)(e,Mn,{text:"Remove Calendar",click:c}),e}),[a,c])}}().customButtons;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(sn,{events:b,resources:j,eventClick:f,selectable:!0,select:O,editable:!0,eventResize:h,eventDrop:h,initialDate:"2020-06-01",resourceGroupLabelContent:l,customButtons:p,headerToolbar:Jn}),Object(r.jsx)(Fn,{isOpen:a,onClose:t}),Object(r.jsx)(Yn,{isOpen:s,onClose:d})]})}var Kn=Object(xe.a)(new Date,-25).toISOString(),$n=Object(Le.b)({name:"user",initialState:{birthday:Kn,age:25},reducers:{updateBirthday:function(e,n){var t=n.payload.birthday;e.birthday=t,e.age=function(e){var n=new Date,t=new Date(e),r=n.getFullYear()-t.getFullYear(),a=n.getMonth()-t.getMonth();return(a<0||0===a&&n.getDate()<t.getDate())&&r--,r}(t)}}}),qn=$n.actions.updateBirthday,Qn=$n.reducer,Xn=function(e){return e.features.user},Zn=function(){var e=Object(G.b)(),n=o.a.useCallback((function(n){return e(qn({birthday:n}))}),[e]),t=Object(G.c)(Xn);return{birth:t.birthday,age:t.age,setBirth:n}},et=Object(Le.b)({name:"templateOption",initialState:{option:{schoolPeriod:24,coopPeriod:24,pgwpPeriod:36,workingholidayPeriod:12,monthsOfStartSchool:[1,5,9]}},reducers:{update:function(e,n){e.option=n.payload}}}),nt=function(e){return e.features.templateOption.option},tt=function(e){return e.features.templateOption.option.workingholidayPeriod>0},rt=et.actions.update,at=et.reducer,ot=function(){var e=Object(G.b)(),n=Object(G.c)(nt),t=Object(G.c)(tt),r=o.a.useCallback((function(t){var r=Object(F.a)(Object(F.a)({},n),t);e(rt(r))}),[e,n]);return{options:n,update:r,withWorkingholiday:t}};function ct(){var e=Object(u.a)(["\n  height: 50vh;\n  background: lightblue;\n  display: grid;\n  place-items: center;\n"]);return ct=function(){return e},e}function it(){var e=$e().init,n=Zn().birth,t=ot().options,a=o.a.useMemo((function(){return t.workingholidayPeriod}),[t.workingholidayPeriod]),c=o.a.useCallback((function(){n&&e({birthday:n,workingholidayPeriod:a})}),[e,n,a]);return Object(r.jsx)(dt,{children:Object(r.jsx)(x.a,{onClick:c,variant:"contained",color:"primary",children:"Create Calendar"})})}var dt=b.a.div(ct());function st(){var e=!!$e().calendar;return Object(r.jsx)("div",{children:e?Object(r.jsx)(zn,{}):Object(r.jsx)(it,{})})}var lt=t(186),ut=t(181),bt=t(185),jt=t(176);var Ot,ft=function(e,n){var t=e.startDate,r=e.calendarId,a=e.canWorkingholiday,o=V(),c=Pn(t),i=vt({calendarId:r,storyId:o,startDate:t,canWorkingholiday:a},n),d=Object(A.a)(i,2),s=d[0];return{id:o,calendarId:r,name:c,events:d[1],resources:s}},vt=function(e,n){var t,r,a=e.calendarId,o=e.storyId,c=e.startDate,i=e.canWorkingholiday,d=[],s=[],l=n.schoolPeriod,u=n.coopPeriod,b=n.workingholidayPeriod;if(u>0){var j,O=V();d.push(wn(Object(F.a)(Object(F.a)({},de),{},(j={id:O,calendarId:a},Object(re.a)(j,Q,o),Object(re.a)(j,X,1),j)))),s.push(Ae(Object(F.a)(Object(F.a)({},je),{},{id:V(),resourceId:O,storyId:o,start:Se(c.toISOString()),end:Se(Object(ge.a)(c,u).toISOString()),extendedProps:{resourceId:O,calendarId:a,storyId:o}})))}var f=V();if(d.push(wn(Object(F.a)(Object(F.a)({},ie),{},(t={id:f,calendarId:a},Object(re.a)(t,Q,o),Object(re.a)(t,X,2),t)))),s.push(Ae(Object(F.a)(Object(F.a)({},Oe),{},{id:V(),resourceId:f,storyId:o,start:Se(c.toISOString()),end:Se(Object(ge.a)(c,l).toISOString()),extendedProps:{resourceId:f,calendarId:a,storyId:o}}))),i){var v,h,p=V();d.push(wn(Object(F.a)(Object(F.a)({},se),{},(v={id:p,calendarId:a},Object(re.a)(v,Q,o),Object(re.a)(v,X,3),v))));var I=Object(ge.a)(c,l);s.push(Ae(Object(F.a)(Object(F.a)({},ve),{},{id:V(),resourceId:p,storyId:o,start:Se(I.toISOString()),end:Se(Object(ge.a)(I,b).toISOString()),extendedProps:{resourceId:p,calendarId:a,storyId:o}}))),s.push(Ae(Object(F.a)(Object(F.a)({},he),{},{id:V(),resourceId:p,storyId:o,start:Se(Object(Ce.a)(Object(xe.a)(I,-1),8).toISOString()),end:Se(I.toISOString()),extendedProps:{resourceId:p,calendarId:a,storyId:o}})));var y=V();d.push(wn(Object(F.a)(Object(F.a)({},be),{},(h={id:y,calendarId:a},Object(re.a)(h,Q,o),Object(re.a)(h,X,5),h)))),s.push(Ae(Object(F.a)(Object(F.a)({},pe),{},{id:V(),resourceId:y,storyId:o,start:Se(Object(ge.a)(c,l).toISOString()),end:Se(Object(ge.a)(c,l+b).toISOString()),extendedProps:{resourceId:y,calendarId:a,storyId:o}})))}var m=V();return d.push(wn(Object(F.a)(Object(F.a)({},ue),{},(r={id:m,calendarId:a},Object(re.a)(r,Q,o),Object(re.a)(r,X,4),r)))),s.push(Ae(Object(F.a)(Object(F.a)({},Ie),{},{id:V(),resourceId:m,storyId:o,start:Se(c.toISOString()),end:Se(Object(ge.a)(c,l).toISOString()),extendedProps:{resourceId:m,calendarId:a,storyId:o}}))),[[].concat(d),[].concat(s)]},ht=function(e,n){var t=e.startDate,r=e.calendarId,a=e.canWorkingholiday,o=V(),c=Pn(t),i=pt({calendarId:r,storyId:o,startDate:t,canWorkingholiday:a},n),d=Object(A.a)(i,2),s=d[0];return{id:o,calendarId:r,name:c,events:d[1],resources:s}},pt=function(e,n){var t,r,a=e.calendarId,o=e.storyId,c=e.startDate,i=e.canWorkingholiday,d=[],s=[],l=n.schoolPeriod,u=n.pgwpPeriod,b=n.workingholidayPeriod;if(u>0){var j,O=V();d.push(wn(Object(F.a)(Object(F.a)({},le),{},(j={id:O,calendarId:a},Object(re.a)(j,Q,o),Object(re.a)(j,X,1),j)))),s.push(Ae(Object(F.a)(Object(F.a)({},fe),{},{id:V(),resourceId:O,storyId:o,start:Se(Object(ge.a)(c,l).toISOString()),end:Se(Object(ge.a)(c,l+u).toISOString()),extendedProps:{resourceId:O,calendarId:a,storyId:o}})))}var f=V();if(d.push(wn(Object(F.a)(Object(F.a)({},ie),{},(t={id:f,calendarId:a},Object(re.a)(t,Q,o),Object(re.a)(t,X,2),t)))),s.push(Ae(Object(F.a)(Object(F.a)({},Oe),{},{id:V(),resourceId:f,storyId:o,start:Se(c.toISOString()),end:Se(Object(ge.a)(c,l).toISOString()),extendedProps:{resourceId:f,calendarId:a,storyId:o}}))),i){var v,h,p=V();d.push(wn(Object(F.a)(Object(F.a)({},se),{},(v={id:p,calendarId:a},Object(re.a)(v,Q,o),Object(re.a)(v,X,3),v))));var I=Object(ge.a)(c,l+u);s.push(Ae(Object(F.a)(Object(F.a)({},ve),{},{id:V(),resourceId:p,storyId:o,start:Se(I.toISOString()),end:Se(Object(ge.a)(I,b).toISOString()),extendedProps:{resourceId:p,calendarId:a,storyId:o}}))),s.push(Ae(Object(F.a)(Object(F.a)({},he),{},{id:V(),resourceId:p,storyId:o,start:Se(Object(Ce.a)(Object(xe.a)(I,-1),8).toISOString()),end:Se(I.toISOString()),extendedProps:{resourceId:p,calendarId:a,storyId:o}})));var y=V();d.push(wn(Object(F.a)(Object(F.a)({},be),{},(h={id:y,calendarId:a},Object(re.a)(h,Q,o),Object(re.a)(h,X,5),h)))),s.push(Ae(Object(F.a)(Object(F.a)({},pe),{},{id:V(),resourceId:y,storyId:o,start:Se(Object(ge.a)(c,l).toISOString()),end:Se(Object(ge.a)(c,l+u+b).toISOString()),extendedProps:{resourceId:y,calendarId:a,storyId:o}})))}var m=V();return d.push(wn(Object(F.a)(Object(F.a)({},ue),{},(r={id:m,calendarId:a},Object(re.a)(r,Q,o),Object(re.a)(r,X,4),r)))),s.push(Ae(Object(F.a)(Object(F.a)({},Ie),{},{id:V(),resourceId:m,storyId:o,start:Se(c.toISOString()),end:Se(Object(ge.a)(c,l).toISOString()),extendedProps:{resourceId:m,calendarId:a,storyId:o}}))),[[].concat(d),[].concat(s)]},It=function(e,n,t){for(var r=[e],a=e;a<n;)r.push(a+=t||1);return r}(21,31),yt=new Date,mt=function(e,n){var t=e.birth,r=e.calendarId,a=e.canWorkingholiday,o=e.storyCreater,c=n.monthsOfStartSchool;return It.map((function(e){return Object(xe.a)(t,e)})).filter((function(e){return!(-1!==Object(jt.a)(yt,e))})).flatMap((function(e){return c.map((function(n){return Object(Ce.a)(e,n-1)}))})).map((function(e){return o({startDate:e,calendarId:r,canWorkingholiday:a},n)}))},gt=Object(Le.b)({name:"templateCalendarTable",initialState:(Ot={},Object(re.a)(Ot,Z,void 0),Object(re.a)(Ot,ee,void 0),Ot),reducers:{upsertPrivateCollegeStories:function(e,n){var t=n.payload,r=t.birth,a=t.canWorkingholiday,o=t.options,c=function(e,n){var t=e.birth,r=e.canWorkingholiday,a=mt({birth:t,calendarId:Z,canWorkingholiday:r,storyCreater:ft},n);return{id:Z,stories:a}}({birth:new Date(r),canWorkingholiday:a},o);e.PRIVATE_COLLEGE_CALENDAR_ID=c},upsertPublicCollegeStories:function(e,n){var t=n.payload,r=t.birth,a=t.canWorkingholiday,o=t.options,c=function(e,n){var t=e.birth,r=e.canWorkingholiday,a=mt({birth:t,calendarId:ee,canWorkingholiday:r,storyCreater:ht},n);return{id:ee,stories:a}}({birth:new Date(r),canWorkingholiday:a},o);e.PUBLIC_COLLEGE_CALENDAR_ID=c}}}),xt=gt.reducer,Ct=gt.actions,kt=Ct.upsertPrivateCollegeStories,St=Ct.upsertPublicCollegeStories,wt=function(e){return e.features.templateCalendar.PRIVATE_COLLEGE_CALENDAR_ID},Pt=function(e){return e.features.templateCalendar.PUBLIC_COLLEGE_CALENDAR_ID},Et="OPEN_OPTION_BUTTON",Dt=function(){var e=M(),n=e.open,t=e.isOpen,r=e.close,a=o.a.useCallback((function(){n()}),[n]);return{customButtons:o.a.useMemo((function(){return Object(re.a)({},Et,{text:"Change Options",click:a})}),[a]),isOpen:t,close:r}},At={selectable:!1,editable:!1},Mt={left:"".concat(Et),center:"title",right:"prev,next"};function Lt(e){var n=Object(G.b)(),t=function(e){var n=e.createClickHandel,t=Object(G.c)(wt),r=Object(G.c)(Pt),a=Object(G.c)(Ke);return{resourceGroupLabelContent:o.a.useCallback((function(e){var o,c,i=e.groupValue;if(a){var d=a.id;if(t||r){var s=[].concat(Object(me.a)(null!==(o=null===t||void 0===t?void 0:t.stories)&&void 0!==o?o:[]),Object(me.a)(null!==(c=null===r||void 0===r?void 0:r.stories)&&void 0!==c?c:[])).find((function(e){return e.id===i}));if(s){var l;s.name?l=s.name:(console.warn("cannot find this story name",i),l="No Name");var u=En(s,{calendarId:d}),b=n({calendarId:d,story:u}),j=document.createElement("i");j.innerHTML=l+" ",j.style.marginLeft="1rem";var O=document.createElement("button");return O.innerHTML="Copy to my calendar",O.style.marginLeft="1rem",O.onclick=b,{domNodes:[j,O]}}console.warn("cannot find story",i)}else console.warn("cannot find selected template calendar")}else console.warn("cannot find selected myCalendar")}),[a,t,r,n])}}({createClickHandel:o.a.useCallback((function(e){var t=e.story,r=e.calendarId;return function(){window.confirm("Do you copy this story to My Calendar?")&&n(Fe({calendarId:r,story:t}))}}),[n])}).resourceGroupLabelContent;return Object(r.jsx)(sn,Object(F.a)(Object(F.a)({},e),{},{initialDate:"2020-06-01",resourceGroupLabelContent:t,headerToolbar:Mt},At))}var Rt=t(177),_t=t(178),Wt=t(179),Tt=t(189);function Bt(){var e=Object(u.a)([""]);return Bt=function(){return e},e}function Nt(){var e=Object(u.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  gap: 2rem;\n  margin-bottom: 1rem;\n"]);return Nt=function(){return e},e}function Ft(){var e=Object(u.a)(["\n  display: inline-block;\n  margin-right: 1rem;\n"]);return Ft=function(){return e},e}var Gt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Ht(){var e=ot(),n=e.update,t=e.options,a=t.schoolPeriod,c=t.coopPeriod,i=t.monthsOfStartSchool,d=t.pgwpPeriod,s=t.workingholidayPeriod,l=o.a.useCallback((function(e){var t=e.target.value,r=""===t?0:parseInt(t);Number.isInteger(r)&&n({schoolPeriod:r})}),[n]),u=o.a.useCallback((function(e){var t=e.target.value,r=""===t?0:parseInt(t);Number.isInteger(r)&&n({coopPeriod:r})}),[n]),b=o.a.useCallback((function(e){var t=e.target.value,r=""===t?0:parseInt(t);Number.isInteger(r)&&n({pgwpPeriod:r})}),[n]),j=o.a.useCallback((function(e){var t=e.target.value,r=""===t?0:parseInt(t);Number.isInteger(r)&&n({workingholidayPeriod:r})}),[n]),O=o.a.useCallback((function(e){var t=parseInt(e.target.value),r=i.includes(t)?i.filter((function(e){return e!==t})):[].concat(Object(me.a)(i),[t]).sort((function(e,n){return e-n}));n({monthsOfStartSchool:r})}),[n,i]);return Object(r.jsx)(Rt.a,{children:Object(r.jsxs)(_t.a,{children:[Object(r.jsx)("h2",{children:"Template Options"}),Object(r.jsxs)(Yt,{children:[Object(r.jsxs)(Ut,{children:[Object(r.jsx)(_n.a,{value:a,onChange:l,label:"School Period",InputProps:{endAdornment:Object(r.jsx)(Wt.a,{position:"end",children:"Month"})}}),Object(r.jsx)(_n.a,{value:c,onChange:u,label:"Co-op Period",InputProps:{endAdornment:Object(r.jsx)(Wt.a,{position:"end",children:"Month"})}}),Object(r.jsx)(_n.a,{value:d,onChange:b,label:"PWGP Period",InputProps:{endAdornment:Object(r.jsx)(Wt.a,{position:"end",children:"Month"})}}),Object(r.jsx)(_n.a,{value:s,onChange:j,label:"Working Holiday Period",InputProps:{endAdornment:Object(r.jsx)(Wt.a,{position:"end",children:"Month"})}})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{children:"School start from (Month)"}),Object(r.jsx)("div",{children:Gt.map((function(e,n){var t=n+1,a=i.includes(t);return Object(r.jsxs)(Vt,{children:[Object(r.jsx)("label",{children:e}),Object(r.jsx)(Tt.a,{value:t,checked:a,onChange:O})]},e)}))})]})]})]})})}var Vt=b.a.div(Ft()),Ut=b.a.div(Nt()),Yt=b.a.div(Bt());function Jt(e){var n=e.onClose,t=e.isOpen;return Object(r.jsxs)(C.a,{onClose:n,open:t,children:[Object(r.jsx)(k.a,{children:"Template Option"}),Object(r.jsx)(S.a,{children:Object(r.jsx)(Ht,{})}),Object(r.jsx)(Rn.a,{children:Object(r.jsx)(x.a,{onClick:n,children:"Close"})})]})}function zt(){var e=Zn().birth,n=function(){var e=Object(G.b)(),n=o.a.useCallback((function(n){var t=n.birth,r=n.canWorkingholiday,a=n.options;e(kt({birth:t,canWorkingholiday:r,options:a}))}),[e]),t=Object(G.c)(wt),r=o.a.useMemo((function(){var e;return null!==(e=null===t||void 0===t?void 0:t.stories)&&void 0!==e?e:[]}),[t]),a=o.a.useMemo((function(){return r.reduce((function(e,n){return[].concat(Object(me.a)(e),Object(me.a)(n.resources))}),[])}),[r]),c=o.a.useMemo((function(){return r.reduce((function(e,n){return[].concat(Object(me.a)(e),Object(me.a)(n.events))}),[])}),[r]);return{stories:r,generate:n,resources:a,events:c}}(),t=n.resources,a=n.events,c=n.generate,i=ot(),d=i.options,s=i.withWorkingholiday,l=Dt(),u=l.customButtons,b=l.close,j=l.isOpen;return o.a.useEffect((function(){c({birth:e,canWorkingholiday:s,options:d})}),[c,e,s,d]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Lt,{events:a,resources:t,customButtons:u}),Object(r.jsx)(Jt,{onClose:b,isOpen:j})]})}function Kt(){var e=Zn().birth,n=function(){var e=Object(G.b)(),n=o.a.useCallback((function(n){e(St(n))}),[e]),t=Object(G.c)(Pt),r=o.a.useMemo((function(){var e;return null!==(e=null===t||void 0===t?void 0:t.stories)&&void 0!==e?e:[]}),[t]),a=o.a.useMemo((function(){return r.reduce((function(e,n){return[].concat(Object(me.a)(e),Object(me.a)(n.resources))}),[])}),[r]),c=o.a.useMemo((function(){return r.reduce((function(e,n){return[].concat(Object(me.a)(e),Object(me.a)(n.events))}),[])}),[r]);return{stories:r,generate:n,resources:a,events:c}}(),t=n.resources,a=n.events,c=n.generate,i=ot(),d=i.options,s=i.withWorkingholiday,l=Dt(),u=l.customButtons,b=l.close,j=l.isOpen;return o.a.useEffect((function(){c({birth:e,canWorkingholiday:s,options:d})}),[c,e,s,d]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Lt,{events:a,resources:t,customButtons:u}),Object(r.jsx)(Jt,{onClose:b,isOpen:j})]})}function $t(e){var n=e.shouldShow,t=e.children;return Object(r.jsx)("div",{role:"tabpanel",style:{display:n?"block":"none"},children:Object(r.jsx)(bt.a,{p:3,children:t})})}function qt(){var e=o.a.useState(0),n=Object(A.a)(e,2),t=n[0],a=n[1],c=o.a.useCallback((function(e,n){a(n)}),[]);return Object(r.jsxs)("div",{children:[Object(r.jsxs)(lt.a,{value:t,onChange:c,children:[Object(r.jsx)(ut.a,{label:"Private College"}),Object(r.jsx)(ut.a,{label:"Public College"})]}),Object(r.jsx)($t,{shouldShow:0===t,children:Object(r.jsx)(zt,{})}),Object(r.jsx)($t,{shouldShow:1===t,children:Object(r.jsx)(Kt,{})})]})}var Qt=function(){return Object(r.jsx)("h2",{children:"Temapltes"})};function Xt(){var e=!!$e().calendar;return Object(r.jsx)("div",{children:e?Object(r.jsxs)("div",{children:[Object(r.jsx)(Qt,{}),Object(r.jsx)(qt,{})]}):Object(r.jsx)(it,{})})}function Zt(){var e=Object(u.a)(["\n  display: grid;\n  gap: 3rem;\n"]);return Zt=function(){return e},e}function er(){var e=!!$e().calendar;return Object(r.jsx)("div",{children:e?Object(r.jsxs)(nr,{children:[Object(r.jsx)(st,{}),Object(r.jsx)(Xt,{})]}):Object(r.jsx)(it,{})})}var nr=b.a.div(Zt()),tr=t(183),rr=t(193);function ar(){var e=Object(u.a)(["\n  display: flex;\n  gap: 1rem;\n  padding: 2rem;\n"]);return ar=function(){return e},e}function or(){var e=Zn(),n=e.birth,t=e.setBirth,a=ot(),c=a.update,i=a.options.workingholidayPeriod,d=o.a.useCallback((function(e){e&&t(e.toISOString())}),[t]),s=o.a.useCallback((function(e){var n=e.target.value,t=""===n?0:parseInt(n);Number.isInteger(t)&&c({workingholidayPeriod:t})}),[c]);return Object(r.jsx)(Rt.a,{children:Object(r.jsx)(_t.a,{children:Object(r.jsxs)(cr,{children:[Object(r.jsx)(rr.a,{alt:"you"}),Object(r.jsx)(tr.a,{disableFuture:!0,openTo:"year",format:"yyyy-MM-dd",label:"Date of birth",views:["year","month","date"],value:n,onChange:d}),Object(r.jsx)(_n.a,{value:i,onChange:s,label:"Working Holiday Period",InputProps:{endAdornment:Object(r.jsx)(Wt.a,{position:"end",children:"Month"})}})]})})})}var cr=b.a.div(ar());function ir(){var e=M(!0),n=e.isOpen,t=e.close,a=$e().init,c=Zn().birth,i=ot().options,d=o.a.useMemo((function(){return i.workingholidayPeriod}),[i.workingholidayPeriod]),s=o.a.useCallback((function(){a({birthday:c,workingholidayPeriod:d}),t()}),[t,a,c,d]);return Object(r.jsxs)(C.a,{open:n,children:[Object(r.jsx)(S.a,{children:Object(r.jsx)(or,{})}),Object(r.jsx)(Rn.a,{children:Object(r.jsx)(x.a,{onClick:s,variant:"contained",color:"primary",children:"Create Calendar"})})]})}function dr(){var e=Object(u.a)(["\n  padding: 0 3rem;\n  display: grid;\n  gap: 5rem;\n"]);return dr=function(){return e},e}function sr(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n"]);return sr=function(){return e},e}function lr(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(ur,{children:[Object(r.jsx)(W,{}),Object(r.jsx)(br,{children:Object(r.jsx)(er,{})}),Object(r.jsx)(I,{})]}),Object(r.jsx)(ir,{})]})}var ur=b.a.div(sr()),br=b.a.div(dr()),jr=t(93),Or=t(94),fr=t(99),vr=t(97);function hr(){var e=Object(u.a)(["\n  width: 10rem;\n  height: 10rem;\n"]);return hr=function(){return e},e}function pr(){var e=Object(u.a)(["\n  height: 100vh;\n  display: grid;\n  place-items: center;\n  align-content: center;\n  gap: 2rem;\n"]);return pr=function(){return e},e}function Ir(){var e=o.a.useCallback((function(){window.confirm("Do you reset all data?")&&console.log("reset")}),[]);return Object(r.jsxs)(yr,{children:[Object(r.jsx)(mr,{children:Object(r.jsx)(O,{})}),Object(r.jsxs)("div",{children:["Sorry\ud83d\udc31",Object(r.jsx)("br",{}),"Something error happen.",Object(r.jsx)("br",{})]}),Object(r.jsx)("div",{children:Object(r.jsx)(x.a,{onClick:e,variant:"contained",color:"secondary",children:"Reset data"})})]})}var yr=b.a.div(pr()),mr=b.a.div(hr()),gr=function(e){Object(fr.a)(t,e);var n=Object(vr.a)(t);function t(e){var r;return Object(jr.a)(this,t),(r=n.call(this,e)).state={hasError:!1},r}return Object(Or.a)(t,[{key:"componentDidCatch",value:function(e,n){console.error(e),console.error(n)}},{key:"render",value:function(){return this.state.hasError?Object(r.jsx)(Ir,{}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return console.error(e),{hasError:!0}}}]),t}(o.a.Component);t(138),t(139);var xr=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(gr,{children:Object(r.jsx)(l,{children:Object(r.jsx)(lr,{})})})})},Cr=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,195)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,o=n.getLCP,c=n.getTTFB;t(e),r(e),a(e),o(e),c(e)}))},kr=t(35),Sr=Object(kr.c)({storyModal:hn,eventModal:kn}),wr=Object(kr.c)({templateCalendar:xt,templateOption:at,userCalendars:ze,user:Qn}),Pr=Object(kr.c)({features:wr,ui:Sr});var Er=Object(Le.a)({reducer:Pr});function Dr(e){var n=e.children;return Object(r.jsx)(G.a,{store:Er,children:n})}i.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(Dr,{children:Object(r.jsx)(xr,{})})}),document.getElementById("root")),Cr()}},[[140,1,2]]]);
//# sourceMappingURL=main.a990256a.chunk.js.map