{"version":3,"sources":["providers/MuiPickersUtilsProvider.tsx","redux/features/user.ts","lib/age.ts","hooks/useUser.tsx","components/organisms/ProfileCard.tsx","lib/uuid.ts","constants/fullcalendar/settings.ts","constants/fullcalendar/templates.ts","lib/date.ts","core/story/BaseStory.ts","core/story/ProfileStory/createProfileStory.ts","constants/visa.ts","redux/features/userCalendars.ts","hooks/useUserCalendar.ts","core/calendar/UserCalendar/createUserCalendar.ts","core/calendar/UserCalendar/model.ts","constants/fullcalendar/options.ts","components/atoms/BaseFullCalendar.tsx","containers/BaseCalendarContainer.tsx","hooks/useResourceGroupLabelContentInUserCalendar.tsx","containers/UserCalendarContainer.tsx","core/calendar/CommunityCollegeAfterwardsWorkingHolidayCalendar/model.ts","core/story/CommunityCollegeAfterwardsWorkingHolidayStory/build.ts","core/calendar/CommunityCollegeAfterwardsWorkingHolidayCalendar/createCalendar.ts","constants/school.ts","lib/util.ts","redux/features/templateCalendarTable.ts","containers/TemplateCalendarContainer.tsx","hooks/useCommunityCollegeAfterwardsWorkingHolidayCalendar.tsx","hooks/useResourceGroupLabelContentInTemplateCalendar.tsx","components/organisms/CalendarList.tsx","components/molecules/Footer.tsx","components/pages/CalendarPage.tsx","App.tsx","reportWebVitals.ts","redux/rootReducer.ts","redux/store.ts","providers/ReactReduxProvider.tsx","index.tsx"],"names":["MuiPickersUtilsProvider","children","utils","DateFnsUtils","personaBirth","addYears","Date","toISOString","userSlice","createSlice","name","initialState","birthday","age","reducers","updateBirthday","state","action","payload","_birthday","today","birthDate","getFullYear","m","getMonth","getDate","calcAge","updateBirthdayAction","actions","selectUser","user","useUser","dispatch","useDispatch","setBirth","React","useCallback","birth","useSelector","ProfileCard","handleDateChange","date","_Card","Avatar","alt","TextField","id","label","disabled","InputProps","readOnly","InputLabelProps","shrink","type","value","DatePicker","disableFuture","openTo","format","views","onChange","styled","Card","uuid","uuidV4","FIELD_NAME","NAME_OF_STORY_ID","NAME_OF_ORDER","MY_CALENDAR_ID","PROFILE_ID","RESOURCE_ID__SHARED__AGE","RESOURCE_ID__SHARED__LIMIT","DARK_BLUE","FIELD__H1__SHARED","FIELD__H1__VISA","FIELD__H1__STATUS","RESOURCE_TEMPLATE__VISA_STUDY","RESOURCE_TEMPLATE__VISA_COOP","RESOURCE_TEMPLATE__WORKING_HOLIDAY_COOP","RESOURCE_TEMPLATE__STUDENT_STATUS","RESOURCE_TEMPLATE__WORKER_STATUS","DEPRECATED_SHARED__RESOURCES","convertIsoToDateTime","isoStr","split","createStoryName","replace","generateEvents","startDate","storyId","endYear","getLastYear","years","start","end","list","i","push","getRangeNumbers","workingHolidayLimitEvent","createWorkingHolidayLimitEvent","ageEventList","map","year","index","setFullYear","addMonths","resourceId","title","lastYearDate","endDate","userCalendarsSlice","calendars","update","addStory","calendarId","story","idx","findIndex","calendar","console","warn","stories","removeStory","filter","addEvent","event","calendarIdx","storyIdx","events","removeEvent","eventId","some","_event","updateAction","addStoryAction","removeStoryAction","addEventAction","removeEventAction","selectUserCalendar","userCalendars","useUserCalendar","init","_birth","resources","createProfileStory","select","info","resource","extendedProps","newEvent","startStr","endStr","click","window","confirm","useMemo","flatMap","MY_TIME_LINE_NAME","headerToolbar","left","center","right","initialView","resourceGroupField","resourceAreaColumns","field","headerContent","duration","buttonText","resourceConfigs","resourceOrder","resourcesInitiallyExpanded","FULL_CALENDAR_CONFIGS","slotLabelFormat","month","schedulerLicenseKey","nowIndicator","BaseFullCalendar","props","plugins","interactionPlugin","resourceTimelinePlugin","listPlugin","BaseCalendarContainer","ableConfis","selectable","editable","UserCalendarContainer","resourceGroupLabelContent","groupValue","find","nameElement","document","createElement","innerHTML","buttonElement","onclick","domNodes","useResourceGroupLabelContentInUserCalendar","initUserCalendar","useEffect","eventClick","initialDate","VISA_BACKGROUND_COLOR","STATUS_BACKGROUND_COLOR","generateStory","coopVisaResourceId","coopVisaResource","coopVisaEvent","studyVisaResourceId","studyVisaResource","studyVisaEvent","workingholidayResourceId","workingholidayResource","dateAsStartWorkingHoliday","workingHolidayVisaEvent","preWorkingHolidayVisaEvent","setMonth","studentStatusResourceId","studentStatusResource","studentStatusVisaEvent","workerStatusResourceId","startMonths","addingNumbers","stop","step","a","b","range","generateStoryList","num","build","templateCalendarTable","CommunityCollegeAfterwardsWorkingHolidayCalendarId","undefined","upsertCommunityCollegeAfterwardsWorkingHolidayStories","_calendar","createCalendar","upsertCommunityCollegeAfterwardsWorkingHolidayStoriesAction","selectCommunityCollegeAfterwardsWorkingHolidayCalendar","templateCalendar","TemplateCalendarContainer","generate","reduce","prev","useCommunityCollegeAfterwardsWorkingHolidayCalendar","log","useResourceGroupLabelContentInTemplateCalendar","CalendarList","Container","div","Footer","href","target","rel","CalendarPage","SubTitle","App","className","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","userReducer","templateCalendarTableReducer","userCalendarsReducer","store","configureStore","reducer","ReactReduxProvider","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ffc2a41f.chunk.js","sourcesContent":["import React, { PropsWithChildren } from \"react\";\nimport { MuiPickersUtilsProvider as RawMuiPickersUtilsProvider } from \"@material-ui/pickers\";\nimport DateFnsUtils from \"@date-io/date-fns\";\n\nexport function MuiPickersUtilsProvider<T>({ children }: PropsWithChildren<T>) {\n  return (\n    <RawMuiPickersUtilsProvider utils={DateFnsUtils}>\n      {children}\n    </RawMuiPickersUtilsProvider>\n  );\n}\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { calcAge } from \"../../lib/age\";\nimport { addYears } from \"date-fns\";\nimport { RootState } from \"../rootReducer\";\n\nconst PERSONA_AGE = 25;\nconst personaBirth = addYears(new Date(), -PERSONA_AGE).toISOString();\n\ntype UpdatePayload = {\n  birthday: string;\n};\n\nconst userSlice = createSlice({\n  name: \"user\",\n  initialState: {\n    birthday: personaBirth,\n    age: PERSONA_AGE,\n  },\n  reducers: {\n    updateBirthday(state, action: PayloadAction<UpdatePayload>) {\n      const { birthday } = action.payload;\n      state.birthday = birthday;\n      state.age = calcAge(birthday);\n    },\n  },\n});\n\nexport const { updateBirthday: updateBirthdayAction } = userSlice.actions;\n\nexport default userSlice.reducer;\n\nexport const selectUser = (state: RootState) => state.user;\n","export const getRangeNumbers = (start: number, end: number) => {\n  let list = [] as number[];\n  for (let i = start; i <= end; i++) {\n    list.push(i);\n  }\n  return list;\n};\n\n// REF: https://stackoverflow.com/a/7091965/8842333\nexport const calcAge = (_birthday: string | Date) => {\n  const today = new Date();\n  const birthDate = new Date(_birthday);\n  let age = today.getFullYear() - birthDate.getFullYear();\n\n  const m = today.getMonth() - birthDate.getMonth();\n  if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {\n    age--;\n  }\n  return age;\n};\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { updateBirthdayAction, selectUser } from \"../redux/features/user\";\n\nexport const useUser = () => {\n  const dispatch = useDispatch();\n  const setBirth = React.useCallback(\n    (birth: string) => dispatch(updateBirthdayAction({ birthday: birth })),\n    [dispatch]\n  );\n\n  const { birthday, age } = useSelector(selectUser);\n\n  return {\n    birth: birthday,\n    age,\n    setBirth,\n  };\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { DatePicker } from \"@material-ui/pickers\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Card from \"@material-ui/core/Card\";\nimport TextField from \"@material-ui/core/TextField\";\n\nimport { useUser } from \"../../hooks/useUser\";\n\nexport function ProfileCard() {\n  const { birth, age, setBirth } = useUser();\n\n  const handleDateChange = React.useCallback(\n    (date: Date | null) => {\n      if (!date) return;\n      setBirth(date.toISOString());\n    },\n    [setBirth]\n  );\n\n  return (\n    <_Card>\n      <Avatar alt=\"you\" />\n      <TextField\n        id=\"age-text\"\n        label=\"Your Age\"\n        disabled\n        InputProps={{\n          readOnly: true,\n        }}\n        InputLabelProps={{\n          shrink: true,\n        }}\n        type=\"number\"\n        value={age}\n      />\n      <DatePicker\n        disableFuture\n        openTo=\"year\"\n        format=\"yyyy-MM-dd\"\n        label=\"Date of birth\"\n        views={[\"year\", \"month\", \"date\"]}\n        value={birth}\n        onChange={handleDateChange}\n      />\n    </_Card>\n  );\n};\n\nconst _Card = styled(Card)`\n  display: flex;\n  gap: 1rem;\n`;\n","import { v4 as uuidV4 } from \"uuid\";\n\nexport function uuid() {\n  return uuidV4();\n}\n","// field name\nexport const FIELD_NAME = {\n  H1: \"FIELD__H1\",\n  H2: \"FIELD__H2\",\n} as const;\n\n// keys\nexport const NAME_OF_STORY_ID = \"storyId\";\nexport const NAME_OF_ORDER = \"order\";\nexport const RESOURCE_NAME_KEY = \"RESOURCE_NAME_KEY\";\n\n// calendar ID\nexport const MY_CALENDAR_ID = \"MY_CALENDAR_ID\";\nexport const COMMUNITY_COLLEGE_AFTERWARDS_WORKING_HOLIDAY_CALENDAR_ID =\n  \"CCAWH_CALENDAR_ID\";\n\n// story ID\nexport const PROFILE_ID = \"PROFILE_ID\";\n\n// resouce ID\nexport const RESOURCE_ID__SHARED__AGE = \"RESOURCE_ID__SHARED__AGE\";\nexport const RESOURCE_ID__SHARED__LIMIT = \"RESOURCE_ID__SHARED__LIMIT\";\nexport const RESOURCE_ID__VISA__STUDY = \"RESOURCE_ID__VISA__STUDY\";\nexport const RESOURCE_ID__VISA__COOP = \"RESOURCE_ID__VISA__COOP\";\nexport const RESOURCE_ID__VISA__WORKING_HOLIDAY =\n  \"RESOURCE_ID__VISA__WORKING_HOLIDAY\";\nexport const RESOURCE_ID__STATUS__WORKER = \"RESOURCE_ID__STATUS__WORKER\";\nexport const RESOURCE_ID__STATUS__STUDENT = \"RESOURCE_ID__STATUS__STUDENT\";\nexport const RESOURCE_ID__ETC__CUSTOM = \"RESOURCE_ID__ETC__CUSTOM\";\nexport type RESOURCE_ID =\n  | typeof RESOURCE_ID__SHARED__AGE\n  | typeof RESOURCE_ID__SHARED__LIMIT\n  | typeof RESOURCE_ID__VISA__STUDY\n  | typeof RESOURCE_ID__VISA__COOP\n  | typeof RESOURCE_ID__VISA__WORKING_HOLIDAY\n  | typeof RESOURCE_ID__STATUS__WORKER\n  | typeof RESOURCE_ID__STATUS__STUDENT\n  | typeof RESOURCE_ID__ETC__CUSTOM;\n","import {\n  FIELD_NAME,\n  RESOURCE_ID__SHARED__AGE,\n  RESOURCE_ID__SHARED__LIMIT,\n  NAME_OF_STORY_ID,\n  PROFILE_ID,\n} from \"./settings\";\n\nconst DARK_BLUE = \"#00008b\";\n\nconst FIELD__H1__SHARED = \"SHARED\";\nconst FIELD__H1__VISA = \"VISA\";\nconst FIELD__H1__STATUS = \"STATUS\";\n\nexport const RESOURCE_TEMPLATE__VISA_STUDY = {\n  [FIELD_NAME[\"H1\"]]: FIELD__H1__VISA,\n  [FIELD_NAME[\"H2\"]]: \"Study VISA\",\n  eventBorderColor: DARK_BLUE,\n};\n\nexport const RESOURCE_TEMPLATE__VISA_COOP = {\n  [FIELD_NAME[\"H1\"]]: FIELD__H1__VISA,\n  [FIELD_NAME[\"H2\"]]: \"Co-op VISA\",\n  eventBorderColor: DARK_BLUE,\n};\n\nexport const RESOURCE_TEMPLATE__WORKING_HOLIDAY_COOP = {\n  [FIELD_NAME[\"H1\"]]: FIELD__H1__VISA,\n  [FIELD_NAME[\"H2\"]]: \"Working Holiday VISA\",\n  eventBorderColor: DARK_BLUE,\n};\n\nexport const RESOURCE_TEMPLATE__STUDENT_STATUS = {\n  [FIELD_NAME[\"H1\"]]: FIELD__H1__STATUS,\n  [FIELD_NAME[\"H2\"]]: \"Student\",\n  eventBorderColor: DARK_BLUE,\n};\n\nexport const RESOURCE_TEMPLATE__WORKER_STATUS = {\n  [FIELD_NAME[\"H1\"]]: FIELD__H1__STATUS,\n  [FIELD_NAME[\"H2\"]]: \"Worker\",\n  eventBorderColor: DARK_BLUE,\n};\n\nexport const DEPRECATED_SHARED__RESOURCES = [\n  {\n    id: RESOURCE_ID__SHARED__AGE,\n    [FIELD_NAME[\"H1\"]]: FIELD__H1__SHARED,\n    [FIELD_NAME[\"H2\"]]: \"Age\",\n    [NAME_OF_STORY_ID]: PROFILE_ID,\n    eventBorderColor: DARK_BLUE,\n  },\n  {\n    id: RESOURCE_ID__SHARED__LIMIT,\n    [FIELD_NAME[\"H1\"]]: FIELD__H1__SHARED,\n    [FIELD_NAME[\"H2\"]]: \"Working Holiday Application Limit\",\n    [NAME_OF_STORY_ID]: PROFILE_ID,\n    eventBorderColor: DARK_BLUE,\n  },\n];\n","export const convertIsoToDateTime = (isoStr: string) => isoStr.split(\"T\")[0];\n\nexport const convertIsoToYearAndMonth = (isoStr: string) =>\n  convertIsoToDateTime(isoStr).replace(/-[0-9][0-9]$/, \"\");\n","import { convertIsoToYearAndMonth } from \"../../lib/date\";\nimport { BaseEvent } from \"../event/BaseEvent\";\nimport { BaseResource } from \"../resource/BaseResource\";\n\nexport type BaseStory = {\n  id: string;\n  events: BaseEvent[];\n  resources: BaseResource[];\n  name: string;\n};\n\nexport const removeEvent = (story: BaseStory, eventId: string): BaseStory => {\n  const newEvents = story.events.filter((event) => event.id !== eventId);\n  return { ...story, events: newEvents };\n};\n\nexport const createStoryName = (birth: Date) => {\n  return convertIsoToYearAndMonth(birth.toISOString());\n};\n","import { addMonths, addYears } from \"date-fns\";\nimport { ProfileStory } from \"./model\";\nimport {\n  PROFILE_ID,\n  RESOURCE_ID__SHARED__AGE,\n  RESOURCE_ID__SHARED__LIMIT,\n} from \"../../../constants/fullcalendar/settings\";\nimport { DEPRECATED_SHARED__RESOURCES } from \"../../../constants/fullcalendar/templates\";\nimport { createStoryName } from \"../BaseStory\";\nimport { getRangeNumbers } from \"../../../lib/age\";\nimport { uuid } from \"../../../lib/uuid\";\nimport { convertIsoToDateTime } from \"../../../lib/date\";\nimport { WORKING_HOLIDAY_APPLICATION_LIMITATION_AGE } from \"../../../constants/visa\";\nimport { BaseEvent } from \"../../event/BaseEvent\";\n\nexport const createProfileStory = ({\n  birth,\n}: {\n  birth: string | Date;\n}): ProfileStory => {\n  const _birth = new Date(birth);\n\n  const storyId = PROFILE_ID;\n\n  return {\n    id: storyId,\n    name: createStoryName(_birth),\n    resources: DEPRECATED_SHARED__RESOURCES,\n    events: generateEvents(_birth, storyId),\n  };\n};\n\nconst generateEvents = (startDate: Date, storyId: string): BaseEvent[] => {\n  // get year num\n  const endYear = getLastYear();\n  const startYear = new Date(startDate).getFullYear();\n\n  // create years list\n  const years = getRangeNumbers(startYear, endYear);\n\n  const workingHolidayLimitEvent = createWorkingHolidayLimitEvent(\n    startDate,\n    storyId\n  );\n\n  // create EventInput obj\n  const ageEventList = years.map((year, index) => {\n    const start = (() => {\n      startDate.setFullYear(year);\n      const isoStr = startDate.toISOString();\n      const str = convertIsoToDateTime(isoStr);\n      return str;\n    })();\n\n    const isoStr = addMonths(new Date(start), +11).toISOString();\n    const end = convertIsoToDateTime(isoStr);\n\n    return {\n      id: uuid(),\n      resourceId: RESOURCE_ID__SHARED__AGE,\n      title: `Aage:${index}`,\n      storyId,\n      start,\n      end,\n    };\n  });\n\n  return [workingHolidayLimitEvent, ...ageEventList];\n};\n\nconst getLastYear = () => {\n  const BUFFER_YEAR = 10;\n  const date = new Date();\n  return addYears(date, BUFFER_YEAR).getFullYear();\n};\n\nconst createWorkingHolidayLimitEvent = (\n  birthday: Date,\n  storyId: string\n): BaseEvent => {\n  const lastYearDate = addYears(\n    birthday,\n    WORKING_HOLIDAY_APPLICATION_LIMITATION_AGE\n  );\n  const endDate = addMonths(lastYearDate, +11);\n  const end = convertIsoToDateTime(endDate.toISOString());\n\n  const start = convertIsoToDateTime(birthday.toISOString());\n  const _event = {\n    id: uuid(),\n    resourceId: RESOURCE_ID__SHARED__LIMIT,\n    title: \"Limitation till WorkingHoliday\",\n    storyId,\n    start,\n    end,\n  };\n  return _event;\n};\n","// working holiday have to be applied by age of 31.\nexport const WORKING_HOLIDAY_APPLICATION_LIMITATION_AGE = 31;\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { RootState } from \"../rootReducer\";\nimport { BaseCalendar } from \"../../core/calendar/BaseCalendar\";\nimport { BaseStory } from \"../../core/story/BaseStory\";\nimport { BaseEvent } from \"../../core/event/BaseEvent\";\n\ntype Calendar = BaseCalendar;\ntype UpdatePayload = { calendars: Calendar[] };\ntype AddStoryPayload = { calendarId: string; story: BaseStory };\ntype RemoveStoryPayload = { calendarId: string; storyId: string };\ntype AddEventPayload = {\n  calendarId: string;\n  storyId: string;\n  event: BaseEvent;\n};\ntype RemoveEventPayload = {\n  calendarId: string;\n  eventId: string;\n};\n\nconst userCalendarsSlice = createSlice({\n  name: \"userCalendars\",\n  initialState: {\n    calendars: [] as Calendar[],\n  },\n  reducers: {\n    update(state, action: PayloadAction<UpdatePayload>) {\n      const { calendars } = action.payload;\n      state.calendars = calendars;\n    },\n    addStory(state, action: PayloadAction<AddStoryPayload>) {\n      const { calendarId, story } = action.payload;\n      const idx = state.calendars.findIndex(\n        (calendar) => calendar.id === calendarId\n      );\n      const cannotFind = idx === -1;\n      if (cannotFind) {\n        console.warn(\"cannot find calendar on addStory\", calendarId);\n        return;\n      }\n      state.calendars[idx].stories.push(story);\n    },\n    removeStory(state, action: PayloadAction<RemoveStoryPayload>) {\n      const { calendarId, storyId } = action.payload;\n      const idx = state.calendars.findIndex(\n        (calendar) => calendar.id === calendarId\n      );\n      const cannotFind = idx === -1;\n      if (cannotFind) {\n        console.warn(\"cannot find calendar on removeStory\", calendarId);\n        return;\n      }\n      state.calendars[idx].stories = state.calendars[idx].stories.filter(\n        (story) => story.id !== storyId\n      );\n    },\n    addEvent(state, action: PayloadAction<AddEventPayload>) {\n      const { calendarId, storyId, event } = action.payload;\n\n      // calendar\n      const calendarIdx = state.calendars.findIndex(\n        (calendar) => calendar.id === calendarId\n      );\n      const cannotFindCalendar = calendarIdx === -1;\n      if (cannotFindCalendar) {\n        console.warn(\"cannot find calendar on addEvent\", calendarId);\n        return;\n      }\n\n      // story\n      const storyIdx = state.calendars[calendarIdx].stories.findIndex(\n        (story) => story.id === storyId\n      );\n      const cannotFindStory = storyIdx === -1;\n      if (cannotFindStory) {\n        console.warn(\"cannot find calendar on addEvent\", calendarId);\n        return;\n      }\n\n      // addd\n      state.calendars[calendarIdx].stories[storyIdx].events.push(event);\n    },\n    removeEvent(state, action: PayloadAction<RemoveEventPayload>) {\n      const { calendarId, eventId } = action.payload;\n\n      // calendar\n      const calendarIdx = state.calendars.findIndex(\n        (calendar) => calendar.id === calendarId\n      );\n      const cannotFindCalendar = calendarIdx === -1;\n      if (cannotFindCalendar) {\n        console.warn(\"cannot find calendar on addEvent\", calendarId);\n        return;\n      }\n\n      // story\n      const storyIdx = state.calendars[calendarIdx].stories.findIndex(\n        (story) => {\n          return story.events.some((_event) => _event.id === eventId);\n        }\n      );\n      const cannotFindStory = storyIdx === -1;\n      if (cannotFindStory) {\n        console.warn(\"cannot find calendar on removeEvent\", storyIdx);\n        return;\n      }\n\n      // remove\n      state.calendars[calendarIdx].stories[storyIdx].events = state.calendars[\n        calendarIdx\n      ].stories[storyIdx].events.filter((_event) => _event.id !== eventId);\n    },\n  },\n});\n\nexport const {\n  update: updateAction,\n  addStory: addStoryAction,\n  removeStory: removeStoryAction,\n  addEvent: addEventAction,\n  removeEvent: removeEventAction,\n} = userCalendarsSlice.actions;\n\nexport default userCalendarsSlice.reducer;\n\nexport const selectUserCalendar = (state: RootState) =>\n  state.userCalendars.calendars;\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { DateSelectArg, EventClickArg } from \"@fullcalendar/react\";\nimport { uuid } from \"../lib/uuid\";\nimport { createProfileStory } from \"../core/story/ProfileStory/createProfileStory\";\nimport { createUserCalendar } from \"../core/calendar/UserCalendar/createUserCalendar\";\nimport {\n  updateAction,\n  addEventAction,\n  removeEventAction,\n  selectUserCalendar,\n} from \"../redux/features/userCalendars\";\n\nexport const useUserCalendar = () => {\n  const dispatch = useDispatch();\n  const calendars = useSelector(selectUserCalendar);\n  const calendar = calendars[0]; // TODO: later there is plan to become list.\n\n  const init = React.useCallback(\n    (birthday: string | Date) => {\n      const story = createProfileStory({ birth: birthday });\n      const calendar = createUserCalendar({ stories: [story] });\n      const _calendars = [calendar];\n      dispatch(updateAction({ calendars: _calendars }));\n    },\n    [dispatch]\n  );\n\n  const select = React.useCallback(\n    (info: DateSelectArg) => {\n      if (!info.resource) {\n        console.warn(\"Unexpected data that info does not have resource.\");\n        return;\n      }\n      const storyId = info.resource.extendedProps.storyId;\n      if (!storyId) {\n        console.warn(\"Unexpected data not including storyId.\");\n        return;\n      }\n\n      const calendarId = calendar.id;\n      const newEvent = {\n        id: uuid(),\n        resourceId: info.resource.id,\n        start: info.startStr,\n        end: info.endStr,\n      };\n\n      dispatch(addEventAction({ event: newEvent, calendarId, storyId }));\n    },\n    [calendar, dispatch]\n  );\n\n  const click = React.useCallback(\n    (info: EventClickArg) => {\n      if (!window.confirm(\"Would you like to remove this event?\")) return;\n\n      const calendarId = calendar.id;\n      const eventId = info.event.id;\n      if (!eventId) {\n        console.warn(\"Unexpected data. cannot find event id.\");\n        return;\n      }\n\n      dispatch(removeEventAction({ calendarId, eventId }));\n    },\n    [dispatch, calendar]\n  );\n\n  const stories = React.useMemo(() => calendar?.stories ?? [], [calendar]);\n\n  const events = React.useMemo(\n    () => calendar?.stories.flatMap((story) => story.events) ?? [],\n    [calendar]\n  );\n\n  const resources = React.useMemo(\n    () => calendar?.stories.flatMap((story) => story.resources) ?? [],\n    [calendar]\n  );\n\n  return { calendar, stories, events, resources, init, click, select } as const;\n};\n","import { UserCalendar, calendarId } from \"./model\";\nimport { ProfileStory } from \"../../story/ProfileStory/model\";\n\ntype Story = ProfileStory;\n\nexport const createUserCalendar = ({\n  stories,\n}: {\n  stories: Story[];\n}): UserCalendar => {\n  return {\n    id: calendarId,\n    stories,\n  };\n};\n","import { BaseCalendar } from \"../BaseCalendar\";\nimport { MY_CALENDAR_ID } from \"../../../constants/fullcalendar/settings\";\n\nexport const calendarId = MY_CALENDAR_ID;\nexport type UserCalendar = BaseCalendar;\n","import { FIELD_NAME, NAME_OF_STORY_ID, NAME_OF_ORDER } from \"./settings\";\n\nexport const MY_TIME_LINE_NAME = \"MY_TIME_LINE_NAME\";\n\nexport const AGE_OF_START_STORY = 21;\n\nconst slotLabelFormat = [{ year: \"numeric\" }, { month: \"numeric\" }];\n\nconst headerToolbar = {\n  left: \"today prev,next\",\n  center: \"title\",\n  right: `${MY_TIME_LINE_NAME},listMonth`,\n} as const;\n\nconst initialView = { initialView: MY_TIME_LINE_NAME } as const;\n\nconst resourceGroupField = { resourceGroupField: NAME_OF_STORY_ID } as const;\n\nconst resourceAreaColumns = [\n  {\n    field: FIELD_NAME[\"H1\"],\n    headerContent: \"Category\",\n  },\n  {\n    field: FIELD_NAME[\"H2\"],\n    headerContent: \"Event\",\n  },\n];\n\nconst schedulerLicenseKey = {\n  schedulerLicenseKey: \"GPL-My-Project-Is-Open-Source\",\n} as const;\n\nconst views = {\n  [MY_TIME_LINE_NAME]: {\n    type: \"resourceTimelineYear\",\n    duration: { year: 15 },\n    buttonText: \"TIME_LINE\",\n  },\n} as const;\n\nconst nowIndicator = {\n  nowIndicator: true,\n} as const;\n\nconst resourceConfigs = {\n  resourceOrder: NAME_OF_ORDER,\n  resourcesInitiallyExpanded: false,\n} as const;\n\nexport const FULL_CALENDAR_CONFIGS = {\n  resourceAreaColumns,\n  views,\n  headerToolbar,\n  slotLabelFormat,\n  ...initialView,\n  ...resourceGroupField,\n  ...schedulerLicenseKey,\n  ...nowIndicator,\n  ...resourceConfigs,\n} as const;\n","import React, { PropsWithChildren } from \"react\";\nimport FullCalendarLib from \"@fullcalendar/react\";\nimport resourceTimelinePlugin from \"@fullcalendar/resource-timeline\";\nimport listPlugin from \"@fullcalendar/list\";\nimport interactionPlugin from \"@fullcalendar/interaction\";\nimport { FULL_CALENDAR_CONFIGS } from \"../../constants/fullcalendar/options\";\n\nexport function BaseFullCalendar<T>(props: PropsWithChildren<T>) {\n  return (\n    <FullCalendarLib\n      {...FULL_CALENDAR_CONFIGS}\n      plugins={[interactionPlugin, resourceTimelinePlugin, listPlugin]}\n      {...props}\n    />\n  );\n}\n","import React from \"react\";\nimport { BaseFullCalendar } from \"../components/atoms/BaseFullCalendar\";\n\nexport function BaseCalendarContainer(props: any) {\n  const args = {\n    // \n  };\n\n  return <BaseFullCalendar {...props} {...args} />;\n}\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { removeStoryAction } from \"../redux/features/userCalendars\";\nimport { selectUserCalendar } from \"../redux/features/userCalendars\";\nimport { MY_CALENDAR_ID } from \"../constants/fullcalendar/settings\";\n\ntype Props = {\n  // REF: https://fullcalendar.io/docs/resource-group-render-hooks\n  groupValue: string;\n};\n\nexport const useResourceGroupLabelContentInUserCalendar = () => {\n  const dispatch = useDispatch();\n  const calendars = useSelector(\n    selectUserCalendar\n  );\n\n  const calendar = calendars[0] // TODO: \n\n  const resourceGroupLabelContent = React.useCallback(\n    ({ groupValue: storyId }: Props) => {\n      if (!calendar) return;\n\n      // story validation\n      const story = calendar.stories.find((story) => story.id === storyId);\n      if (!story) {\n        console.warn(\"cannot find story\", storyId);\n        return;\n      }\n\n      // name handler\n      let name: string;\n      if (story.name) {\n        name = story.name;\n      } else {\n        console.warn(\"cannot find this story name\", storyId);\n        name = \"No Name\";\n      }\n\n      const onClick = () => {\n        if (!window.confirm(\"Remove this story?\")) return;\n        dispatch(removeStoryAction({ calendarId: MY_CALENDAR_ID, storyId }));\n      };\n\n      const nameElement = document.createElement('i')\n      nameElement.innerHTML = name + ' ' // NOTE: space is for design, so not good way\n\n      const buttonElement = document.createElement('button')\n      buttonElement.innerHTML = 'remove'\n      buttonElement.onclick = onClick\n\n      const arrayOfDomNodes = [nameElement, buttonElement];\n      return { domNodes: arrayOfDomNodes };\n    },\n    [dispatch, calendar]\n  );\n\n  return {resourceGroupLabelContent};\n};\n","import React from \"react\";\nimport { useUserCalendar } from \"../hooks/useUserCalendar\";\nimport { useUser } from \"../hooks/useUser\";\nimport { BaseCalendarContainer } from \"./BaseCalendarContainer\";\nimport { useResourceGroupLabelContentInUserCalendar } from \"../hooks/useResourceGroupLabelContentInUserCalendar\";\n\nconst ableConfis = {\n  selectable: true,\n  editable: true,\n} as const;\n\nexport function UserCalendarContainer() {\n  const { birth } = useUser();\n\n  const {\n    resourceGroupLabelContent,\n  } = useResourceGroupLabelContentInUserCalendar();\n\n  const {\n    events,\n    resources,\n    init: initUserCalendar,\n    click,\n    select,\n  } = useUserCalendar();\n\n  React.useEffect(() => {\n    initUserCalendar(birth);\n  }, [birth, initUserCalendar]);\n\n  return (\n    <BaseCalendarContainer\n      events={events}\n      resources={resources}\n      select={select}\n      eventClick={click}\n      initialDate={\"2020-06-01\"}\n      resourceGroupLabelContent={resourceGroupLabelContent}\n      {...ableConfis}\n    />\n  );\n}\n","import { BaseCalendar } from \"../BaseCalendar\";\nimport { COMMUNITY_COLLEGE_AFTERWARDS_WORKING_HOLIDAY_CALENDAR_ID } from \"../../../constants/fullcalendar/settings\";\n\nexport type CommunityCollegeAfterwardsWorkingHolidayCalendar = BaseCalendar;\n\nexport const calendarId = COMMUNITY_COLLEGE_AFTERWARDS_WORKING_HOLIDAY_CALENDAR_ID;\n","import { addMonths, addYears, setMonth } from \"date-fns\";\nimport {\n  RESOURCE_TEMPLATE__VISA_STUDY,\n  RESOURCE_TEMPLATE__VISA_COOP,\n  RESOURCE_TEMPLATE__WORKING_HOLIDAY_COOP,\n  RESOURCE_TEMPLATE__STUDENT_STATUS,\n  RESOURCE_TEMPLATE__WORKER_STATUS,\n} from \"../../../constants/fullcalendar/templates\";\nimport {\n  NAME_OF_STORY_ID,\n  NAME_OF_ORDER,\n} from \"../../../constants/fullcalendar/settings\";\nimport { uuid } from \"../../../lib/uuid\";\nimport { CommunityCollegeAfterwardsWorkingHolidayStory } from \"./model\";\nimport { createStoryName } from \"../BaseStory\";\nimport { BaseEvent } from \"../../event/BaseEvent\";\nimport { BaseResource } from \"../../resource/BaseResource\";\n\nconst VISA_BACKGROUND_COLOR = \"#8fbc8b\";\nconst STATUS_BACKGROUND_COLOR = \"#ffd700\";\nconst WH_WARN_BACKGROUND_COLOR = \"#e73758\";\n\nexport const build = ({\n  startDate,\n}: {\n  startDate: Date;\n}): CommunityCollegeAfterwardsWorkingHolidayStory => {\n  const storyId = uuid();\n  const name = createStoryName(startDate);\n  const [resources, events] = generateStory(storyId, startDate);\n  return {\n    id: storyId,\n    name,\n    events,\n    resources,\n  };\n};\n\nconst generateStory = (storyId: string, startDate: Date) => {\n  // Coop Visa\n  const coopVisaResourceId = uuid();\n  const coopVisaResource = {\n    ...RESOURCE_TEMPLATE__VISA_COOP,\n    id: coopVisaResourceId,\n    [NAME_OF_STORY_ID]: storyId,\n    [NAME_OF_ORDER]: 1,\n  };\n  const coopVisaEvent = {\n    id: uuid(),\n    resourceId: coopVisaResourceId,\n    storyId,\n    start: startDate.toISOString(),\n    end: addMonths(startDate, 12 * 2).toISOString(),\n    [NAME_OF_ORDER]: 1,\n    backgroundColor: VISA_BACKGROUND_COLOR,\n  };\n\n  // StudyVisa\n  const studyVisaResourceId = uuid();\n  const studyVisaResource = {\n    ...RESOURCE_TEMPLATE__VISA_STUDY,\n    id: studyVisaResourceId,\n    [NAME_OF_STORY_ID]: storyId,\n    [NAME_OF_ORDER]: 2,\n  };\n  const studyVisaEvent = {\n    id: uuid(),\n    resourceId: studyVisaResourceId,\n    storyId,\n    start: startDate.toISOString(),\n    end: addMonths(startDate, 12 * 2).toISOString(),\n    [NAME_OF_ORDER]: 2,\n    backgroundColor: VISA_BACKGROUND_COLOR,\n  };\n\n  // Working-holiday Visa\n  const workingholidayResourceId = uuid();\n  const workingholidayResource = {\n    ...RESOURCE_TEMPLATE__WORKING_HOLIDAY_COOP,\n    id: workingholidayResourceId,\n    [NAME_OF_STORY_ID]: storyId,\n    [NAME_OF_ORDER]: 3,\n  };\n  const dateAsStartWorkingHoliday = addMonths(startDate, 12 * 2);\n  const workingHolidayVisaEvent = {\n    id: uuid(),\n    resourceId: workingholidayResourceId,\n    storyId,\n    start: dateAsStartWorkingHoliday.toISOString(),\n    end: addMonths(dateAsStartWorkingHoliday, 12 * 1).toISOString(),\n    [NAME_OF_ORDER]: 3,\n    backgroundColor: VISA_BACKGROUND_COLOR,\n  };\n  const preWorkingHolidayVisaEvent = {\n    id: uuid(),\n    resourceId: workingholidayResourceId,\n    storyId,\n    start: setMonth(addYears(dateAsStartWorkingHoliday, -1), 8).toISOString(),\n    end: dateAsStartWorkingHoliday.toISOString(),\n    [NAME_OF_ORDER]: 3,\n    backgroundColor: WH_WARN_BACKGROUND_COLOR,\n  };\n\n  // student status\n  const studentStatusResourceId = uuid();\n  const studentStatusResource = {\n    ...RESOURCE_TEMPLATE__STUDENT_STATUS,\n    id: studentStatusResourceId,\n    [NAME_OF_STORY_ID]: storyId,\n    [NAME_OF_ORDER]: 4,\n  };\n  const studentStatusVisaEvent = {\n    id: uuid(),\n    resourceId: studentStatusResourceId,\n    storyId,\n    start: startDate.toISOString(),\n    end: addMonths(startDate, 12 * 2).toISOString(),\n    [NAME_OF_ORDER]: 4,\n    eventBackgroundCoor: STATUS_BACKGROUND_COLOR,\n  };\n\n  // worker status\n  const workerStatusResourceId = uuid();\n  const workerStatusResource = {\n    ...RESOURCE_TEMPLATE__WORKER_STATUS,\n    id: workerStatusResourceId,\n    [NAME_OF_STORY_ID]: storyId,\n    [NAME_OF_ORDER]: 5,\n  };\n  const workerStatusVisaEvent = {\n    id: uuid(),\n    resourceId: workerStatusResourceId,\n    storyId,\n    start: addMonths(startDate, 12 * 1).toISOString(),\n    end: addMonths(startDate, 12 * 3).toISOString(),\n    [NAME_OF_ORDER]: 5,\n    eventBackgroundCoor: STATUS_BACKGROUND_COLOR,\n  };\n\n  const resources = [\n    // visa\n    coopVisaResource,\n    studyVisaResource,\n    workingholidayResource,\n\n    // status\n    studentStatusResource,\n    workerStatusResource,\n  ];\n  const events = [\n    // visa\n    coopVisaEvent,\n    studyVisaEvent,\n    preWorkingHolidayVisaEvent,\n    workingHolidayVisaEvent,\n\n    // status\n    studentStatusVisaEvent,\n    workerStatusVisaEvent,\n  ];\n  return [resources, events] as [BaseResource[], BaseEvent[]];\n};\n","import { addYears, addMonths } from \"date-fns\";\nimport {\n  CommunityCollegeAfterwardsWorkingHolidayCalendar,\n  calendarId,\n} from \"./model\";\nimport { AGE_OF_START_STORY } from \"../../../constants/fullcalendar/options\";\nimport { WORKING_HOLIDAY_APPLICATION_LIMITATION_AGE } from \"../../../constants/visa\";\nimport { COMMUNITY_COLLEGE_EXAMPLE1 } from \"../../../constants/school\";\nimport { range } from \"../../../lib/util\";\nimport { build } from \"../../story/CommunityCollegeAfterwardsWorkingHolidayStory/build\";\nimport { BaseStory } from \"../../story/BaseStory\";\n\nconst startMonths = COMMUNITY_COLLEGE_EXAMPLE1.startMonths;\n\nconst addingNumbers = range(\n  AGE_OF_START_STORY,\n  WORKING_HOLIDAY_APPLICATION_LIMITATION_AGE\n);\n\nconst generateStoryList = (birth: Date): BaseStory[] => {\n  return addingNumbers\n    .map((num) => addYears(birth, num))\n    .flatMap((startDate) => {\n      const datesInYear = startMonths.map((month) =>\n        addMonths(startDate, month)\n      );\n      return datesInYear;\n    })\n    .map((startDate) => {\n      return build({ startDate });\n    });\n};\n\nexport const createCalendar = ({\n  birth,\n}: {\n  birth: Date;\n}): CommunityCollegeAfterwardsWorkingHolidayCalendar => {\n  const stories = generateStoryList(birth);\n  return {\n    id: calendarId,\n    stories,\n  };\n};\n","export const COMMUNITY_COLLEGE_EXAMPLE1 = {\n  name: \"example college\",\n  startMonths: [1, 5, 9],\n} as const;\n","// REF: https://stackoverflow.com/a/15453499/8842333\nexport function range(start: number, stop: number, step?: number) {\n  var a = [start],\n    b = start;\n  while (b < stop) {\n    a.push((b += step || 1));\n  }\n  return a;\n}\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { createCalendar } from \"../../core/calendar/CommunityCollegeAfterwardsWorkingHolidayCalendar/createCalendar\";\nimport { calendarId as CommunityCollegeAfterwardsWorkingHolidayCalendarId } from \"../../core/calendar/CommunityCollegeAfterwardsWorkingHolidayCalendar/model\";\nimport { BaseCalendar } from \"../../core/calendar/BaseCalendar\";\nimport { RootState } from \"../rootReducer\";\n\ntype UpsertCommunityCollegeAfterwardsWorkingHolidayStoriesPayload = {\n  birth: string;\n};\n\nconst templateCalendarTable = createSlice({\n  name: \"templateCalendarTable\",\n  initialState: {\n    [CommunityCollegeAfterwardsWorkingHolidayCalendarId]: undefined as\n      | BaseCalendar\n      | undefined,\n  },\n  reducers: {\n    upsertCommunityCollegeAfterwardsWorkingHolidayStories(\n      state,\n      action: PayloadAction<UpsertCommunityCollegeAfterwardsWorkingHolidayStoriesPayload>\n    ) {\n      const { birth } = action.payload;\n      const _calendar = createCalendar({ birth: new Date(birth) });\n      state[CommunityCollegeAfterwardsWorkingHolidayCalendarId] = _calendar;\n    },\n  },\n});\n\nexport default templateCalendarTable.reducer;\n\nexport const {\n  upsertCommunityCollegeAfterwardsWorkingHolidayStories: upsertCommunityCollegeAfterwardsWorkingHolidayStoriesAction,\n} = templateCalendarTable.actions;\n\nexport const selectCommunityCollegeAfterwardsWorkingHolidayCalendar = (\n  state: RootState\n) => state.templateCalendar[CommunityCollegeAfterwardsWorkingHolidayCalendarId];\n","import React from \"react\";\nimport { useCommunityCollegeAfterwardsWorkingHolidayCalendar } from \"../hooks/useCommunityCollegeAfterwardsWorkingHolidayCalendar\";\nimport { useUser } from \"../hooks/useUser\";\nimport { BaseCalendarContainer } from \"./BaseCalendarContainer\";\nimport { useResourceGroupLabelContentInTemplateCalendar } from \"../hooks/useResourceGroupLabelContentInTemplateCalendar\";\n\nconst ableConfis = {\n  selectable: false,\n  editable: false,\n} as const;\n\nexport function TemplateCalendarContainer() {\n  const { birth } = useUser();\n  const {\n    resources,\n    events,\n    generate,\n  } = useCommunityCollegeAfterwardsWorkingHolidayCalendar();\n  const {\n    resourceGroupLabelContent,\n  } = useResourceGroupLabelContentInTemplateCalendar();\n\n  React.useEffect(() => {\n    generate(birth);\n  }, [generate, birth]);\n\n  return (\n    <BaseCalendarContainer\n      events={events}\n      resources={resources}\n      initialDate={\"2020-06-01\"}\n      resourceGroupLabelContent={resourceGroupLabelContent}\n      {...ableConfis}\n    />\n  );\n}\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { BaseEvent } from \"../core/event/BaseEvent\";\nimport { BaseResource } from \"../core/resource/BaseResource\";\nimport {\n  upsertCommunityCollegeAfterwardsWorkingHolidayStoriesAction,\n  selectCommunityCollegeAfterwardsWorkingHolidayCalendar,\n} from \"../redux/features/templateCalendarTable\";\n\nexport const useCommunityCollegeAfterwardsWorkingHolidayCalendar = () => {\n  const dispatch = useDispatch();\n  const generate = React.useCallback(\n    (birth: string) => {\n      dispatch(\n        upsertCommunityCollegeAfterwardsWorkingHolidayStoriesAction({ birth })\n      );\n    },\n    [dispatch]\n  );\n\n  const calendar = useSelector(\n    selectCommunityCollegeAfterwardsWorkingHolidayCalendar\n  );\n\n  const stories = React.useMemo(() => calendar?.stories ?? [], [calendar]);\n\n  const resources = React.useMemo(\n    () =>\n      stories.reduce<BaseResource[]>(\n        (prev, story) => [...prev, ...story.resources],\n        []\n      ),\n    [stories]\n  );\n\n  const events = React.useMemo(\n    () =>\n      stories.reduce<BaseEvent[]>(\n        (prev, story) => [...prev, ...story.events],\n        [] as any[]\n      ),\n    [stories]\n  );\n\n  return { stories, generate, resources, events } as const;\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addStoryAction } from \"../redux/features/userCalendars\";\nimport { selectCommunityCollegeAfterwardsWorkingHolidayCalendar } from \"../redux/features/templateCalendarTable\";\nimport { MY_CALENDAR_ID } from \"../constants/fullcalendar/settings\";\n\ntype Props = {\n  // REF: https://fullcalendar.io/docs/resource-group-render-hooks\n  groupValue: string;\n};\n\nexport const useResourceGroupLabelContentInTemplateCalendar = () => {\n  const dispatch = useDispatch();\n  const calendar = useSelector(\n    selectCommunityCollegeAfterwardsWorkingHolidayCalendar\n  );\n\n  const resourceGroupLabelContent = React.useCallback(\n    ({ groupValue: storyId }: Props) => {\n      if (!calendar) return;\n\n      // story validation\n      const story = calendar.stories.find((story) => story.id === storyId);\n      if (!story) {\n        console.warn(\"cannot find story\", storyId);\n        return;\n      }\n\n      // name handler\n      let name: string;\n      if (story.name) {\n        name = story.name;\n      } else {\n        console.warn(\"cannot find this story name\", storyId);\n        name = \"No Name\";\n      }\n\n      const onClick = () => {\n        if (!window.confirm(\"Copy to my calendar?\")) return;\n        console.log(\"clicked\");\n        dispatch(addStoryAction({ calendarId: MY_CALENDAR_ID, story }));\n      };\n\n      const nameElement = document.createElement('i')\n      nameElement.innerHTML = name + ' ' // NOTE: space is for design, so not good way\n\n      const buttonElement = document.createElement('button')\n      buttonElement.innerHTML = 'copy'\n      buttonElement.onclick = onClick\n\n      const arrayOfDomNodes = [nameElement, buttonElement];\n      return { domNodes: arrayOfDomNodes };\n    },\n    [dispatch, calendar]\n  );\n\n  return {resourceGroupLabelContent};\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { UserCalendarContainer } from \"../../containers/UserCalendarContainer\";\nimport { TemplateCalendarContainer } from \"../../containers/TemplateCalendarContainer\";\n\nexport function CalendarList() {\n  return (\n    <Container>\n      <div>\n        <h2>UserCalendar</h2>\n        <UserCalendarContainer />\n      </div>\n\n      <hr />\n      <div>\n        <h2>CommunityCollegeAfterwardsWorkingHolidayStory</h2>\n        <TemplateCalendarContainer />\n      </div>\n    </Container>\n  );\n}\n\nconst Container = styled.div`\n  padding: 3rem;\n`;\n","import React from \"react\";\n\nexport function Footer() {\n  return (\n    <ul>\n      <li>\n        <a\n          href=\"https://github.com/snamiki1212/canada-immigration-scheduler\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          Github\n        </a>\n      </li>\n    </ul>\n  );\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { ProfileCard } from \"../organisms/ProfileCard\";\nimport { CalendarList } from \"../organisms/CalendarList\";\nimport { Footer } from \"../molecules/Footer\";\n\nexport function CalendarPage () {\n  return (\n    <Container>\n      <div>\n        <SubTitle>Your Profile Data</SubTitle>\n        <ProfileCard />\n      </div>\n\n      <div>\n        <SubTitle>Calendar</SubTitle>\n        <CalendarList />\n      </div>\n\n      <div>\n        <SubTitle>References</SubTitle>\n        <Footer />\n      </div>\n    </Container>\n  );\n};\n\nconst SubTitle = styled.div`\n  background: darkblue;\n  color: white;\n  font-size: 4rem;\n`;\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 5rem;\n`;\n","import React from \"react\";\nimport { MuiPickersUtilsProvider } from \"./providers/MuiPickersUtilsProvider\";\nimport { CalendarPage } from \"./components/pages/CalendarPage\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <MuiPickersUtilsProvider>\n        <CalendarPage />\n      </MuiPickersUtilsProvider>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { combineReducers } from \"@reduxjs/toolkit\";\n\n// reducers\nimport userReducer from \"./features/user\";\nimport templateCalendarTableReducer from \"./features/templateCalendarTable\";\nimport userCalendarsReducer from \"./features/userCalendars\";\n\nconst rootReducer = combineReducers({\n  user: userReducer,\n\n  // Calendars\n  templateCalendar: templateCalendarTableReducer,\n  userCalendars: userCalendarsReducer,\n});\n\nexport type RootState = ReturnType<typeof rootReducer>;\n\nexport default rootReducer;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport rootReducer from \"./rootReducer\";\n\nconst store = configureStore({\n  reducer: rootReducer,\n});\n\nif (process.env.NODE_ENV === \"development\" && module.hot) {\n  module.hot.accept(\"./rootReducer\", () => {\n    const newRootReducer = require(\"./rootReducer\").default;\n    store.replaceReducer(newRootReducer);\n  });\n}\n\nexport type AppDispatch = typeof store.dispatch;\n\nexport default store;\n","import React, { PropsWithChildren } from \"react\";\nimport { Provider } from \"react-redux\";\nimport store from \"../redux/store\";\n\nexport function ReactReduxProvider<T>({ children }: PropsWithChildren<T>) {\n  return <Provider store={store}>{children}</Provider>;\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { ReactReduxProvider } from './providers/ReactReduxProvider'\n\nconst render = () => {\n  ReactDOM.render(\n    <React.StrictMode>\n      <ReactReduxProvider>\n        <App />\n      </ReactReduxProvider>\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n  );\n};\n\nrender();\n\n// for redux\nif (process.env.NODE_ENV === \"development\" && module.hot) {\n  module.hot.accept(\"./App\", render);\n}\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.warn))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}