(this.webpackJsonpplangoab=this.webpackJsonpplangoab||[]).push([[0],{126:function(e,n,r){},127:function(e,n,r){},128:function(e,n,r){"use strict";r.r(n);var t=r(4),a=r(0),o=r.n(a),c=r(17),d=r.n(c),i=r(28),s=r(89);function u(e){var n=e.children;return Object(t.jsx)(i.a,{utils:s.a,children:n})}var l=r(24),b=r(25),f=r(165),j=r(172),v=r(163),O=r(166),I=r(168),p=r(13),h=r(29),y=r(82),m=Object(y.a)(new Date,-25).toISOString(),g=Object(h.b)({name:"user",initialState:{birthday:m,age:25,canWorkingholiday:!0},reducers:{updateBirthday:function(e,n){var r=n.payload.birthday;e.birthday=r,e.age=function(e){var n=new Date,r=new Date(e),t=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return(a<0||0===a&&n.getDate()<r.getDate())&&t--,t}(r)},toggleWorkingholiday:function(e,n){e.canWorkingholiday=!e.canWorkingholiday}}}),x=g.actions,C=x.updateBirthday,k=x.toggleWorkingholiday,S=g.reducer,w=function(e){return e.features.user},E=function(){var e=Object(p.b)(),n=o.a.useCallback((function(n){return e(C({birthday:n}))}),[e]),r=o.a.useCallback((function(){e(k())}),[e]),t=Object(p.c)(w);return{birth:t.birthday,age:t.age,setBirth:n,toggleWorkingholiday:r,canWorkingholiday:t.canWorkingholiday}};function M(){var e=Object(l.a)(["\n  display: flex;\n  gap: 1rem;\n  padding: 2rem;\n"]);return M=function(){return e},e}function D(){var e=E(),n=e.birth,r=e.age,a=e.setBirth,c=e.toggleWorkingholiday,d=e.canWorkingholiday,i=o.a.useCallback((function(e){e&&a(e.toISOString())}),[a]),s=o.a.useCallback((function(){c()}),[c]);return Object(t.jsxs)(L,{children:[Object(t.jsx)(j.a,{alt:"you"}),Object(t.jsx)(O.a,{id:"age-text",label:"Your Age",disabled:!0,InputProps:{readOnly:!0},InputLabelProps:{shrink:!0},type:"number",value:r}),Object(t.jsx)(f.a,{disableFuture:!0,openTo:"year",format:"yyyy-MM-dd",label:"Date of birth",views:["year","month","date"],value:n,onChange:i}),Object(t.jsxs)("div",{children:[Object(t.jsx)("span",{children:"with working holiday"}),Object(t.jsx)(I.a,{checked:d,onChange:s})]})]})}var L=Object(b.a)(v.a)(M()),R=r(171),P=r(14),W=r(170);function F(){return Object(W.a)()}var T,_,A,N,B,H="FIELD1",G="FIELD2",Y="storyId",V="order",U="MY_CALENDAR_ID",z="RESOURCE_ID__SHARED__AGE",J="RESOURCE_ID__SHARED__LIMIT",K=function(e){return e.split("T")[0]},$=function(e){var n=null!==e&&void 0!==e?e:{},r=n.id,t=n.calendarId,a=n.resourceId,o=n.storyId,c=n.title,d=n.start,i=n.end,s=null!==o&&void 0!==o?o:F(),u=null!==a&&void 0!==a?a:F(),l=null!==c&&void 0!==c?c:"New Event";return{id:null!==r&&void 0!==r?r:F(),resourceId:u,storyId:s,title:l,start:null!==d&&void 0!==d?d:(new Date).toISOString(),end:null!==i&&void 0!==i?i:(new Date).toISOString(),extendedProps:{calendarId:t,storyId:s,resourceId:u}}},q=r(9),Q=function(e){var n,r=null!==e&&void 0!==e?e:{},t=r.id,a=r.calendarId,o=r.storyId;return n={id:null!==t&&void 0!==t?t:F(),calendarId:null!==a&&void 0!==a?a:F()},Object(q.a)(n,Y,null!==o&&void 0!==o?o:F()),Object(q.a)(n,V,1),Object(q.a)(n,H,"Field1"),Object(q.a)(n,G,"Field2"),n},X=function(e){return"from "+(n=e.toISOString(),K(n).replace(/-[0-9][0-9]$/,""));var n},Z="#00008b",ee="VISA",ne="STATUS",re=(T={},Object(q.a)(T,H,ee),Object(q.a)(T,G,"Study VISA"),Object(q.a)(T,"eventBorderColor",Z),T),te=(_={},Object(q.a)(_,H,ee),Object(q.a)(_,G,"Co-op VISA"),Object(q.a)(_,"eventBorderColor",Z),_),ae=(A={},Object(q.a)(A,H,ee),Object(q.a)(A,G,"Working Holiday VISA"),Object(q.a)(A,"eventBorderColor",Z),A),oe=(N={},Object(q.a)(N,H,ne),Object(q.a)(N,G,"Student"),Object(q.a)(N,"eventBorderColor",Z),N),ce=(B={},Object(q.a)(B,H,ne),Object(q.a)(B,G,"Worker"),Object(q.a)(B,"eventBorderColor",Z),B),de=function(e){var n,r,t=e.calendarId,a=e.storyId;return[(n={id:z},Object(q.a)(n,H,""),Object(q.a)(n,G,"Age"),Object(q.a)(n,Y,a),Object(q.a)(n,V,0),Object(q.a)(n,"calendarId",t),Object(q.a)(n,"eventBorderColor",Z),n),(r={id:J},Object(q.a)(r,H,""),Object(q.a)(r,G,"Working Holiday Application Limit"),Object(q.a)(r,Y,a),Object(q.a)(r,V,1),Object(q.a)(r,"calendarId",t),Object(q.a)(r,"eventBorderColor",Z),r)]},ie=r(19),se=r(57),ue=r(91),le=function(e){var n=e.startDate,r=e.storyId,t=e.calendarId,a=function(e,n){for(var r=[],t=e;t<=n;t++)r.push(t);return r}(new Date(n).getFullYear(),be()),o=fe(n,r,t),c=a.map((function(e,a){var o=function(){n.setFullYear(e);var r=n.toISOString();return K(r)}(),c=Object(se.a)(new Date(o),11).toISOString(),d=K(c);return{id:F(),title:"Aage:".concat(a),start:o,end:d,storyId:r,resourceId:z,extendedProps:{resourceId:z,calendarId:t,storyId:r}}}));return[].concat(Object(ie.a)(o),Object(ie.a)(c))},be=function(){var e=new Date;return Object(y.a)(e,10).getFullYear()},fe=function(e,n,r){var t=Object(y.a)(e,31),a=K(e.toISOString()),o=Object(se.a)(t,11),c=K(o.toISOString()),d=K(Object(y.a)(Object(ue.a)(o,6),-1).toISOString());return[{id:F(),title:"Limitation till WorkingHoliday",start:a,end:c,resourceId:J,storyId:n,extendedProps:{resourceId:J,storyId:n,calendarId:r}},{id:F(),title:"Application Limit",start:a,end:d,storyId:n,resourceId:J,extendedProps:{storyId:n,resourceId:J,calendarId:r}}]},je=Object(h.b)({name:"userCalendars",initialState:{calendars:[]},reducers:{updateCalendars:function(e,n){var r=n.payload.calendars;e.calendars=r},pushResource:function(e,n){var r=n.payload,t=r.calendarId,a=r.storyId,o=r.resource,c=e.calendars.findIndex((function(e){return e.id===t}));if(-1===c)console.warn("cannot find calendar on updateResource",t);else{var d=e.calendars[c].stories.findIndex((function(e){return e.id===a}));-1===d?console.warn("cannot find story on updateResource",t):e.calendars[c].stories[d].resources.push(o)}},updateResource:function(e,n){var r=n.payload,t=r.calendarId,a=r.storyId,o=r.newResource,c=e.calendars.findIndex((function(e){return e.id===t}));if(-1===c)console.warn("cannot find calendar on updateResource",t);else{var d=e.calendars[c].stories.findIndex((function(e){return e.id===a}));if(-1===d)console.warn("cannot find story on updateResource",t);else{var i=e.calendars[c].stories[d].resources.findIndex((function(e){return e.id===o.id}));-1===i?console.warn("cannot find resource on updateResource",t):e.calendars[c].stories[d].resources[i]=o}}},removeResource:function(e,n){var r=n.payload,t=r.calendarId,a=r.resourceId,o=r.storyId,c=e.calendars.findIndex((function(e){return e.id===t}));if(-1===c)console.warn("cannot find calendar on removeResource",t);else{var d=e.calendars[c].stories.findIndex((function(e){return e.id===o}));-1===d?console.warn("cannot find story on removeResource",t):e.calendars[c].stories[d].resources=e.calendars[c].stories[d].resources.filter((function(e){return e.id!==a}))}},addStory:function(e,n){var r=n.payload,t=r.calendarId,a=r.story,o=e.calendars.findIndex((function(e){return e.id===t}));-1===o?console.warn("cannot find calendar on addStory",t):e.calendars[o].stories.push(a)},removeStory:function(e,n){var r=n.payload,t=r.calendarId,a=r.storyId,o=e.calendars.findIndex((function(e){return e.id===t}));-1===o?console.warn("cannot find calendar on removeStory",t):e.calendars[o].stories=e.calendars[o].stories.filter((function(e){return e.id!==a}))},updateStory:function(e,n){var r=n.payload,t=r.calendarId,a=r.storyId,o=r.newStory,c=e.calendars.findIndex((function(e){return e.id===t}));if(-1===c)console.warn("cannot find calendar on updateStory",t);else{var d=e.calendars[c].stories.findIndex((function(e){return e.id===a}));-1===d?console.warn("cannot find story on updateStory",t):e.calendars[c].stories[d]=o}},addEvent:function(e,n){var r=n.payload,t=r.calendarId,a=r.storyId,o=r.event,c=e.calendars.findIndex((function(e){return e.id===t}));if(-1===c)console.warn("cannot find calendar on addEvent",t);else{var d=e.calendars[c].stories.findIndex((function(e){return e.id===a}));-1===d?console.warn("cannot find story on addEvent",t):e.calendars[c].stories[d].events.push(o)}},removeEvent:function(e,n){var r=n.payload,t=r.calendarId,a=r.storyId,o=r.eventId,c=e.calendars.findIndex((function(e){return e.id===t}));if(-1===c)console.warn("cannot find calendar on removeEvent",t);else{var d=e.calendars[c].stories.findIndex((function(e){return e.id===a}));-1===d?console.warn("cannot find story on removeEvent",d):e.calendars[c].stories[d].events=e.calendars[c].stories[d].events.filter((function(e){return e.id!==o}))}},updateEvent:function(e,n){var r=n.payload,t=r.calendarId,a=r.storyId,o=r.eventId,c=r.newEvent,d=e.calendars.findIndex((function(e){return e.id===t}));if(-1===d)console.warn("cannot find calendar on updateStory",t);else{var i=e.calendars[d].stories.findIndex((function(e){return e.id===a}));if(-1===i)console.warn("cannot find story on updateStory",t);else{var s=e.calendars[d].stories[i].events.findIndex((function(e){return e.id===o}));-1===s?console.warn("cannot find event on updateEvent"):e.calendars[d].stories[i].events[s]=c}}}}}),ve=je.actions,Oe=ve.updateCalendars,Ie=ve.pushResource,pe=ve.updateResource,he=ve.removeResource,ye=ve.addStory,me=ve.removeStory,ge=ve.updateStory,xe=ve.addEvent,Ce=ve.removeEvent,ke=ve.updateEvent,Se=je.reducer,we=function(e){return e.features.userCalendars.calendars[0]},Ee=function(){var e=Object(p.b)(),n=Object(p.c)(we),r=o.a.useCallback((function(n){var r,t=U,a=function(e){var n=e.birth,r=e.calendarId,t=new Date(n),a="PROFILE_ID";return{id:a,calendarId:r,name:X(t),resources:de({calendarId:r,storyId:a}),events:le({calendarId:r,storyId:a,startDate:t})}}({birth:n,calendarId:t}),o={id:(r={id:t,stories:[a]}).id,stories:r.stories};e(Oe({calendars:[o]}))}),[e]),t=o.a.useCallback((function(n){if(n.resource){var r=n.resource.extendedProps.storyId;if(r){var t=n.resource.extendedProps.calendarId;if(t){var a=$({id:F(),resourceId:n.resource.id,calendarId:t,storyId:r,start:n.startStr,end:n.endStr});e(xe({event:a,calendarId:t,storyId:r}))}else console.warn("Unexpected data not including calendarId.")}else console.warn("Unexpected data not including storyId.")}else console.warn("Unexpected data that info does not have resource.")}),[e]),a=o.a.useMemo((function(){var e;return null!==(e=null===n||void 0===n?void 0:n.stories)&&void 0!==e?e:[]}),[n]),c=o.a.useMemo((function(){var e;return null!==(e=null===n||void 0===n?void 0:n.stories.flatMap((function(e){return e.events})))&&void 0!==e?e:[]}),[n]),d=o.a.useMemo((function(){var e;return null!==(e=null===n||void 0===n?void 0:n.stories.flatMap((function(e){return e.resources})))&&void 0!==e?e:[]}),[n]);return{calendar:n,stories:a,events:c,resources:d,init:r,select:t}},Me=function(){var e=Object(p.b)();return{remove:o.a.useCallback((function(n){var r=n.calendarId,t=n.storyId;window.confirm("Do you remove this story?")&&e(me({storyId:t,calendarId:r}))}),[e]),update:o.a.useCallback((function(n,r,t){var a=function(e,n){return Object(P.a)(Object(P.a)({},e),n)}(r,t);e(ge(Object(P.a)(Object(P.a)({},n),{},{newStory:a})))}),[e]),create:o.a.useCallback((function(n,r){var t=n.calendarId,a=function(e){var n=null!==e&&void 0!==e?e:{},r=n.id,t=n.calendarId,a=n.events,o=n.resources,c=n.name,d=null!==r&&void 0!==r?r:F(),i=null!==t&&void 0!==t?t:F(),s=F();return{id:d,calendarId:i,events:null!==a&&void 0!==a?a:[$({id:s,storyId:d})],resources:null!==o&&void 0!==o?o:[Q({calendarId:i,storyId:d})],name:null!==c&&void 0!==c?c:"No Name"}}({calendarId:t});e(ye({calendarId:t,story:a}))}),[e])}},De=r(93),Le=r(90),Re=r(87),Pe=r(88),We="MY_TIME_LINE_NAME",Fe={left:"today prev,next",center:"title",right:"".concat(We,",listMonth")},Te={initialView:We},_e={resourceGroupField:Y},Ae=Object(q.a)({},We,{type:"resourceTimelineYear",duration:{year:15},buttonText:"TIME_LINE"}),Ne={resourceOrder:V,resourcesInitiallyExpanded:!1},Be=Object(P.a)(Object(P.a)(Object(P.a)(Object(P.a)(Object(P.a)({views:Ae,headerToolbar:Fe,slotLabelFormat:[{year:"numeric"},{month:"numeric"}]},Te),_e),{schedulerLicenseKey:"GPL-My-Project-Is-Open-Source"}),{nowIndicator:!0}),Ne);function He(e){return Object(t.jsx)(De.a,Object(P.a)(Object(P.a)({},Be),{},{plugins:[Pe.a,Le.a,Re.a]},e))}function Ge(e){return Object(t.jsx)(He,Object(P.a)(Object(P.a)({},e),{}))}var Ye=Object(h.b)({name:"resourceModal",initialState:{resource:null},reducers:{push:function(e,n){var r=n.payload;e.resource=r},pop:function(e,n){e.resource=null}}}),Ve=function(e){return!!e.ui.resourceModal.resource},Ue=function(e){return e.ui.resourceModal.resource},ze=function(e){var n=e.ui.resourceModal.resource;if(!n)return null;var r=n.calendarId,t=n.storyId,a=n.resourceId,o=e.features.userCalendars.calendars.findIndex((function(e){return e.id===r}));if(-1===o)console.warn("cannot find calendar on removeResource",r);else{var c=e.features.userCalendars.calendars[o].stories.findIndex((function(e){return e.id===t}));if(!(-1===c))return e.features.userCalendars.calendars[o].stories[c].resources.find((function(e){return e.id===a}));console.warn("cannot find story on removeResource",r)}},Je=Ye.actions,Ke=Je.push,$e=Je.pop,qe=Ye.reducer,Qe=Object(h.b)({name:"storyModal",initialState:{story:null},reducers:{push:function(e,n){var r=n.payload;e.story=r},pop:function(e,n){e.story=null}}}),Xe=function(e){return!!e.ui.storyModal.story},Ze=function(e){return e.ui.storyModal.story},en=function(e){var n=e.ui.storyModal.story;if(!n)return null;var r=n.calendarId,t=n.storyId,a=e.features.userCalendars.calendars.findIndex((function(e){return e.id===r}));if(-1!==a)return e.features.userCalendars.calendars[a].stories.find((function(e){return e.id===t}));console.warn("cannot find calendar on removeStory",r)},nn=Qe.actions,rn=nn.push,tn=nn.pop,an=Qe.reducer,on=Object(h.b)({name:"eventModal",initialState:{event:null},reducers:{push:function(e,n){var r=n.payload;e.event=r},pop:function(e,n){e.event=null}}}),cn=function(e){return!!e.ui.eventModal.event},dn=function(e){return e.ui.eventModal.event},sn=function(e){var n=e.ui.eventModal.event;if(!n)return null;var r=n.calendarId,t=n.storyId,a=n.eventId,o=e.features.userCalendars.calendars.findIndex((function(e){return e.id===r}));if(-1===o)console.warn("cannot find calendar on removeResource",r);else{var c=e.features.userCalendars.calendars[o].stories.findIndex((function(e){return e.id===t}));if(!(-1===c))return e.features.userCalendars.calendars[o].stories[c].events.find((function(e){return e.id===a}));console.warn("cannot find story on removeResource",r)}},un=on.actions,ln=un.push,bn=un.pop,fn=on.reducer,jn=r(164),vn=r(160),On=r(53),In=function(){var e=Object(p.b)(),n=Object(p.c)(ze),r=Object(p.c)(we),t=o.a.useCallback((function(n){var t=n.calendarId,a=n.storyId,o=r.stories.findIndex((function(e){return e.id===a}));if(-1===o)console.warn("cannot find story on updateResource",t);else{for(var c=r.stories[o].resources,d={idx:-1,order:-1},i=0;i<c.length;i++){var s,u=null!==(s=c[i].order)&&void 0!==s?s:-1;u>d.order&&(d={idx:i,order:u})}var l=Q({calendarId:t,storyId:a,order:d.order+1});e(Ie({calendarId:t,storyId:a,resource:l}))}}),[e,r]);return{remove:o.a.useCallback((function(n){var r=n.calendarId,t=n.resourceId,a=n.storyId;window.confirm("Do you remove this resource?")&&e(he({resourceId:t,storyId:a,calendarId:r}))}),[e]),update:o.a.useCallback((function(r,t){var a=r.calendarId,o=r.storyId;if(!n)return console.warn("Invalid data status when to update resource.");var c=function(e,n){var r=n.order,t=n.FIELD1,a=n.FIELD2;return Object.assign(Object(P.a)({},e),void 0!==r&&Object(q.a)({},"order",r),void 0!==t&&Object(q.a)({},"FIELD1",t),void 0!==a&&Object(q.a)({},"FIELD2",a))}(n,t);e(pe({calendarId:a,storyId:o,newResource:c}))}),[e,n]),push:t}};function pn(e){var n,r,a=e.isOpen,c=e.onClose,d=Object(p.c)(Ue),i=Object(p.c)(ze),s=null!==(n=i&&i.FIELD1)&&void 0!==n?n:"",u=null!==(r=i&&i.FIELD2)&&void 0!==r?r:"",l=In(),b=l.remove,f=l.update,j=o.a.useCallback((function(){if(!d)return console.warn("Invalid data status when to update resource.");b(d),c()}),[d,b,c]),v=o.a.useCallback((function(e){if(!d)return console.warn("Invalid data status when to remove resource.");f(d,e),c()}),[d,f,c]),O=Object(On.a)(),I=O.register,h=O.handleSubmit;return Object(t.jsxs)(R.a,{onClose:c,open:a,children:[Object(t.jsx)(jn.a,{children:"Resource"}),Object(t.jsxs)(vn.a,{dividers:!0,children:[Object(t.jsxs)("form",{onSubmit:h(v),children:[Object(t.jsx)("input",{ref:I,name:H,defaultValue:s}),Object(t.jsx)("input",{ref:I,name:G,defaultValue:u}),Object(t.jsx)("input",{type:"submit",value:"Update"})]}),Object(t.jsx)("hr",{}),Object(t.jsx)("button",{onClick:j,children:"Remove"})]})]})}function hn(e){var n=e.isOpen,r=e.onClose,a=Object(p.c)(Ze),c=Object(p.c)(en),d=Me(),i=d.remove,s=d.update,u=In().push,l=o.a.useCallback((function(){if(!a)return console.warn("Invalid data status when to update resource.");i(a),r()}),[a,i,r]),b=o.a.useCallback((function(){if(!a)return console.warn("Invalid data status when to add resource.");u(a),r()}),[a,u,r]),f=Object(On.a)(),j=f.register,v=f.handleSubmit,O=o.a.useCallback((function(e){if(!a||!c)return console.warn("Invalid data status when to update story.");s(a,c,e),r()}),[s,a,c,r]);return Object(t.jsxs)(R.a,{onClose:r,open:n,children:[Object(t.jsx)(jn.a,{children:"Resource"}),Object(t.jsxs)(vn.a,{dividers:!0,children:[Object(t.jsxs)("form",{onSubmit:v(O),children:[Object(t.jsx)("input",{ref:j,name:"name",defaultValue:null===c||void 0===c?void 0:c.name}),Object(t.jsx)("input",{type:"submit",value:"rename"})]}),Object(t.jsx)("button",{onClick:l,children:"remove"}),Object(t.jsx)("button",{onClick:b,children:"add resource"})]})]})}var yn=function(){var e=Object(p.b)();return{remove:o.a.useCallback((function(n){var r=n.calendarId,t=n.storyId,a=n.eventId;window.confirm("Do you remove this story?")&&e(Ce({calendarId:r,storyId:t,eventId:a}))}),[e]),update:o.a.useCallback((function(n,r,t){var a=function(e,n){var r=n.title;return Object.assign(Object(P.a)({},e),void 0!==r&&{title:r})}(r,t);e(ke(Object(P.a)(Object(P.a)({},n),{},{newEvent:a})))}),[e])}};function mn(e){var n=e.isOpen,r=e.onClose,a=Object(p.c)(dn),c=Object(p.c)(sn),d=yn(),i=d.remove,s=d.update,u=o.a.useCallback((function(){if(!a)return console.warn("Invalid data status when to update event.");i(a),r()}),[a,i,r]),l=o.a.useCallback((function(e){if(!a||!c)return console.warn("Invalid data status when to remove event.");s(a,c,e),r()}),[a,c,s,r]),b=Object(On.a)(),f=b.register,j=b.handleSubmit;return Object(t.jsxs)(R.a,{onClose:r,open:n,children:[Object(t.jsx)(jn.a,{children:"Resource"}),Object(t.jsxs)(vn.a,{dividers:!0,children:[Object(t.jsxs)("form",{onSubmit:j(l),children:[Object(t.jsx)("input",{ref:f,name:"title",defaultValue:null===c||void 0===c?void 0:c.title}),Object(t.jsx)("input",{type:"submit",value:"rename"})]}),Object(t.jsx)("hr",{}),Object(t.jsx)("button",{onClick:u,children:"Remove"})]})]})}var gn={selectable:!0,editable:!0};function xn(){var e=function(){var e=Object(p.b)();return{push:o.a.useCallback((function(n){var r=n.resourceId,t=n.storyId,a=n.calendarId;e(Ke({calendarId:a,resourceId:r,storyId:t}))}),[e]),pop:o.a.useCallback((function(){e($e())}),[e]),isOpen:Object(p.c)(Ve)}}(),n=e.push,r=e.pop,a=e.isOpen,c=function(){var e=Object(p.b)();return{push:o.a.useCallback((function(n){var r=n.storyId,t=n.calendarId;e(rn({calendarId:t,storyId:r}))}),[e]),pop:o.a.useCallback((function(){e(tn())}),[e]),isOpen:Object(p.c)(Xe)}}(),d=c.push,i=c.pop,s=c.isOpen,u=function(){var e=Object(p.b)();return{push:o.a.useCallback((function(n){var r=n.eventId,t=n.storyId,a=n.calendarId;e(ln({calendarId:a,eventId:r,storyId:t}))}),[e]),pop:o.a.useCallback((function(){e(bn())}),[e]),isOpen:Object(p.c)(cn)}}(),l=u.pop,b=u.isOpen,f=E().birth,j=Object(p.b)(),v=function(e){var n=e.createOpenHandle,r=Object(p.c)(we);return{resourceGroupLabelContent:o.a.useCallback((function(e){var t=e.groupValue;if(r){var a=r.stories.find((function(e){return e.id===t}));if(a){var o;a.name?o=a.name:(console.warn("cannot find this story name",t),o="No Name");var c=n({calendarId:"MY_CALENDAR_ID",storyId:t}),d=document.createElement("i");d.innerHTML=o+" ";var i=document.createElement("button");return i.innerHTML="\ufe19",i.onclick=c,{domNodes:[d,i]}}console.warn("cannot find story",t)}}),[r,n])}}({createOpenHandle:o.a.useCallback((function(e){var n=e.calendarId,r=e.storyId;return function(){j(rn({calendarId:n,storyId:r})),d({calendarId:n,storyId:r})}}),[d,j])}).resourceGroupLabelContent,O=Ee(),I=O.events,h=O.resources,y=O.init,m=O.select,g=Me().create,x=U,C=o.a.useCallback((function(){return function(){return g({calendarId:x})}}),[g,x]),k=o.a.useCallback((function(e){var n=e.event.extendedProps.calendarId;if(!n)return console.warn("Invalid data. cannot find calendarId.");var r=e.event.id;if(!r)return console.warn("Invalid data. cannot find eventId.");var t=e.event.extendedProps.storyId;if(!t)return console.warn("Invalid data. cannot find storyId.");j(ln({calendarId:n,eventId:r,storyId:t}))}),[j]);o.a.useEffect((function(){y(f)}),[f,y]);var S=o.a.useMemo((function(){return[{field:H,headerContent:"Category"},{field:G,headerContent:"Event",cellContent:function(e){var r=e.resource.extendedProps,t=r.storyId;if(!t)return console.warn("Invalid data that extended props doesn't storyId.");var a=e.resource.id;if(!a)return console.warn("Invalid data that extended props doesn't resourceId.");var o=r.calendarId;if(!o)return console.warn("Invalid data that extended props doesn't calendarId.");var c=e.fieldValue;c+="!!!";var d=document.createElement("div"),i=document.createElement("button");i.innerHTML="\ufe19",i.onclick=function(){return n({calendarId:o,storyId:t,resourceId:a})},d.appendChild(i);var s=document.createElement("span");return s.innerHTML=c,d.appendChild(s),{domNodes:[d]}}}]}),[n]);return Object(t.jsxs)(t.Fragment,{children:[Object(t.jsxs)("div",{children:[Object(t.jsx)(Ge,Object(P.a)({events:I,resources:h,select:m,eventClick:k,initialDate:"2020-06-01",resourceGroupLabelContent:v,resourceAreaColumns:S},gn)),Object(t.jsx)("button",{onClick:C,children:"story:add"})]}),Object(t.jsx)(pn,{isOpen:a,onClose:r}),Object(t.jsx)(hn,{isOpen:s,onClose:i}),Object(t.jsx)(mn,{isOpen:b,onClose:l})]})}var Cn="COMMUNITY_COLLEGE";var kn=r(37),Sn="#8fbc8b",wn="#ffd700",En=function(e){var n,r,t,a,o,c,d=e.calendarId,i=e.storyId,s=e.startDate,u=e.canWorkingholiday,l=[],b=[],f=F();l.push(Object(P.a)(Object(P.a)({},te),{},(o={id:f,calendarId:d},Object(q.a)(o,Y,i),Object(q.a)(o,V,1),o))),b.push((c={id:F(),resourceId:f,storyId:i,start:s.toISOString(),end:Object(se.a)(s,24).toISOString()},Object(q.a)(c,V,1),Object(q.a)(c,"backgroundColor",Sn),Object(q.a)(c,"extendedProps",{resourceId:f,calendarId:d,storyId:i}),c));var j=F();if(l.push(Object(P.a)(Object(P.a)({},re),{},(n={id:j,calendarId:d},Object(q.a)(n,Y,i),Object(q.a)(n,V,2),n))),b.push((r={id:F(),resourceId:j,storyId:i,start:s.toISOString(),end:Object(se.a)(s,24).toISOString()},Object(q.a)(r,V,2),Object(q.a)(r,"backgroundColor",Sn),Object(q.a)(r,"extendedProps",{resourceId:j,calendarId:d,storyId:i}),r)),u){var v,O,I,p,h,m=F();l.push(Object(P.a)(Object(P.a)({},ae),{},(v={id:m,calendarId:d},Object(q.a)(v,Y,i),Object(q.a)(v,V,3),v)));var g=Object(se.a)(s,24);b.push((O={id:F(),resourceId:m,storyId:i,start:g.toISOString(),end:Object(se.a)(g,12).toISOString()},Object(q.a)(O,V,3),Object(q.a)(O,"backgroundColor",Sn),Object(q.a)(O,"extendedProps",{resourceId:m,calendarId:d,storyId:i}),O)),b.push((I={id:F(),resourceId:m,storyId:i,start:Object(ue.a)(Object(y.a)(g,-1),8).toISOString(),end:g.toISOString()},Object(q.a)(I,V,3),Object(q.a)(I,"backgroundColor","#e73758"),Object(q.a)(I,"extendedProps",{resourceId:m,calendarId:d,storyId:i}),I));var x=F();l.push(Object(P.a)(Object(P.a)({},ce),{},(p={id:x,calendarId:d},Object(q.a)(p,Y,i),Object(q.a)(p,V,5),p))),b.push((h={id:F(),resourceId:x,storyId:i,start:Object(se.a)(s,12).toISOString(),end:Object(se.a)(s,36).toISOString()},Object(q.a)(h,V,5),Object(q.a)(h,"eventBackgroundCoor",wn),Object(q.a)(h,"extendedProps",{resourceId:x,calendarId:d,storyId:i}),h))}var C=F();return l.push(Object(P.a)(Object(P.a)({},oe),{},(t={id:C,calendarId:d},Object(q.a)(t,Y,i),Object(q.a)(t,V,4),t))),b.push((a={id:F(),resourceId:C,storyId:i,start:s.toISOString(),end:Object(se.a)(s,24).toISOString()},Object(q.a)(a,V,4),Object(q.a)(a,"eventBackgroundCoor",wn),Object(q.a)(a,"extendedProps",{resourceId:C,calendarId:d,storyId:i}),a)),[[].concat(l),[].concat(b)]},Mn=[1,5,9],Dn=function(e,n,r){for(var t=[e],a=e;a<n;)t.push(a+=r||1);return t}(21,31),Ln=function(e){var n=e.birth,r=e.calendarId,t=e.canWorkingholiday;return Dn.map((function(e){return Object(y.a)(n,e)})).flatMap((function(e){return Mn.map((function(n){return Object(se.a)(e,n)}))})).map((function(e){return function(e){var n=e.startDate,r=e.calendarId,t=e.canWorkingholiday,a=F(),o=X(n),c=En({calendarId:r,storyId:a,startDate:n,canWorkingholiday:t}),d=Object(kn.a)(c,2),i=d[0];return{id:a,calendarId:r,name:o,events:d[1],resources:i}}({startDate:e,calendarId:r,canWorkingholiday:t})}))},Rn=Object(h.b)({name:"templateCalendarTable",initialState:Object(q.a)({},Cn,void 0),reducers:{upsertCommunityCollegeStories:function(e,n){var r=n.payload,t=r.birth,a=r.canWorkingholiday,o=function(e){var n=e.birth,r=e.canWorkingholiday,t=Ln({birth:n,calendarId:Cn,canWorkingholiday:r});return{id:Cn,stories:t}}({birth:new Date(t),canWorkingholiday:a});e.COMMUNITY_COLLEGE=o}}}),Pn=Rn.reducer,Wn=Rn.actions.upsertCommunityCollegeStories,Fn=function(e){return e.features.templateCalendar.COMMUNITY_COLLEGE},Tn={selectable:!1,editable:!1},_n=[{field:H,headerContent:"Category"},{field:G,headerContent:"Event"}];function An(){var e=Object(p.b)(),n=E(),r=n.birth,a=n.canWorkingholiday,c=function(){var e=Object(p.b)(),n=o.a.useCallback((function(n){var r=n.birth,t=n.canWorkingholiday;e(Wn({birth:r,canWorkingholiday:t}))}),[e]),r=Object(p.c)(Fn),t=o.a.useMemo((function(){var e;return null!==(e=null===r||void 0===r?void 0:r.stories)&&void 0!==e?e:[]}),[r]),a=o.a.useMemo((function(){return t.reduce((function(e,n){return[].concat(Object(ie.a)(e),Object(ie.a)(n.resources))}),[])}),[t]),c=o.a.useMemo((function(){return t.reduce((function(e,n){return[].concat(Object(ie.a)(e),Object(ie.a)(n.events))}),[])}),[t]);return{stories:t,generate:n,resources:a,events:c}}(),d=c.resources,i=c.events,s=c.generate,u=function(e){var n=e.createClickHandel,r=Object(p.c)(Fn);return{resourceGroupLabelContent:o.a.useCallback((function(e){var t=e.groupValue;if(r){var a=r.stories.find((function(e){return e.id===t}));if(a){var o;a.name?o=a.name:(console.warn("cannot find this story name",t),o="No Name");var c=n({calendarId:U,story:a}),d=document.createElement("i");d.innerHTML=o+" ";var i=document.createElement("button");return i.innerHTML="copy",i.onclick=c,{domNodes:[d,i]}}console.warn("cannot find story",t)}}),[r,n])}}({createClickHandel:o.a.useCallback((function(n){var r=n.story,t=n.calendarId;return function(){window.confirm("Copy to my calendar?")&&e(ye({calendarId:t,story:r}))}}),[e])}).resourceGroupLabelContent;return o.a.useEffect((function(){s({birth:r,canWorkingholiday:a})}),[s,r,a]),Object(t.jsx)(Ge,Object(P.a)({events:i,resources:d,initialDate:"2020-06-01",resourceGroupLabelContent:u,resourceAreaColumns:_n},Tn))}var Nn=function(e){var n=o.a.useState(!!e),r=Object(kn.a)(n,2),t=r[0],a=r[1];return{isOpen:t,open:o.a.useCallback((function(){a(!0)}),[]),close:o.a.useCallback((function(){a(!1)}),[]),toggle:o.a.useCallback((function(){a((function(e){return!e}))}),[])}};function Bn(){var e=Object(l.a)(["\n  display: grid;\n  gap: 1rem;\n"]);return Bn=function(){return e},e}function Hn(){var e=Nn(),n=e.open,r=e.close,a=e.isOpen;return Object(t.jsxs)(t.Fragment,{children:[Object(t.jsxs)(Gn,{children:[Object(t.jsxs)("div",{children:[Object(t.jsx)("h2",{children:"Templates"}),Object(t.jsx)("button",{onClick:n,children:"Private College"}),Object(t.jsx)("button",{children:"TODO: Public College"}),Object(t.jsx)("button",{children:"TODO: ESL"})]}),Object(t.jsx)("hr",{}),Object(t.jsxs)("div",{children:[Object(t.jsx)("h2",{children:"User Calendar"}),Object(t.jsx)(xn,{})]})]}),Object(t.jsxs)(R.a,{fullScreen:!0,open:a,onClose:r,children:[Object(t.jsx)("button",{onClick:r,children:"Close"}),Object(t.jsx)(An,{})]})]})}var Gn=b.a.div(Bn());function Yn(){var e=Object(l.a)(["\n  display: inline-block;\n  height: 100%;\n  object-fit: contain;\n  background: white;\n  padding: .3rem;\n"]);return Yn=function(){return e},e}function Vn(){return Object(t.jsx)(Un,{src:"/logo457_transparent.png",alt:"img"})}var Un=b.a.img(Yn());function zn(){var e=Object(l.a)(["\n  display: flex;\n  color: white;\n  font-size: 4rem;\n"]);return zn=function(){return e},e}function Jn(){var e=Object(l.a)(["\n  height: 4rem;\n  width: 4rem;\n"]);return Jn=function(){return e},e}function Kn(){var e=Object(l.a)(["\n  padding: 5rem;\n  min-height: 30vh;\n  background: var(--main-color);\n  color: white;\n"]);return Kn=function(){return e},e}function $n(){return Object(t.jsxs)(qn,{children:[Object(t.jsxs)(Xn,{children:[Object(t.jsx)(Qn,{children:Object(t.jsx)(Vn,{})}),Object(t.jsx)("span",{children:"Plangoab"})]}),Object(t.jsx)("a",{href:"https://github.com/snamiki1212/canada-immigration-scheduler",target:"_blank",rel:"noreferrer",children:"Github"})]})}var qn=b.a.div(Kn()),Qn=b.a.div(Jn()),Xn=b.a.div(zn()),Zn=r(161),er=r(130);function nr(e){var n=e.isOpen,r=e.onClose;return Object(t.jsxs)(R.a,{onClose:r,open:n,children:[Object(t.jsx)(jn.a,{children:"About Plangoab"}),Object(t.jsxs)(vn.a,{dividers:!0,children:[Object(t.jsx)(er.a,{children:"this is content"}),Object(t.jsx)(er.a,{children:"this is content"})]})]})}function rr(){var e=Object(l.a)(["\n  margin-left: auto;\n"]);return rr=function(){return e},e}function tr(){var e=Object(l.a)(["\n  color: white;\n  font-size: 3rem;\n  padding: 1rem;\n"]);return tr=function(){return e},e}function ar(){var e=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  height: 6rem;\n  background: var(--main-color);\n  padding: 1rem;\n"]);return ar=function(){return e},e}function or(){var e=Nn(),n=e.isOpen,r=e.open,a=e.close;return Object(t.jsxs)(t.Fragment,{children:[Object(t.jsxs)(cr,{children:[Object(t.jsx)(Vn,{}),Object(t.jsx)(dr,{children:"Plangoab"}),Object(t.jsx)(ir,{children:Object(t.jsx)(Zn.a,{onClick:r,children:"About Plangoab"})})]}),Object(t.jsx)(nr,{isOpen:n,onClose:a})]})}var cr=b.a.div(ar()),dr=b.a.span(tr()),ir=b.a.div(rr());function sr(){var e=Object(l.a)(["\n  padding: 0 3rem;\n  display: grid;\n  gap: 5rem;\n"]);return sr=function(){return e},e}function ur(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n"]);return ur=function(){return e},e}function lr(){return Object(t.jsxs)(br,{children:[Object(t.jsx)(or,{}),Object(t.jsxs)(fr,{children:[Object(t.jsx)(D,{}),Object(t.jsx)(Hn,{})]}),Object(t.jsx)($n,{})]})}var br=b.a.div(ur()),fr=b.a.div(sr());r(126),r(127);var jr=function(){return Object(t.jsx)("div",{className:"App",children:Object(t.jsx)(u,{children:Object(t.jsx)(lr,{})})})},vr=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,175)).then((function(n){var r=n.getCLS,t=n.getFID,a=n.getFCP,o=n.getLCP,c=n.getTTFB;r(e),t(e),a(e),o(e),c(e)}))},Or=r(33),Ir=Object(Or.c)({resourceModal:qe,storyModal:an,eventModal:fn}),pr=Object(Or.c)({templateCalendar:Pn,userCalendars:Se,user:S}),hr=Object(Or.c)({features:pr,ui:Ir});var yr=Object(h.a)({reducer:hr});function mr(e){var n=e.children;return Object(t.jsx)(p.a,{store:yr,children:n})}d.a.render(Object(t.jsx)(o.a.StrictMode,{children:Object(t.jsx)(mr,{children:Object(t.jsx)(jr,{})})}),document.getElementById("root")),vr()}},[[128,1,2]]]);
//# sourceMappingURL=main.197b6789.chunk.js.map